import{d as ie,r as o,l as H,m as ne,c as a,a as t,q as oe,e as m,b as S,w as P,T as z,t as r,f as G,F as Q,A as re,B as de,o as i,g as ue,s as Y,C as ce,v as J,D as N,E as v,u as U,n as pe,G as xe,H as fe}from"./index-BX6f1_Al.js";import{useAuth as be}from"./useAuth-faJPvffk.js";import{_ as me}from"./-plugin-vue-export-helper-DlAUqK2U.js";const ve={class:"min-h-screen pt-32 px-8 max-w-7xl mx-auto relative z-10"},ge={class:"flex flex-col md:flex-row md:items-end justify-between mb-20 gap-8 relative"},he={class:"relative"},we={key:0,class:"absolute right-0 top-0 w-[420px] bg-[#0d0d0d]/90 border border-white/10 rounded-[3rem] p-10 shadow-[0_50px_100px_rgba(0,0,0,0.9)] z-[100] backdrop-blur-3xl"},ye={class:"flex items-center justify-between mb-10"},ke={class:"space-y-8"},_e={class:"group/field"},De={class:"relative"},Ce={class:"group/field"},je={class:"relative"},Se=["disabled"],Pe={key:0,class:"fa-solid fa-plus-circle"},ze={key:1},Ne={key:2,class:"flex items-center justify-center gap-2"},Te={key:0,class:"flex flex-col items-center justify-center py-32 space-y-6"},Ae={key:1,class:"max-w-md mx-auto bg-red-500/5 border border-red-500/20 rounded-3xl p-10 text-center"},$e={class:"text-white/40 mb-8 text-sm leading-relaxed"},Ie={key:2,class:"flex flex-col items-center py-32 bg-white/[0.02] rounded-[3rem] border border-dashed border-white/10"},Fe={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12 pb-20"},Me={class:"relative aspect-[16/10] overflow-hidden"},Le={class:"absolute inset-0 z-30 flex items-center justify-center gap-6 bg-black/80 backdrop-blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500"},Ve=["onClick"],Ee=["onClick"],Ue={class:"absolute top-6 left-6 z-20"},Be={class:"px-3 py-1.5 rounded-xl bg-black/60 backdrop-blur-md border border-white/10 flex items-center gap-2"},Re={class:"text-[10px] font-black uppercase tracking-widest text-white/50"},qe={class:"p-10 flex-1 flex flex-col relative z-20"},Oe={class:"flex items-start justify-between mb-5"},We=["onClick"],Ke={class:"text-2xl font-extrabold text-white truncate hover:text-blue-500 transition-colors cursor-pointer tracking-tight leading-tight"},He={class:"text-sm text-white/30 line-clamp-2 mt-3 leading-relaxed h-11 font-medium tracking-tight"},Ge=["onClick"],Qe={class:"mt-auto pt-8 border-t border-white/[0.03] flex items-center justify-between"},Ye={class:"flex items-center gap-4"},Je={class:"w-10 h-10 rounded-2xl bg-white/5 border border-white/5 flex items-center justify-center text-[11px] font-black text-white/30 uppercase tracking-tighter"},Xe={class:"flex flex-col"},Ze={class:"text-xs text-white/40 font-bold tracking-tight"},et={class:"flex items-center gap-2.5"},tt={class:"flex flex-col items-end"},st={class:"text-[8px] text-white/10 font-bold uppercase tracking-widest"},lt={class:"text-[10px] font-black text-white/20 uppercase tracking-widest"},at={class:"flex flex-col gap-4 w-full max-w-[260px]"},it=["onClick"],nt=ie({__name:"SiteDashboard",setup(ot){const{user:u}=be(),_=ue(),g=o([]),D=o(!0),h=o(!1),T=o(!1),C=o(null),c=o(!1),p=o(null),d=o({title:"",description:""}),A=["Quantum Leap into Visual Intelligence","Synchronizing Intuition with Silicon Logic","The Narrative Architecture of Tomorrow","Orchestrating the Singularity of Design","Ethereal Landscapes of Digital Thought","Transcending the Boundaries of Content","A Manifesto on Future Experiences"],$=["Synthesizing multi-dimensional data into a seamless cognitive flow...","A deep dive into the next generation of visual storytelling.","Mapping the trajectory of decentralized intelligence.","The algorithmic pursuit of aesthetic perfection and clarity.","Redefining the relationship between information and focus.","An exploration of generative systems in the era of liquidity."],I=o(0),F=o(0),M=o(A[0]),L=o($[0]);let V=null;const X=()=>{I.value=(I.value+1)%A.length,F.value=(F.value+1)%$.length,M.value=A[I.value],L.value=$[F.value]};H(c,l=>{l?V=setInterval(X,3500):V&&clearInterval(V)});const Z=l=>{l&&(C.value=l)},ee=async l=>{if(!(!l||!u.value)){T.value=!0;try{await xe(l),g.value=g.value.filter(e=>e.meta.id!==l),C.value=null}catch(e){console.error("Failed to delete deck:",e),p.value="Failed to delete presentation."}finally{T.value=!1}}},E=async()=>{if(u.value){D.value=!0,p.value=null;try{g.value=await de(u.value.uid)}catch(l){console.error("Failed to fetch decks:",l),p.value="Failed to load your decks. Please try again."}finally{D.value=!1}}};H(u,l=>{l?E():D.value=!1},{immediate:!0});const B=async()=>{if(!u.value||!d.value.title)return;h.value=!0,p.value=null;const l={meta:{title:d.value.title,description:d.value.description,authorId:u.value.uid,authorName:u.value.displayName||"Anonymous",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isPublic:!1,version:"1.0"},slides:[{type:"statement",title:"Hello World",subtitle:"Welcome to your new presentation."}]};try{const e=await fe(l,u.value.uid,u.value.displayName||"User");d.value={title:"",description:""},c.value=!1,_.push({name:"studio",params:{id:e}})}catch(e){console.error("Failed to create deck:",e),p.value="Failed to create new deck."}finally{h.value=!1}},te=l=>l?new Date(l).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown date",j=l=>{var y,k;const e=l.theme;if(typeof e=="object"&&((y=e==null?void 0:e.colors)!=null&&y.primary))return e.colors.primary;const s=["#6366f1","#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981"],w=((k=l.meta)==null?void 0:k.title)||"Lumina";let x=0;for(let f=0;f<w.length;f++)x=w.charCodeAt(f)+((x<<5)-x);return s[Math.abs(x)%s.length]},se=l=>{const e=j(l);return{backgroundImage:`
            radial-gradient(circle at 20% 30%, ${e}66, transparent 70%),
            radial-gradient(circle at 80% 70%, ${e}33, transparent 70%),
            linear-gradient(135deg, #0f172a 0%, #000000 100%)
        `}},le=l=>({"--accent-glow":`${j(l)}15`}),ae=l=>{var s;const e=((s=l.slides)==null?void 0:s.length)||0;return Math.max(1,Math.ceil(e*.5))};return ne(()=>{u.value&&E()}),(l,e)=>(i(),a(Q,null,[e[31]||(e[31]=t("div",{class:"fixed inset-0 pointer-events-none overflow-hidden z-0"},[t("div",{class:"absolute -top-[20%] -left-[10%] w-[60%] h-[60%] bg-blue-600/5 blur-[120px] rounded-full animate-pulse-soft"}),t("div",{class:"absolute -bottom-[20%] -right-[10%] w-[50%] h-[50%] bg-indigo-600/5 blur-[120px] rounded-full animate-pulse-soft",style:{"animation-delay":"1.5s"}})],-1)),t("div",ve,[t("div",ge,[e[13]||(e[13]=oe('<div data-v-5f90251b><div class="flex items-center gap-3 mb-6" data-v-5f90251b><div class="w-10 h-10 rounded-2xl bg-blue-600/20 flex items-center justify-center text-blue-500 border border-blue-500/10" data-v-5f90251b><i class="fa-solid fa-layer-group text-sm" data-v-5f90251b></i></div><span class="text-[11px] font-black text-blue-500 uppercase tracking-[0.4em] leading-none" data-v-5f90251b>Workspace</span></div><h2 class="text-6xl font-[800] tracking-[-0.04em] text-white mb-6 leading-[0.9]" data-v-5f90251b> My Presentations </h2><p class="text-white/40 text-xl font-medium max-w-xl leading-relaxed tracking-tight" data-v-5f90251b>Design, present, and collaborate with Lumina Engine.</p></div>',1)),t("div",he,[c.value?m("",!0):(i(),a("button",{key:0,onClick:e[0]||(e[0]=s=>c.value=!0),class:"group relative px-10 py-5 rounded-[2rem] bg-white text-black font-black hover:scale-105 active:scale-95 transition-all duration-500 flex items-center gap-4 shadow-[0_30px_60px_-15px_rgba(255,255,255,0.3)] overflow-hidden"},[...e[7]||(e[7]=[t("div",{class:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"},null,-1),t("i",{class:"fa-solid fa-plus-circle text-xl"},null,-1),t("span",{class:"tracking-tight text-lg"},"New Presentation",-1)])])),S(z,{name:"spring-pop"},{default:P(()=>[c.value?(i(),a("div",we,[t("div",ye,[e[9]||(e[9]=t("div",null,[t("h4",{class:"text-2xl font-black tracking-tight uppercase mb-1"},"New Presentation"),t("div",{class:"h-1 w-12 bg-blue-600 rounded-full"})],-1)),t("button",{onClick:e[1]||(e[1]=s=>c.value=!1),class:"w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-white/20 hover:text-white hover:bg-white/10 transition"},[...e[8]||(e[8]=[t("i",{class:"fa-solid fa-xmark"},null,-1)])])]),t("div",ke,[t("div",_e,[e[10]||(e[10]=t("div",{class:"flex justify-between items-end mb-3 px-1"},[t("label",{class:"text-[10px] font-black text-white/20 uppercase tracking-[0.3em] group-focus-within/field:text-blue-500 transition"},"Display Title"),t("span",{class:"text-[9px] text-white/10 font-bold uppercase"},"Required")],-1)),t("div",De,[Y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>d.value.title=s),type:"text",class:"w-full bg-white/[0.03] border border-white/5 rounded-2xl px-6 py-5 text-lg font-bold focus:border-blue-500 focus:bg-white/5 outline-none transition-all duration-500 shadow-inner",onKeyup:ce(B,["enter"])},null,544),[[J,d.value.title]]),S(z,{name:"placeholder-slide"},{default:P(()=>[d.value.title?m("",!0):(i(),a("span",{key:M.value,class:"absolute left-6 top-1/2 -translate-y-1/2 text-lg font-bold text-white/10 pointer-events-none select-none"},r(M.value),1))]),_:1})])]),t("div",Ce,[e[11]||(e[11]=t("label",{class:"block text-[10px] font-black text-white/20 uppercase tracking-[0.3em] mb-3 px-1"},"Summary",-1)),t("div",je,[Y(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>d.value.description=s),rows:"3",class:"w-full bg-white/[0.03] border border-white/5 rounded-2xl px-6 py-5 text-sm font-medium focus:border-blue-500 focus:bg-white/5 outline-none transition-all duration-500 resize-none shadow-inner"},null,512),[[J,d.value.description]]),S(z,{name:"placeholder-slide"},{default:P(()=>[d.value.description?m("",!0):(i(),a("span",{key:L.value,class:"absolute left-6 top-5 text-sm font-medium text-white/10 pointer-events-none select-none max-w-[calc(100%-3rem)]"},r(L.value),1))]),_:1})])]),t("button",{onClick:B,disabled:!d.value.title||h.value,class:"w-full py-6 rounded-[2rem] bg-blue-600 hover:bg-blue-500 disabled:opacity-20 disabled:grayscale text-white font-black text-lg transition-all duration-500 shadow-[0_20px_40px_-10px_rgba(37,99,235,0.4)] active:scale-[0.98] flex items-center justify-center gap-3"},[h.value?m("",!0):(i(),a("i",Pe)),h.value?(i(),a("span",Ne,[...e[12]||(e[12]=[t("i",{class:"fa-solid fa-circle-notch animate-spin"},null,-1),G(" Finalizing... ",-1)])])):(i(),a("span",ze,"Create Presentation"))],8,Se)])])):m("",!0)]),_:1})])]),D.value?(i(),a("div",Te,[...e[14]||(e[14]=[t("div",{class:"relative w-16 h-16"},[t("div",{class:"absolute inset-0 rounded-2xl border-2 border-white/5"}),t("div",{class:"absolute inset-0 rounded-2xl border-t-2 border-blue-500 animate-spin"})],-1),t("p",{class:"text-white/30 font-medium tracking-wide"},"Syncing Workspace...",-1)])])):p.value?(i(),a("div",Ae,[e[15]||(e[15]=t("div",{class:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-6"},[t("i",{class:"fa-solid fa-triangle-exclamation text-2xl text-red-500"})],-1)),e[16]||(e[16]=t("h3",{class:"text-xl font-bold mb-2"},"Sync Error",-1)),t("p",$e,r(p.value),1),t("button",{onClick:E,class:"px-8 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all"}," Reconnect ")])):g.value.length===0?(i(),a("div",Ie,[e[18]||(e[18]=t("div",{class:"w-24 h-24 rounded-[2rem] bg-gradient-to-br from-white/10 to-transparent flex items-center justify-center mb-8 text-4xl shadow-2xl"}," âœ¨ ",-1)),e[19]||(e[19]=t("h3",{class:"text-2xl font-bold mb-3"},"Your canvas is empty",-1)),e[20]||(e[20]=t("p",{class:"text-white/30 mb-10 max-w-sm text-center leading-relaxed"},"Start your next visual journey. Create a deck to begin designing with Lumina Engine.",-1)),t("button",{onClick:e[4]||(e[4]=s=>c.value=!0),class:"text-blue-400 font-extrabold hover:text-blue-300 transition-all flex items-center gap-2 group"},[...e[17]||(e[17]=[G(" Create First Presentation ",-1),t("i",{class:"fa-solid fa-arrow-right group-hover:translate-x-2 transition-transform"},null,-1)])])])):(i(),a("div",Fe,[(i(!0),a(Q,null,re(g.value,s=>{var w,x,y,k,f,R,q,O,W;return i(),a("div",{key:(w=s.meta)==null?void 0:w.id,class:"group relative bg-[#0a0a0a] rounded-[2.5rem] border border-white/5 hover:border-white/10 transition-all duration-500 shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] hover:shadow-[0_50px_100px_-20px_rgba(0,0,0,0.7)] flex flex-col overflow-hidden",style:N(le(s))},[e[30]||(e[30]=t("div",{class:"absolute inset-0 pointer-events-none rounded-[2.5rem] border border-white/[0.03] z-50"},null,-1)),t("div",Me,[t("div",{class:"absolute inset-0 opacity-40 mix-blend-screen group-hover:scale-110 transition-transform duration-1000",style:N(se(s))},null,4),e[23]||(e[23]=t("div",{class:"absolute inset-0 bg-gradient-to-br from-black/0 via-black/20 to-black/60 pointer-events-none"},null,-1)),e[24]||(e[24]=t("div",{class:"absolute inset-0 flex items-center justify-center z-10 opacity-10 group-hover:opacity-20 transition-opacity"},[t("i",{class:"fa-solid fa-shapes text-8xl text-white"})],-1)),t("div",Le,[t("button",{onClick:v(b=>{var n;return U(_).push({name:"studio",params:{id:(n=s.meta)==null?void 0:n.id}})},["stop"]),class:"w-20 h-20 rounded-3xl bg-white text-black hover:scale-110 active:scale-90 transition-all flex flex-col items-center justify-center shadow-2xl group/btn",title:"Open Studio"},[...e[21]||(e[21]=[t("i",{class:"fa-solid fa-pen-to-square text-2xl mb-1.5"},null,-1),t("span",{class:"text-[9px] font-black uppercase tracking-widest"},"Studio",-1)])],8,Ve),t("button",{onClick:v(b=>{var n;return U(_).push({name:"deck",params:{id:(n=s.meta)==null?void 0:n.id}})},["stop"]),class:"w-20 h-20 rounded-3xl text-white hover:scale-110 active:scale-95 transition-all flex flex-col items-center justify-center shadow-2xl group/play",style:N(`background: ${j(s)}`),title:"Start Presentation"},[...e[22]||(e[22]=[t("i",{class:"fa-solid fa-play text-2xl mb-1.5 ml-1"},null,-1),t("span",{class:"text-[9px] font-black uppercase tracking-widest"},"Play",-1)])],12,Ee)]),t("div",Ue,[t("div",Be,[t("div",{class:"w-1.5 h-1.5 rounded-full",style:N(`background: ${j(s)}`)},null,4),t("span",Re,r(((x=s.slides)==null?void 0:x.length)||0)+" "+r(((y=s.slides)==null?void 0:y.length)===1?"Slide":"Slides"),1)])])]),t("div",qe,[t("div",Oe,[t("div",{class:"flex-1 min-w-0 pr-6",onClick:b=>{var n;return U(_).push({name:"studio",params:{id:(n=s.meta)==null?void 0:n.id}})}},[t("h3",Ke,r(((k=s.meta)==null?void 0:k.title)||"Untitled"),1),t("p",He,r(((f=s.meta)==null?void 0:f.description)||"No summary provided for this project."),1)],8,We),t("button",{onClick:v(b=>{var n;return Z((n=s.meta)==null?void 0:n.id)},["stop"]),class:"w-10 h-10 rounded-2xl flex items-center justify-center text-white/10 hover:text-red-500 hover:bg-red-500/10 transition-all duration-300 bg-white/5 border border-white/5",title:"Delete Presentation"},[...e[25]||(e[25]=[t("i",{class:"fa-solid fa-trash-can text-sm"},null,-1)])],8,Ge)]),t("div",Qe,[t("div",Ye,[t("div",Je,r((R=s.meta)!=null&&R.authorName?s.meta.authorName.charAt(0):"L"),1),t("div",Xe,[e[26]||(e[26]=t("span",{class:"text-[9px] text-white/10 font-black uppercase tracking-[0.3em] mb-0.5"},"Updated",-1)),t("span",Ze,r(te(((q=s.meta)==null?void 0:q.updatedAt)||((O=s.meta)==null?void 0:O.savedAt))),1)])]),t("div",et,[t("div",{class:pe(["w-2 h-2 rounded-full",(W=s.meta)!=null&&W.isPublic?"bg-indigo-500 shadow-[0_0_15px_rgba(99,102,241,0.5)]":"bg-white/5"])},null,2),t("div",tt,[t("span",st,r(ae(s))+" min read",1),t("span",lt,"v"+r(s.meta.version||"1.0"),1)])])])]),S(z,{name:"fade-scale"},{default:P(()=>{var b;return[C.value===((b=s.meta)==null?void 0:b.id)?(i(),a("div",{key:0,class:"absolute inset-0 bg-[#0d0d0d] z-[60] flex flex-col items-center justify-center p-12 text-center",onClick:e[6]||(e[6]=v(()=>{},["stop"]))},[e[27]||(e[27]=t("div",{class:"w-20 h-20 rounded-[2.5rem] bg-red-600/10 flex items-center justify-center mb-10 border border-red-600/10 text-red-500"},[t("i",{class:"fa-solid fa-trash-can text-3xl"})],-1)),e[28]||(e[28]=t("h4",{class:"text-2xl font-extrabold text-white/95 mb-3 tracking-tight leading-none"},"Permanently Delete?",-1)),e[29]||(e[29]=t("p",{class:"text-sm text-white/20 mb-12 max-w-[280px] leading-relaxed font-medium tracking-tight"}," This action cannot be undone. All data will be wiped from your workspace.",-1)),t("div",at,[t("button",{onClick:v(n=>{var K;return ee((K=s.meta)==null?void 0:K.id)},["stop"]),class:"w-full py-5 rounded-[1.5rem] bg-red-600 text-white font-extrabold text-[13px] uppercase tracking-widest hover:bg-red-500 transition-all shadow-[0_20px_40px_-5px_rgba(220,38,38,0.3)] active:scale-95"},r(T.value?"Processing...":"Delete Permanently"),9,it),t("button",{onClick:e[5]||(e[5]=v(n=>C.value=null,["stop"])),class:"w-full py-5 rounded-[1.5rem] bg-white/5 text-white font-extrabold text-[13px] uppercase tracking-widest hover:bg-white/10 transition-all border border-white/5 active:scale-95"}," Keep Presentation ")])])):m("",!0)]}),_:2},1024)],4)}),128))]))])],64))}}),ct=me(nt,[["__scopeId","data-v-5f90251b"]]);export{ct as default};
