var U_=Object.defineProperty;var H_=(t,e,n)=>e in t?U_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yt=(t,e,n)=>H_(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ue={},bi=[],is=()=>{},og=()=>!1,Fl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),fd=t=>t.startsWith("onUpdate:"),kt=Object.assign,pd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},q_=Object.prototype.hasOwnProperty,$e=(t,e)=>q_.call(t,e),pe=Array.isArray,yi=t=>jl(t)==="[object Map]",ag=t=>jl(t)==="[object Set]",ye=t=>typeof t=="function",dt=t=>typeof t=="string",Ps=t=>typeof t=="symbol",We=t=>t!==null&&typeof t=="object",lg=t=>(We(t)||ye(t))&&ye(t.then)&&ye(t.catch),cg=Object.prototype.toString,jl=t=>cg.call(t),Z_=t=>jl(t).slice(8,-1),ug=t=>jl(t)==="[object Object]",md=t=>dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Co=hd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},W_=/-\w/g,Mn=Bl(t=>t.replace(W_,e=>e.slice(1).toUpperCase())),G_=/\B([A-Z])/g,Kr=Bl(t=>t.replace(G_,"-$1").toLowerCase()),Ul=Bl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Rc=Bl(t=>t?`on${Ul(t)}`:""),Js=(t,e)=>!Object.is(t,e),Ka=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},dg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},gd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},K_=t=>{const e=dt(t)?Number(t):NaN;return isNaN(e)?t:e};let xf;const Hl=()=>xf||(xf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function st(t){if(pe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=dt(s)?X_(s):st(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(dt(t)||We(t))return t}const J_=/;(?![^(]*\))/g,Q_=/:([^]+)/,Y_=/\/\*[^]*?\*\//g;function X_(t){const e={};return t.replace(Y_,"").split(J_).forEach(n=>{if(n){const s=n.split(Q_);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ce(t){let e="";if(dt(t))e=t;else if(pe(t))for(let n=0;n<t.length;n++){const s=ce(t[n]);s&&(e+=s+" ")}else if(We(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ev="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tv=hd(ev);function hg(t){return!!t||t===""}const fg=t=>!!(t&&t.__v_isRef===!0),te=t=>dt(t)?t:t==null?"":pe(t)||We(t)&&(t.toString===cg||!ye(t.toString))?fg(t)?te(t.value):JSON.stringify(t,pg,2):String(t),pg=(t,e)=>fg(e)?pg(t,e.value):yi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Oc(s,i)+" =>"]=r,n),{})}:ag(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Oc(n))}:Ps(e)?Oc(e):We(e)&&!pe(e)&&!ug(e)?String(e):e,Oc=(t,e="")=>{var n;return Ps(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let an;class nv{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=an,!e&&an&&(this.index=(an.scopes||(an.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=an;try{return an=this,e()}finally{an=n}}}on(){++this._on===1&&(this.prevScope=an,an=this)}off(){this._on>0&&--this._on===0&&(an=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function sv(){return an}let Ze;const Dc=new WeakSet;class mg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,an&&an.active&&an.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dc.has(this)&&(Dc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wf(this),yg(this);const e=Ze,n=jn;Ze=this,jn=!0;try{return this.fn()}finally{_g(this),Ze=e,jn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_d(e);this.deps=this.depsTail=void 0,wf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uu(this)&&this.run()}get dirty(){return uu(this)}}let gg=0,Ao,Po;function bg(t,e=!1){if(t.flags|=8,e){t.next=Po,Po=t;return}t.next=Ao,Ao=t}function bd(){gg++}function yd(){if(--gg>0)return;if(Po){let e=Po;for(Po=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ao;){let e=Ao;for(Ao=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function yg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function _g(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),_d(s),rv(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function uu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(vg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function vg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Uo)||(t.globalVersion=Uo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!uu(t))))return;t.flags|=2;const e=t.dep,n=Ze,s=jn;Ze=t,jn=!0;try{yg(t);const r=t.fn(t._value);(e.version===0||Js(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ze=n,jn=s,_g(t),t.flags&=-3}}function _d(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)_d(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function rv(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let jn=!0;const xg=[];function ws(){xg.push(jn),jn=!1}function Ts(){const t=xg.pop();jn=t===void 0?!0:t}function wf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ze;Ze=void 0;try{e()}finally{Ze=n}}}let Uo=0;class iv{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ze||!jn||Ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ze)n=this.activeLink=new iv(Ze,this),Ze.deps?(n.prevDep=Ze.depsTail,Ze.depsTail.nextDep=n,Ze.depsTail=n):Ze.deps=Ze.depsTail=n,wg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ze.depsTail,n.nextDep=void 0,Ze.depsTail.nextDep=n,Ze.depsTail=n,Ze.deps===n&&(Ze.deps=s)}return n}trigger(e){this.version++,Uo++,this.notify(e)}notify(e){bd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{yd()}}}function wg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)wg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const du=new WeakMap,Mr=Symbol(""),hu=Symbol(""),Ho=Symbol("");function Ut(t,e,n){if(jn&&Ze){let s=du.get(t);s||du.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new vd),r.map=s,r.key=n),r.track()}}function _s(t,e,n,s,r,i){const a=du.get(t);if(!a){Uo++;return}const l=c=>{c&&c.trigger()};if(bd(),e==="clear")a.forEach(l);else{const c=pe(t),d=c&&md(n);if(c&&n==="length"){const h=Number(s);a.forEach((m,f)=>{(f==="length"||f===Ho||!Ps(f)&&f>=h)&&l(m)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),d&&l(a.get(Ho)),e){case"add":c?d&&l(a.get("length")):(l(a.get(Mr)),yi(t)&&l(a.get(hu)));break;case"delete":c||(l(a.get(Mr)),yi(t)&&l(a.get(hu)));break;case"set":yi(t)&&l(a.get(Mr));break}}yd()}function ii(t){const e=Ve(t);return e===t?e:(Ut(e,"iterate",Ho),Ln(t)?e:e.map(Un))}function ql(t){return Ut(t=Ve(t),"iterate",Ho),t}function js(t,e){return Es(t)?zr(t)?Pi(Un(e)):Pi(e):Un(e)}const ov={__proto__:null,[Symbol.iterator](){return Nc(this,Symbol.iterator,t=>js(this,t))},concat(...t){return ii(this).concat(...t.map(e=>pe(e)?ii(e):e))},entries(){return Nc(this,"entries",t=>(t[1]=js(this,t[1]),t))},every(t,e){return hs(this,"every",t,e,void 0,arguments)},filter(t,e){return hs(this,"filter",t,e,n=>n.map(s=>js(this,s)),arguments)},find(t,e){return hs(this,"find",t,e,n=>js(this,n),arguments)},findIndex(t,e){return hs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return hs(this,"findLast",t,e,n=>js(this,n),arguments)},findLastIndex(t,e){return hs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return hs(this,"forEach",t,e,void 0,arguments)},includes(...t){return Vc(this,"includes",t)},indexOf(...t){return Vc(this,"indexOf",t)},join(t){return ii(this).join(t)},lastIndexOf(...t){return Vc(this,"lastIndexOf",t)},map(t,e){return hs(this,"map",t,e,void 0,arguments)},pop(){return bo(this,"pop")},push(...t){return bo(this,"push",t)},reduce(t,...e){return Tf(this,"reduce",t,e)},reduceRight(t,...e){return Tf(this,"reduceRight",t,e)},shift(){return bo(this,"shift")},some(t,e){return hs(this,"some",t,e,void 0,arguments)},splice(...t){return bo(this,"splice",t)},toReversed(){return ii(this).toReversed()},toSorted(t){return ii(this).toSorted(t)},toSpliced(...t){return ii(this).toSpliced(...t)},unshift(...t){return bo(this,"unshift",t)},values(){return Nc(this,"values",t=>js(this,t))}};function Nc(t,e,n){const s=ql(t),r=s[e]();return s!==t&&!Ln(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const av=Array.prototype;function hs(t,e,n,s,r,i){const a=ql(t),l=a!==t&&!Ln(t),c=a[e];if(c!==av[e]){const m=c.apply(t,i);return l?Un(m):m}let d=n;a!==t&&(l?d=function(m,f){return n.call(this,js(t,m),f,t)}:n.length>2&&(d=function(m,f){return n.call(this,m,f,t)}));const h=c.call(a,d,s);return l&&r?r(h):h}function Tf(t,e,n,s){const r=ql(t);let i=n;return r!==t&&(Ln(t)?n.length>3&&(i=function(a,l,c){return n.call(this,a,l,c,t)}):i=function(a,l,c){return n.call(this,a,js(t,l),c,t)}),r[e](i,...s)}function Vc(t,e,n){const s=Ve(t);Ut(s,"iterate",Ho);const r=s[e](...n);return(r===-1||r===!1)&&Td(n[0])?(n[0]=Ve(n[0]),s[e](...n)):r}function bo(t,e,n=[]){ws(),bd();const s=Ve(t)[e].apply(t,n);return yd(),Ts(),s}const lv=hd("__proto__,__v_isRef,__isVue"),Tg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ps));function cv(t){Ps(t)||(t=String(t));const e=Ve(this);return Ut(e,"has",t),e.hasOwnProperty(t)}class Eg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?_v:Cg:i?kg:Ig).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const a=pe(e);if(!r){let c;if(a&&(c=ov[n]))return c;if(n==="hasOwnProperty")return cv}const l=Reflect.get(e,n,Gt(e)?e:s);if((Ps(n)?Tg.has(n):lv(n))||(r||Ut(e,"get",n),i))return l;if(Gt(l)){const c=a&&md(n)?l:l.value;return r&&We(c)?cl(c):c}return We(l)?r?cl(l):Zl(l):l}}class Sg extends Eg{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];const a=pe(e)&&md(n);if(!this._isShallow){const d=Es(i);if(!Ln(s)&&!Es(s)&&(i=Ve(i),s=Ve(s)),!a&&Gt(i)&&!Gt(s))return d||(i.value=s),!0}const l=a?Number(n)<e.length:$e(e,n),c=Reflect.set(e,n,s,Gt(e)?e:r);return e===Ve(r)&&(l?Js(s,i)&&_s(e,"set",n,s):_s(e,"add",n,s)),c}deleteProperty(e,n){const s=$e(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&_s(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Ps(n)||!Tg.has(n))&&Ut(e,"has",n),s}ownKeys(e){return Ut(e,"iterate",pe(e)?"length":Mr),Reflect.ownKeys(e)}}class uv extends Eg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const dv=new Sg,hv=new uv,fv=new Sg(!0);const fu=t=>t,Va=t=>Reflect.getPrototypeOf(t);function pv(t,e,n){return function(...s){const r=this.__v_raw,i=Ve(r),a=yi(i),l=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,d=r[t](...s),h=n?fu:e?Pi:Un;return!e&&Ut(i,"iterate",c?hu:Mr),{next(){const{value:m,done:f}=d.next();return f?{value:m,done:f}:{value:l?[h(m[0]),h(m[1])]:h(m),done:f}},[Symbol.iterator](){return this}}}}function $a(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mv(t,e){const n={get(r){const i=this.__v_raw,a=Ve(i),l=Ve(r);t||(Js(r,l)&&Ut(a,"get",r),Ut(a,"get",l));const{has:c}=Va(a),d=e?fu:t?Pi:Un;if(c.call(a,r))return d(i.get(r));if(c.call(a,l))return d(i.get(l));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Ut(Ve(r),"iterate",Mr),r.size},has(r){const i=this.__v_raw,a=Ve(i),l=Ve(r);return t||(Js(r,l)&&Ut(a,"has",r),Ut(a,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const a=this,l=a.__v_raw,c=Ve(l),d=e?fu:t?Pi:Un;return!t&&Ut(c,"iterate",Mr),l.forEach((h,m)=>r.call(i,d(h),d(m),a))}};return kt(n,t?{add:$a("add"),set:$a("set"),delete:$a("delete"),clear:$a("clear")}:{add(r){!e&&!Ln(r)&&!Es(r)&&(r=Ve(r));const i=Ve(this);return Va(i).has.call(i,r)||(i.add(r),_s(i,"add",r,r)),this},set(r,i){!e&&!Ln(i)&&!Es(i)&&(i=Ve(i));const a=Ve(this),{has:l,get:c}=Va(a);let d=l.call(a,r);d||(r=Ve(r),d=l.call(a,r));const h=c.call(a,r);return a.set(r,i),d?Js(i,h)&&_s(a,"set",r,i):_s(a,"add",r,i),this},delete(r){const i=Ve(this),{has:a,get:l}=Va(i);let c=a.call(i,r);c||(r=Ve(r),c=a.call(i,r)),l&&l.call(i,r);const d=i.delete(r);return c&&_s(i,"delete",r,void 0),d},clear(){const r=Ve(this),i=r.size!==0,a=r.clear();return i&&_s(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=pv(r,t,e)}),n}function xd(t,e){const n=mv(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get($e(n,r)&&r in s?n:s,r,i)}const gv={get:xd(!1,!1)},bv={get:xd(!1,!0)},yv={get:xd(!0,!1)};const Ig=new WeakMap,kg=new WeakMap,Cg=new WeakMap,_v=new WeakMap;function vv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xv(t){return t.__v_skip||!Object.isExtensible(t)?0:vv(Z_(t))}function Zl(t){return Es(t)?t:wd(t,!1,dv,gv,Ig)}function wv(t){return wd(t,!1,fv,bv,kg)}function cl(t){return wd(t,!0,hv,yv,Cg)}function wd(t,e,n,s,r){if(!We(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=xv(t);if(i===0)return t;const a=r.get(t);if(a)return a;const l=new Proxy(t,i===2?s:n);return r.set(t,l),l}function zr(t){return Es(t)?zr(t.__v_raw):!!(t&&t.__v_isReactive)}function Es(t){return!!(t&&t.__v_isReadonly)}function Ln(t){return!!(t&&t.__v_isShallow)}function Td(t){return t?!!t.__v_raw:!1}function Ve(t){const e=t&&t.__v_raw;return e?Ve(e):t}function Tv(t){return!$e(t,"__v_skip")&&Object.isExtensible(t)&&dg(t,"__v_skip",!0),t}const Un=t=>We(t)?Zl(t):t,Pi=t=>We(t)?cl(t):t;function Gt(t){return t?t.__v_isRef===!0:!1}function de(t){return Ev(t,!1)}function Ev(t,e){return Gt(t)?t:new Sv(t,e)}class Sv{constructor(e,n){this.dep=new vd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ve(e),this._value=n?e:Un(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ln(e)||Es(e);e=s?e:Ve(e),Js(e,n)&&(this._rawValue=e,this._value=s?e:Un(e),this.dep.trigger())}}function Qe(t){return Gt(t)?t.value:t}const Iv={get:(t,e,n)=>e==="__v_raw"?t:Qe(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Gt(r)&&!Gt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Ag(t){return zr(t)?t:new Proxy(t,Iv)}class kv{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new vd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Uo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ze!==this)return bg(this,!0),!0}get value(){const e=this.dep.track();return vg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Cv(t,e,n=!1){let s,r;return ye(t)?s=t:(s=t.get,r=t.set),new kv(s,r,n)}const La={},ul=new WeakMap;let Or;function Av(t,e=!1,n=Or){if(n){let s=ul.get(n);s||ul.set(n,s=[]),s.push(t)}}function Pv(t,e,n=Ue){const{immediate:s,deep:r,once:i,scheduler:a,augmentJob:l,call:c}=n,d=R=>r?R:Ln(R)||r===!1||r===0?vs(R,1):vs(R);let h,m,f,g,x=!1,v=!1;if(Gt(t)?(m=()=>t.value,x=Ln(t)):zr(t)?(m=()=>d(t),x=!0):pe(t)?(v=!0,x=t.some(R=>zr(R)||Ln(R)),m=()=>t.map(R=>{if(Gt(R))return R.value;if(zr(R))return d(R);if(ye(R))return c?c(R,2):R()})):ye(t)?e?m=c?()=>c(t,2):t:m=()=>{if(f){ws();try{f()}finally{Ts()}}const R=Or;Or=h;try{return c?c(t,3,[g]):t(g)}finally{Or=R}}:m=is,e&&r){const R=m,L=r===!0?1/0:r;m=()=>vs(R(),L)}const A=sv(),O=()=>{h.stop(),A&&A.active&&pd(A.effects,h)};if(i&&e){const R=e;e=(...L)=>{R(...L),O()}}let N=v?new Array(t.length).fill(La):La;const $=R=>{if(!(!(h.flags&1)||!h.dirty&&!R))if(e){const L=h.run();if(r||x||(v?L.some((F,T)=>Js(F,N[T])):Js(L,N))){f&&f();const F=Or;Or=h;try{const T=[L,N===La?void 0:v&&N[0]===La?[]:N,g];N=L,c?c(e,3,T):e(...T)}finally{Or=F}}}else h.run()};return l&&l($),h=new mg(m),h.scheduler=a?()=>a($,!1):$,g=R=>Av(R,!1,h),f=h.onStop=()=>{const R=ul.get(h);if(R){if(c)c(R,4);else for(const L of R)L();ul.delete(h)}},e?s?$(!0):N=h.run():a?a($.bind(null,!0),!0):h.run(),O.pause=h.pause.bind(h),O.resume=h.resume.bind(h),O.stop=O,O}function vs(t,e=1/0,n){if(e<=0||!We(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Gt(t))vs(t.value,e,n);else if(pe(t))for(let s=0;s<t.length;s++)vs(t[s],e,n);else if(ag(t)||yi(t))t.forEach(s=>{vs(s,e,n)});else if(ug(t)){for(const s in t)vs(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&vs(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ga(t,e,n,s){try{return s?t(...s):t()}catch(r){Wl(r,e,n)}}function Hn(t,e,n,s){if(ye(t)){const r=ga(t,e,n,s);return r&&lg(r)&&r.catch(i=>{Wl(i,e,n)}),r}if(pe(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Hn(t[i],e,n,s));return r}}function Wl(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Ue;if(e){let l=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let m=0;m<h.length;m++)if(h[m](t,c,d)===!1)return}l=l.parent}if(i){ws(),ga(i,null,10,[t,c,d]),Ts();return}}Rv(t,n,r,s,a)}function Rv(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const nn=[];let Kn=-1;const _i=[];let Bs=null,ai=0;const Pg=Promise.resolve();let dl=null;function Ss(t){const e=dl||Pg;return t?e.then(this?t.bind(this):t):e}function Ov(t){let e=Kn+1,n=nn.length;for(;e<n;){const s=e+n>>>1,r=nn[s],i=qo(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Ed(t){if(!(t.flags&1)){const e=qo(t),n=nn[nn.length-1];!n||!(t.flags&2)&&e>=qo(n)?nn.push(t):nn.splice(Ov(e),0,t),t.flags|=1,Rg()}}function Rg(){dl||(dl=Pg.then(Dg))}function Dv(t){pe(t)?_i.push(...t):Bs&&t.id===-1?Bs.splice(ai+1,0,t):t.flags&1||(_i.push(t),t.flags|=1),Rg()}function Ef(t,e,n=Kn+1){for(;n<nn.length;n++){const s=nn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;nn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Og(t){if(_i.length){const e=[...new Set(_i)].sort((n,s)=>qo(n)-qo(s));if(_i.length=0,Bs){Bs.push(...e);return}for(Bs=e,ai=0;ai<Bs.length;ai++){const n=Bs[ai];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Bs=null,ai=0}}const qo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Dg(t){try{for(Kn=0;Kn<nn.length;Kn++){const e=nn[Kn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ga(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Kn<nn.length;Kn++){const e=nn[Kn];e&&(e.flags&=-2)}Kn=-1,nn.length=0,Og(),dl=null,(nn.length||_i.length)&&Dg()}}let Ot=null,Ng=null;function hl(t){const e=Ot;return Ot=t,Ng=t&&t.type.__scopeId||null,e}function fn(t,e=Ot,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&gl(-1);const i=hl(e);let a;try{a=t(...r)}finally{hl(i),s._d&&gl(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function Zi(t,e){if(Ot===null)return t;const n=Yl(Ot),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,a,l,c=Ue]=e[r];i&&(ye(i)&&(i={mounted:i,updated:i}),i.deep&&vs(a),s.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Ir(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let a=0;a<r.length;a++){const l=r[a];i&&(l.oldValue=i[a].value);let c=l.dir[s];c&&(ws(),Hn(c,n,8,[t.el,l,t,e]),Ts())}}function Nv(t,e){if(Zt){let n=Zt.provides;const s=Zt.parent&&Zt.parent.provides;s===n&&(n=Zt.provides=Object.create(s)),n[t]=e}}function xs(t,e,n=!1){const s=h0();if(s||xi){let r=xi?xi._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ye(e)?e.call(s&&s.proxy):e}}const Vv=Symbol.for("v-scx"),$v=()=>xs(Vv);function Bn(t,e,n){return Vg(t,e,n)}function Vg(t,e,n=Ue){const{immediate:s,deep:r,flush:i,once:a}=n,l=kt({},n),c=e&&s||!e&&i!=="post";let d;if(Ko){if(i==="sync"){const g=$v();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=is,g.resume=is,g.pause=is,g}}const h=Zt;l.call=(g,x,v)=>Hn(g,h,x,v);let m=!1;i==="post"?l.scheduler=g=>{xn(g,h&&h.suspense)}:i!=="sync"&&(m=!0,l.scheduler=(g,x)=>{x?g():Ed(g)}),l.augmentJob=g=>{e&&(g.flags|=4),m&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const f=Pv(t,e,l);return Ko&&(d?d.push(f):c&&f()),f}function Lv(t,e,n){const s=this.proxy,r=dt(t)?t.includes(".")?$g(s,t):()=>s[t]:t.bind(s,s);let i;ye(e)?i=e:(i=e.handler,n=e);const a=ba(this),l=Vg(r,i.bind(s),n);return a(),l}function $g(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Mv=Symbol("_vte"),Lg=t=>t.__isTeleport,bs=Symbol("_leaveCb"),Ma=Symbol("_enterCb");function zv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mn(()=>{t.isMounted=!0}),qg(()=>{t.isUnmounting=!0}),t}const Rn=[Function,Array],Mg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rn,onEnter:Rn,onAfterEnter:Rn,onEnterCancelled:Rn,onBeforeLeave:Rn,onLeave:Rn,onAfterLeave:Rn,onLeaveCancelled:Rn,onBeforeAppear:Rn,onAppear:Rn,onAfterAppear:Rn,onAppearCancelled:Rn},zg=t=>{const e=t.subTree;return e.component?zg(e.component):e},Fv={name:"BaseTransition",props:Mg,setup(t,{slots:e}){const n=h0(),s=zv();return()=>{const r=e.default&&Bg(e.default(),!0);if(!r||!r.length)return;const i=Fg(r),a=Ve(t),{mode:l}=a;if(s.isLeaving)return $c(i);const c=Sf(i);if(!c)return $c(i);let d=pu(c,a,s,n,m=>d=m);c.type!==qt&&Zo(c,d);let h=n.subTree&&Sf(n.subTree);if(h&&h.type!==qt&&!Vr(h,c)&&zg(n).type!==qt){let m=pu(h,a,s,n);if(Zo(h,m),l==="out-in"&&c.type!==qt)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,h=void 0},$c(i);l==="in-out"&&c.type!==qt?m.delayLeave=(f,g,x)=>{const v=jg(s,h);v[String(h.key)]=h,f[bs]=()=>{g(),f[bs]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{x(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function Fg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==qt){e=n;break}}return e}const jv=Fv;function jg(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function pu(t,e,n,s,r){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:m,onBeforeLeave:f,onLeave:g,onAfterLeave:x,onLeaveCancelled:v,onBeforeAppear:A,onAppear:O,onAfterAppear:N,onAppearCancelled:$}=e,R=String(t.key),L=jg(n,t),F=(_,E)=>{_&&Hn(_,s,9,E)},T=(_,E)=>{const C=E[1];F(_,E),pe(_)?_.every(k=>k.length<=1)&&C():_.length<=1&&C()},w={mode:a,persisted:l,beforeEnter(_){let E=c;if(!n.isMounted)if(i)E=A||c;else return;_[bs]&&_[bs](!0);const C=L[R];C&&Vr(t,C)&&C.el[bs]&&C.el[bs](),F(E,[_])},enter(_){let E=d,C=h,k=m;if(!n.isMounted)if(i)E=O||d,C=N||h,k=$||m;else return;let I=!1;const re=_[Ma]=me=>{I||(I=!0,me?F(k,[_]):F(C,[_]),w.delayedLeave&&w.delayedLeave(),_[Ma]=void 0)};E?T(E,[_,re]):re()},leave(_,E){const C=String(t.key);if(_[Ma]&&_[Ma](!0),n.isUnmounting)return E();F(f,[_]);let k=!1;const I=_[bs]=re=>{k||(k=!0,E(),re?F(v,[_]):F(x,[_]),_[bs]=void 0,L[C]===t&&delete L[C])};L[C]=t,g?T(g,[_,I]):I()},clone(_){const E=pu(_,e,n,s,r);return r&&r(E),E}};return w}function $c(t){if(Gl(t))return t=rr(t),t.children=null,t}function Sf(t){if(!Gl(t))return Lg(t.type)&&t.children?Fg(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ye(n.default))return n.default()}}function Zo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Zo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Bg(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let a=t[i];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===Ee?(a.patchFlag&128&&r++,s=s.concat(Bg(a.children,e,l))):(e||a.type!==qt)&&s.push(l!=null?rr(a,{key:l}):a)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Ne(t,e){return ye(t)?kt({name:t.name},e,{setup:t}):t}function Ug(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const fl=new WeakMap;function Ro(t,e,n,s,r=!1){if(pe(t)){t.forEach((x,v)=>Ro(x,e&&(pe(e)?e[v]:e),n,s,r));return}if(vi(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ro(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Yl(s.component):s.el,a=r?null:i,{i:l,r:c}=t,d=e&&e.r,h=l.refs===Ue?l.refs={}:l.refs,m=l.setupState,f=Ve(m),g=m===Ue?og:x=>$e(f,x);if(d!=null&&d!==c){if(If(e),dt(d))h[d]=null,g(d)&&(m[d]=null);else if(Gt(d)){d.value=null;const x=e;x.k&&(h[x.k]=null)}}if(ye(c))ga(c,l,12,[a,h]);else{const x=dt(c),v=Gt(c);if(x||v){const A=()=>{if(t.f){const O=x?g(c)?m[c]:h[c]:c.value;if(r)pe(O)&&pd(O,i);else if(pe(O))O.includes(i)||O.push(i);else if(x)h[c]=[i],g(c)&&(m[c]=h[c]);else{const N=[i];c.value=N,t.k&&(h[t.k]=N)}}else x?(h[c]=a,g(c)&&(m[c]=a)):v&&(c.value=a,t.k&&(h[t.k]=a))};if(a){const O=()=>{A(),fl.delete(t)};O.id=-1,fl.set(t,O),xn(O,n)}else If(t),A()}}}function If(t){const e=fl.get(t);e&&(e.flags|=8,fl.delete(t))}Hl().requestIdleCallback;Hl().cancelIdleCallback;const vi=t=>!!t.type.__asyncLoader,Gl=t=>t.type.__isKeepAlive;function Bv(t,e){Hg(t,"a",e)}function Uv(t,e){Hg(t,"da",e)}function Hg(t,e,n=Zt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Kl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Gl(r.parent.vnode)&&Hv(s,e,n,r),r=r.parent}}function Hv(t,e,n,s){const r=Kl(e,t,s,!0);qn(()=>{pd(s[e],r)},n)}function Kl(t,e,n=Zt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{ws();const l=ba(n),c=Hn(e,n,t,a);return l(),Ts(),c});return s?r.unshift(i):r.push(i),i}}const Rs=t=>(e,n=Zt)=>{(!Ko||t==="sp")&&Kl(t,(...s)=>e(...s),n)},qv=Rs("bm"),mn=Rs("m"),Zv=Rs("bu"),Wv=Rs("u"),qg=Rs("bum"),qn=Rs("um"),Gv=Rs("sp"),Kv=Rs("rtg"),Jv=Rs("rtc");function Qv(t,e=Zt){Kl("ec",t,e)}const Yv="components",Zg=Symbol.for("v-ndc");function pl(t){return dt(t)?Xv(Yv,t,!1)||t:t||Zg}function Xv(t,e,n=!0,s=!1){const r=Ot||Zt;if(r){const i=r.type;{const l=$x(i,!1);if(l&&(l===e||l===Mn(e)||l===Ul(Mn(e))))return i}const a=kf(r[t]||i[t],e)||kf(r.appContext[t],e);return!a&&s?i:a}}function kf(t,e){return t&&(t[e]||t[Mn(e)]||t[Ul(Mn(e))])}function et(t,e,n,s){let r;const i=n,a=pe(t);if(a||dt(t)){const l=a&&zr(t);let c=!1,d=!1;l&&(c=!Ln(t),d=Es(t),t=ql(t)),r=new Array(t.length);for(let h=0,m=t.length;h<m;h++)r[h]=e(c?d?Pi(Un(t[h])):Un(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i)}else if(We(t))if(t[Symbol.iterator])r=Array.from(t,(l,c)=>e(l,c,void 0,i));else{const l=Object.keys(t);r=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const h=l[c];r[c]=e(t[h],h,c,i)}}else r=[];return r}function Cf(t,e,n={},s,r){if(Ot.ce||Ot.parent&&vi(Ot.parent)&&Ot.parent.ce){const d=Object.keys(n).length>0;return e!=="default"&&(n.name=e),V(),ct(Ee,null,[Te("slot",n,s)],d?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),V();const a=i&&Wg(i(n)),l=n.key||a&&a.key,c=ct(Ee,{key:(l&&!Ps(l)?l:`_${e}`)+(!a&&s?"_fb":"")},a||[],a&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Wg(t){return t.some(e=>Go(e)?!(e.type===qt||e.type===Ee&&!Wg(e.children)):!0)?t:null}const mu=t=>t?f0(t)?Yl(t):mu(t.parent):null,Oo=kt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mu(t.parent),$root:t=>mu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Kg(t),$forceUpdate:t=>t.f||(t.f=()=>{Ed(t.update)}),$nextTick:t=>t.n||(t.n=Ss.bind(t.proxy)),$watch:t=>Lv.bind(t)}),Lc=(t,e)=>t!==Ue&&!t.__isScriptSetup&&$e(t,e),ex={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:a,type:l,appContext:c}=t;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Lc(s,e))return a[e]=1,s[e];if(r!==Ue&&$e(r,e))return a[e]=2,r[e];if($e(i,e))return a[e]=3,i[e];if(n!==Ue&&$e(n,e))return a[e]=4,n[e];gu&&(a[e]=0)}}const d=Oo[e];let h,m;if(d)return e==="$attrs"&&Ut(t.attrs,"get",""),d(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==Ue&&$e(n,e))return a[e]=4,n[e];if(m=c.config.globalProperties,$e(m,e))return m[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Lc(r,e)?(r[e]=n,!0):s!==Ue&&$e(s,e)?(s[e]=n,!0):$e(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,props:i,type:a}},l){let c;return!!(n[l]||t!==Ue&&l[0]!=="$"&&$e(t,l)||Lc(e,l)||$e(i,l)||$e(s,l)||$e(Oo,l)||$e(r.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:$e(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Af(t){return pe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let gu=!0;function tx(t){const e=Kg(t),n=t.proxy,s=t.ctx;gu=!1,e.beforeCreate&&Pf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:a,watch:l,provide:c,inject:d,created:h,beforeMount:m,mounted:f,beforeUpdate:g,updated:x,activated:v,deactivated:A,beforeDestroy:O,beforeUnmount:N,destroyed:$,unmounted:R,render:L,renderTracked:F,renderTriggered:T,errorCaptured:w,serverPrefetch:_,expose:E,inheritAttrs:C,components:k,directives:I,filters:re}=e;if(d&&nx(d,s,null),a)for(const ge in a){const _e=a[ge];ye(_e)&&(s[ge]=_e.bind(n))}if(r){const ge=r.call(n,n);We(ge)&&(t.data=Zl(ge))}if(gu=!0,i)for(const ge in i){const _e=i[ge],At=ye(_e)?_e.bind(n,n):ye(_e.get)?_e.get.bind(n,n):is,Pn=!ye(_e)&&ye(_e.set)?_e.set.bind(n):is,$t=Ie({get:At,set:Pn});Object.defineProperty(s,ge,{enumerable:!0,configurable:!0,get:()=>$t.value,set:ht=>$t.value=ht})}if(l)for(const ge in l)Gg(l[ge],s,n,ge);if(c){const ge=ye(c)?c.call(n):c;Reflect.ownKeys(ge).forEach(_e=>{Nv(_e,ge[_e])})}h&&Pf(h,t,"c");function xe(ge,_e){pe(_e)?_e.forEach(At=>ge(At.bind(n))):_e&&ge(_e.bind(n))}if(xe(qv,m),xe(mn,f),xe(Zv,g),xe(Wv,x),xe(Bv,v),xe(Uv,A),xe(Qv,w),xe(Jv,F),xe(Kv,T),xe(qg,N),xe(qn,R),xe(Gv,_),pe(E))if(E.length){const ge=t.exposed||(t.exposed={});E.forEach(_e=>{Object.defineProperty(ge,_e,{get:()=>n[_e],set:At=>n[_e]=At,enumerable:!0})})}else t.exposed||(t.exposed={});L&&t.render===is&&(t.render=L),C!=null&&(t.inheritAttrs=C),k&&(t.components=k),I&&(t.directives=I),_&&Ug(t)}function nx(t,e,n=is){pe(t)&&(t=bu(t));for(const s in t){const r=t[s];let i;We(r)?"default"in r?i=xs(r.from||s,r.default,!0):i=xs(r.from||s):i=xs(r),Gt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[s]=i}}function Pf(t,e,n){Hn(pe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Gg(t,e,n,s){let r=s.includes(".")?$g(n,s):()=>n[s];if(dt(t)){const i=e[t];ye(i)&&Bn(r,i)}else if(ye(t))Bn(r,t.bind(n));else if(We(t))if(pe(t))t.forEach(i=>Gg(i,e,n,s));else{const i=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(i)&&Bn(r,i,t)}}function Kg(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,l=i.get(e);let c;return l?c=l:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(d=>ml(c,d,a,!0)),ml(c,e,a)),We(e)&&i.set(e,c),c}function ml(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&ml(t,i,n,!0),r&&r.forEach(a=>ml(t,a,n,!0));for(const a in e)if(!(s&&a==="expose")){const l=sx[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const sx={data:Rf,props:Of,emits:Of,methods:vo,computed:vo,beforeCreate:Xt,created:Xt,beforeMount:Xt,mounted:Xt,beforeUpdate:Xt,updated:Xt,beforeDestroy:Xt,beforeUnmount:Xt,destroyed:Xt,unmounted:Xt,activated:Xt,deactivated:Xt,errorCaptured:Xt,serverPrefetch:Xt,components:vo,directives:vo,watch:ix,provide:Rf,inject:rx};function Rf(t,e){return e?t?function(){return kt(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function rx(t,e){return vo(bu(t),bu(e))}function bu(t){if(pe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Xt(t,e){return t?[...new Set([].concat(t,e))]:e}function vo(t,e){return t?kt(Object.create(null),t,e):e}function Of(t,e){return t?pe(t)&&pe(e)?[...new Set([...t,...e])]:kt(Object.create(null),Af(t),Af(e??{})):e}function ix(t,e){if(!t)return e;if(!e)return t;const n=kt(Object.create(null),t);for(const s in e)n[s]=Xt(t[s],e[s]);return n}function Jg(){return{app:null,config:{isNativeTag:og,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ox=0;function ax(t,e){return function(s,r=null){ye(s)||(s=kt({},s)),r!=null&&!We(r)&&(r=null);const i=Jg(),a=new WeakSet,l=[];let c=!1;const d=i.app={_uid:ox++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Mx,get config(){return i.config},set config(h){},use(h,...m){return a.has(h)||(h&&ye(h.install)?(a.add(h),h.install(d,...m)):ye(h)&&(a.add(h),h(d,...m))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,m){return m?(i.components[h]=m,d):i.components[h]},directive(h,m){return m?(i.directives[h]=m,d):i.directives[h]},mount(h,m,f){if(!c){const g=d._ceVNode||Te(s,r);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(g,h,f),c=!0,d._container=h,h.__vue_app__=d,Yl(g.component)}},onUnmount(h){l.push(h)},unmount(){c&&(Hn(l,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,m){return i.provides[h]=m,d},runWithContext(h){const m=xi;xi=d;try{return h()}finally{xi=m}}};return d}}let xi=null;const lx=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Mn(e)}Modifiers`]||t[`${Kr(e)}Modifiers`];function cx(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ue;let r=n;const i=e.startsWith("update:"),a=i&&lx(s,e.slice(7));a&&(a.trim&&(r=n.map(h=>dt(h)?h.trim():h)),a.number&&(r=n.map(gd)));let l,c=s[l=Rc(e)]||s[l=Rc(Mn(e))];!c&&i&&(c=s[l=Rc(Kr(e))]),c&&Hn(c,t,6,r);const d=s[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Hn(d,t,6,r)}}const ux=new WeakMap;function Qg(t,e,n=!1){const s=n?ux:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let a={},l=!1;if(!ye(t)){const c=d=>{const h=Qg(d,e,!0);h&&(l=!0,kt(a,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(We(t)&&s.set(t,null),null):(pe(i)?i.forEach(c=>a[c]=null):kt(a,i),We(t)&&s.set(t,a),a)}function Jl(t,e){return!t||!Fl(e)?!1:(e=e.slice(2).replace(/Once$/,""),$e(t,e[0].toLowerCase()+e.slice(1))||$e(t,Kr(e))||$e(t,e))}function Df(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:a,attrs:l,emit:c,render:d,renderCache:h,props:m,data:f,setupState:g,ctx:x,inheritAttrs:v}=t,A=hl(t);let O,N;try{if(n.shapeFlag&4){const R=r||s,L=R;O=Xn(d.call(L,R,h,m,g,f,x)),N=l}else{const R=e;O=Xn(R.length>1?R(m,{attrs:l,slots:a,emit:c}):R(m,null)),N=e.props?l:dx(l)}}catch(R){Do.length=0,Wl(R,t,1),O=Te(qt)}let $=O;if(N&&v!==!1){const R=Object.keys(N),{shapeFlag:L}=$;R.length&&L&7&&(i&&R.some(fd)&&(N=hx(N,i)),$=rr($,N,!1,!0))}return n.dirs&&($=rr($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&Zo($,n.transition),O=$,hl(A),O}const dx=t=>{let e;for(const n in t)(n==="class"||n==="style"||Fl(n))&&((e||(e={}))[n]=t[n]);return e},hx=(t,e)=>{const n={};for(const s in t)(!fd(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function fx(t,e,n){const{props:s,children:r,component:i}=t,{props:a,children:l,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Nf(s,a,d):!!a;if(c&8){const h=e.dynamicProps;for(let m=0;m<h.length;m++){const f=h[m];if(a[f]!==s[f]&&!Jl(d,f))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?Nf(s,a,d):!0:!!a;return!1}function Nf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Jl(n,i))return!0}return!1}function px({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Yg={},Xg=()=>Object.create(Yg),e0=t=>Object.getPrototypeOf(t)===Yg;function mx(t,e,n,s=!1){const r={},i=Xg();t.propsDefaults=Object.create(null),t0(t,e,r,i);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=s?r:wv(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function gx(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:a}}=t,l=Ve(r),[c]=t.propsOptions;let d=!1;if((s||a>0)&&!(a&16)){if(a&8){const h=t.vnode.dynamicProps;for(let m=0;m<h.length;m++){let f=h[m];if(Jl(t.emitsOptions,f))continue;const g=e[f];if(c)if($e(i,f))g!==i[f]&&(i[f]=g,d=!0);else{const x=Mn(f);r[x]=yu(c,l,x,g,t,!1)}else g!==i[f]&&(i[f]=g,d=!0)}}}else{t0(t,e,r,i)&&(d=!0);let h;for(const m in l)(!e||!$e(e,m)&&((h=Kr(m))===m||!$e(e,h)))&&(c?n&&(n[m]!==void 0||n[h]!==void 0)&&(r[m]=yu(c,l,m,void 0,t,!0)):delete r[m]);if(i!==l)for(const m in i)(!e||!$e(e,m))&&(delete i[m],d=!0)}d&&_s(t.attrs,"set","")}function t0(t,e,n,s){const[r,i]=t.propsOptions;let a=!1,l;if(e)for(let c in e){if(Co(c))continue;const d=e[c];let h;r&&$e(r,h=Mn(c))?!i||!i.includes(h)?n[h]=d:(l||(l={}))[h]=d:Jl(t.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,a=!0)}if(i){const c=Ve(n),d=l||Ue;for(let h=0;h<i.length;h++){const m=i[h];n[m]=yu(r,c,m,d[m],t,!$e(d,m))}}return a}function yu(t,e,n,s,r,i){const a=t[n];if(a!=null){const l=$e(a,"default");if(l&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&ye(c)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const h=ba(r);s=d[n]=c.call(null,e),h()}}else s=c;r.ce&&r.ce._setProp(n,s)}a[0]&&(i&&!l?s=!1:a[1]&&(s===""||s===Kr(n))&&(s=!0))}return s}const bx=new WeakMap;function n0(t,e,n=!1){const s=n?bx:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,a={},l=[];let c=!1;if(!ye(t)){const h=m=>{c=!0;const[f,g]=n0(m,e,!0);kt(a,f),g&&l.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return We(t)&&s.set(t,bi),bi;if(pe(i))for(let h=0;h<i.length;h++){const m=Mn(i[h]);Vf(m)&&(a[m]=Ue)}else if(i)for(const h in i){const m=Mn(h);if(Vf(m)){const f=i[h],g=a[m]=pe(f)||ye(f)?{type:f}:kt({},f),x=g.type;let v=!1,A=!0;if(pe(x))for(let O=0;O<x.length;++O){const N=x[O],$=ye(N)&&N.name;if($==="Boolean"){v=!0;break}else $==="String"&&(A=!1)}else v=ye(x)&&x.name==="Boolean";g[0]=v,g[1]=A,(v||$e(g,"default"))&&l.push(m)}}const d=[a,l];return We(t)&&s.set(t,d),d}function Vf(t){return t[0]!=="$"&&!Co(t)}const Sd=t=>t==="_"||t==="_ctx"||t==="$stable",Id=t=>pe(t)?t.map(Xn):[Xn(t)],yx=(t,e,n)=>{if(e._n)return e;const s=fn((...r)=>Id(e(...r)),n);return s._c=!1,s},s0=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Sd(r))continue;const i=t[r];if(ye(i))e[r]=yx(r,i,s);else if(i!=null){const a=Id(i);e[r]=()=>a}}},r0=(t,e)=>{const n=Id(e);t.slots.default=()=>n},i0=(t,e,n)=>{for(const s in e)(n||!Sd(s))&&(t[s]=e[s])},_x=(t,e,n)=>{const s=t.slots=Xg();if(t.vnode.shapeFlag&32){const r=e._;r?(i0(s,e,n),n&&dg(s,"_",r,!0)):s0(e,s)}else e&&r0(t,e)},vx=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,a=Ue;if(s.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:i0(r,e,n):(i=!e.$stable,s0(e,r)),a=e}else e&&(r0(t,e),a={default:1});if(i)for(const l in r)!Sd(l)&&a[l]==null&&delete r[l]},xn=Sx;function xx(t){return wx(t)}function wx(t,e){const n=Hl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:a,createText:l,createComment:c,setText:d,setElementText:h,parentNode:m,nextSibling:f,setScopeId:g=is,insertStaticContent:x}=t,v=(P,D,B,K=null,Z=null,W=null,ee=void 0,Q=null,J=!!D.dynamicChildren)=>{if(P===D)return;P&&!Vr(P,D)&&(K=Ds(P),ht(P,Z,W,!0),P=null),D.patchFlag===-2&&(J=!1,D.dynamicChildren=null);const{type:G,ref:ue,shapeFlag:ne}=D;switch(G){case Ql:A(P,D,B,K);break;case qt:O(P,D,B,K);break;case Ja:P==null&&N(D,B,K,ee);break;case Ee:k(P,D,B,K,Z,W,ee,Q,J);break;default:ne&1?L(P,D,B,K,Z,W,ee,Q,J):ne&6?I(P,D,B,K,Z,W,ee,Q,J):(ne&64||ne&128)&&G.process(P,D,B,K,Z,W,ee,Q,J,vr)}ue!=null&&Z?Ro(ue,P&&P.ref,W,D||P,!D):ue==null&&P&&P.ref!=null&&Ro(P.ref,null,W,P,!0)},A=(P,D,B,K)=>{if(P==null)s(D.el=l(D.children),B,K);else{const Z=D.el=P.el;D.children!==P.children&&d(Z,D.children)}},O=(P,D,B,K)=>{P==null?s(D.el=c(D.children||""),B,K):D.el=P.el},N=(P,D,B,K)=>{[P.el,P.anchor]=x(P.children,D,B,K,P.el,P.anchor)},$=({el:P,anchor:D},B,K)=>{let Z;for(;P&&P!==D;)Z=f(P),s(P,B,K),P=Z;s(D,B,K)},R=({el:P,anchor:D})=>{let B;for(;P&&P!==D;)B=f(P),r(P),P=B;r(D)},L=(P,D,B,K,Z,W,ee,Q,J)=>{if(D.type==="svg"?ee="svg":D.type==="math"&&(ee="mathml"),P==null)F(D,B,K,Z,W,ee,Q,J);else{const G=P.el&&P.el._isVueCE?P.el:null;try{G&&G._beginPatch(),_(P,D,Z,W,ee,Q,J)}finally{G&&G._endPatch()}}},F=(P,D,B,K,Z,W,ee,Q)=>{let J,G;const{props:ue,shapeFlag:ne,transition:le,dirs:he}=P;if(J=P.el=a(P.type,W,ue&&ue.is,ue),ne&8?h(J,P.children):ne&16&&w(P.children,J,null,K,Z,Mc(P,W),ee,Q),he&&Ir(P,null,K,"created"),T(J,P,P.scopeId,ee,K),ue){for(const Me in ue)Me!=="value"&&!Co(Me)&&i(J,Me,null,ue[Me],W,K);"value"in ue&&i(J,"value",null,ue.value,W),(G=ue.onVnodeBeforeMount)&&Gn(G,K,P)}he&&Ir(P,null,K,"beforeMount");const Se=Tx(Z,le);Se&&le.beforeEnter(J),s(J,D,B),((G=ue&&ue.onVnodeMounted)||Se||he)&&xn(()=>{G&&Gn(G,K,P),Se&&le.enter(J),he&&Ir(P,null,K,"mounted")},Z)},T=(P,D,B,K,Z)=>{if(B&&g(P,B),K)for(let W=0;W<K.length;W++)g(P,K[W]);if(Z){let W=Z.subTree;if(D===W||c0(W.type)&&(W.ssContent===D||W.ssFallback===D)){const ee=Z.vnode;T(P,ee,ee.scopeId,ee.slotScopeIds,Z.parent)}}},w=(P,D,B,K,Z,W,ee,Q,J=0)=>{for(let G=J;G<P.length;G++){const ue=P[G]=Q?Us(P[G]):Xn(P[G]);v(null,ue,D,B,K,Z,W,ee,Q)}},_=(P,D,B,K,Z,W,ee)=>{const Q=D.el=P.el;let{patchFlag:J,dynamicChildren:G,dirs:ue}=D;J|=P.patchFlag&16;const ne=P.props||Ue,le=D.props||Ue;let he;if(B&&kr(B,!1),(he=le.onVnodeBeforeUpdate)&&Gn(he,B,D,P),ue&&Ir(D,P,B,"beforeUpdate"),B&&kr(B,!0),(ne.innerHTML&&le.innerHTML==null||ne.textContent&&le.textContent==null)&&h(Q,""),G?E(P.dynamicChildren,G,Q,B,K,Mc(D,Z),W):ee||_e(P,D,Q,null,B,K,Mc(D,Z),W,!1),J>0){if(J&16)C(Q,ne,le,B,Z);else if(J&2&&ne.class!==le.class&&i(Q,"class",null,le.class,Z),J&4&&i(Q,"style",ne.style,le.style,Z),J&8){const Se=D.dynamicProps;for(let Me=0;Me<Se.length;Me++){const Oe=Se[Me],Mt=ne[Oe],zt=le[Oe];(zt!==Mt||Oe==="value")&&i(Q,Oe,Mt,zt,Z,B)}}J&1&&P.children!==D.children&&h(Q,D.children)}else!ee&&G==null&&C(Q,ne,le,B,Z);((he=le.onVnodeUpdated)||ue)&&xn(()=>{he&&Gn(he,B,D,P),ue&&Ir(D,P,B,"updated")},K)},E=(P,D,B,K,Z,W,ee)=>{for(let Q=0;Q<D.length;Q++){const J=P[Q],G=D[Q],ue=J.el&&(J.type===Ee||!Vr(J,G)||J.shapeFlag&198)?m(J.el):B;v(J,G,ue,null,K,Z,W,ee,!0)}},C=(P,D,B,K,Z)=>{if(D!==B){if(D!==Ue)for(const W in D)!Co(W)&&!(W in B)&&i(P,W,D[W],null,Z,K);for(const W in B){if(Co(W))continue;const ee=B[W],Q=D[W];ee!==Q&&W!=="value"&&i(P,W,Q,ee,Z,K)}"value"in B&&i(P,"value",D.value,B.value,Z)}},k=(P,D,B,K,Z,W,ee,Q,J)=>{const G=D.el=P?P.el:l(""),ue=D.anchor=P?P.anchor:l("");let{patchFlag:ne,dynamicChildren:le,slotScopeIds:he}=D;he&&(Q=Q?Q.concat(he):he),P==null?(s(G,B,K),s(ue,B,K),w(D.children||[],B,ue,Z,W,ee,Q,J)):ne>0&&ne&64&&le&&P.dynamicChildren&&P.dynamicChildren.length===le.length?(E(P.dynamicChildren,le,B,Z,W,ee,Q),(D.key!=null||Z&&D===Z.subTree)&&o0(P,D,!0)):_e(P,D,B,ue,Z,W,ee,Q,J)},I=(P,D,B,K,Z,W,ee,Q,J)=>{D.slotScopeIds=Q,P==null?D.shapeFlag&512?Z.ctx.activate(D,B,K,ee,J):re(D,B,K,Z,W,ee,J):me(P,D,J)},re=(P,D,B,K,Z,W,ee)=>{const Q=P.component=Rx(P,K,Z);if(Gl(P)&&(Q.ctx.renderer=vr),Ox(Q,!1,ee),Q.asyncDep){if(Z&&Z.registerDep(Q,xe,ee),!P.el){const J=Q.subTree=Te(qt);O(null,J,D,B),P.placeholder=J.el}}else xe(Q,P,D,B,Z,W,ee)},me=(P,D,B)=>{const K=D.component=P.component;if(fx(P,D,B))if(K.asyncDep&&!K.asyncResolved){ge(K,D,B);return}else K.next=D,K.update();else D.el=P.el,K.vnode=D},xe=(P,D,B,K,Z,W,ee)=>{const Q=()=>{if(P.isMounted){let{next:ne,bu:le,u:he,parent:Se,vnode:Me}=P;{const _n=a0(P);if(_n){ne&&(ne.el=Me.el,ge(P,ne,ee)),_n.asyncDep.then(()=>{P.isUnmounted||Q()});return}}let Oe=ne,Mt;kr(P,!1),ne?(ne.el=Me.el,ge(P,ne,ee)):ne=Me,le&&Ka(le),(Mt=ne.props&&ne.props.onVnodeBeforeUpdate)&&Gn(Mt,Se,ne,Me),kr(P,!0);const zt=Df(P),yn=P.subTree;P.subTree=zt,v(yn,zt,m(yn.el),Ds(yn),P,Z,W),ne.el=zt.el,Oe===null&&px(P,zt.el),he&&xn(he,Z),(Mt=ne.props&&ne.props.onVnodeUpdated)&&xn(()=>Gn(Mt,Se,ne,Me),Z)}else{let ne;const{el:le,props:he}=D,{bm:Se,m:Me,parent:Oe,root:Mt,type:zt}=P,yn=vi(D);kr(P,!1),Se&&Ka(Se),!yn&&(ne=he&&he.onVnodeBeforeMount)&&Gn(ne,Oe,D),kr(P,!0);{Mt.ce&&Mt.ce._def.shadowRoot!==!1&&Mt.ce._injectChildStyle(zt);const _n=P.subTree=Df(P);v(null,_n,B,K,P,Z,W),D.el=_n.el}if(Me&&xn(Me,Z),!yn&&(ne=he&&he.onVnodeMounted)){const _n=D;xn(()=>Gn(ne,Oe,_n),Z)}(D.shapeFlag&256||Oe&&vi(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&P.a&&xn(P.a,Z),P.isMounted=!0,D=B=K=null}};P.scope.on();const J=P.effect=new mg(Q);P.scope.off();const G=P.update=J.run.bind(J),ue=P.job=J.runIfDirty.bind(J);ue.i=P,ue.id=P.uid,J.scheduler=()=>Ed(ue),kr(P,!0),G()},ge=(P,D,B)=>{D.component=P;const K=P.vnode.props;P.vnode=D,P.next=null,gx(P,D.props,K,B),vx(P,D.children,B),ws(),Ef(P),Ts()},_e=(P,D,B,K,Z,W,ee,Q,J=!1)=>{const G=P&&P.children,ue=P?P.shapeFlag:0,ne=D.children,{patchFlag:le,shapeFlag:he}=D;if(le>0){if(le&128){Pn(G,ne,B,K,Z,W,ee,Q,J);return}else if(le&256){At(G,ne,B,K,Z,W,ee,Q,J);return}}he&8?(ue&16&&ds(G,Z,W),ne!==G&&h(B,ne)):ue&16?he&16?Pn(G,ne,B,K,Z,W,ee,Q,J):ds(G,Z,W,!0):(ue&8&&h(B,""),he&16&&w(ne,B,K,Z,W,ee,Q,J))},At=(P,D,B,K,Z,W,ee,Q,J)=>{P=P||bi,D=D||bi;const G=P.length,ue=D.length,ne=Math.min(G,ue);let le;for(le=0;le<ne;le++){const he=D[le]=J?Us(D[le]):Xn(D[le]);v(P[le],he,B,null,Z,W,ee,Q,J)}G>ue?ds(P,Z,W,!0,!1,ne):w(D,B,K,Z,W,ee,Q,J,ne)},Pn=(P,D,B,K,Z,W,ee,Q,J)=>{let G=0;const ue=D.length;let ne=P.length-1,le=ue-1;for(;G<=ne&&G<=le;){const he=P[G],Se=D[G]=J?Us(D[G]):Xn(D[G]);if(Vr(he,Se))v(he,Se,B,null,Z,W,ee,Q,J);else break;G++}for(;G<=ne&&G<=le;){const he=P[ne],Se=D[le]=J?Us(D[le]):Xn(D[le]);if(Vr(he,Se))v(he,Se,B,null,Z,W,ee,Q,J);else break;ne--,le--}if(G>ne){if(G<=le){const he=le+1,Se=he<ue?D[he].el:K;for(;G<=le;)v(null,D[G]=J?Us(D[G]):Xn(D[G]),B,Se,Z,W,ee,Q,J),G++}}else if(G>le)for(;G<=ne;)ht(P[G],Z,W,!0),G++;else{const he=G,Se=G,Me=new Map;for(G=Se;G<=le;G++){const Pt=D[G]=J?Us(D[G]):Xn(D[G]);Pt.key!=null&&Me.set(Pt.key,G)}let Oe,Mt=0;const zt=le-Se+1;let yn=!1,_n=0;const Fn=new Array(zt);for(G=0;G<zt;G++)Fn[G]=0;for(G=he;G<=ne;G++){const Pt=P[G];if(Mt>=zt){ht(Pt,Z,W,!0);continue}let Et;if(Pt.key!=null)Et=Me.get(Pt.key);else for(Oe=Se;Oe<=le;Oe++)if(Fn[Oe-Se]===0&&Vr(Pt,D[Oe])){Et=Oe;break}Et===void 0?ht(Pt,Z,W,!0):(Fn[Et-Se]=G+1,Et>=_n?_n=Et:yn=!0,v(Pt,D[Et],B,null,Z,W,ee,Q,J),Mt++)}const ti=yn?Ex(Fn):bi;for(Oe=ti.length-1,G=zt-1;G>=0;G--){const Pt=Se+G,Et=D[Pt],to=D[Pt+1],xr=Pt+1<ue?to.el||l0(to):K;Fn[G]===0?v(null,Et,B,xr,Z,W,ee,Q,J):yn&&(Oe<0||G!==ti[Oe]?$t(Et,B,xr,2):Oe--)}}},$t=(P,D,B,K,Z=null)=>{const{el:W,type:ee,transition:Q,children:J,shapeFlag:G}=P;if(G&6){$t(P.component.subTree,D,B,K);return}if(G&128){P.suspense.move(D,B,K);return}if(G&64){ee.move(P,D,B,vr);return}if(ee===Ee){s(W,D,B);for(let ne=0;ne<J.length;ne++)$t(J[ne],D,B,K);s(P.anchor,D,B);return}if(ee===Ja){$(P,D,B);return}if(K!==2&&G&1&&Q)if(K===0)Q.beforeEnter(W),s(W,D,B),xn(()=>Q.enter(W),Z);else{const{leave:ne,delayLeave:le,afterLeave:he}=Q,Se=()=>{P.ctx.isUnmounted?r(W):s(W,D,B)},Me=()=>{W._isLeaving&&W[bs](!0),ne(W,()=>{Se(),he&&he()})};le?le(W,Se,Me):Me()}else s(W,D,B)},ht=(P,D,B,K=!1,Z=!1)=>{const{type:W,props:ee,ref:Q,children:J,dynamicChildren:G,shapeFlag:ue,patchFlag:ne,dirs:le,cacheIndex:he}=P;if(ne===-2&&(Z=!1),Q!=null&&(ws(),Ro(Q,null,B,P,!0),Ts()),he!=null&&(D.renderCache[he]=void 0),ue&256){D.ctx.deactivate(P);return}const Se=ue&1&&le,Me=!vi(P);let Oe;if(Me&&(Oe=ee&&ee.onVnodeBeforeUnmount)&&Gn(Oe,D,P),ue&6)bn(P.component,B,K);else{if(ue&128){P.suspense.unmount(B,K);return}Se&&Ir(P,null,D,"beforeUnmount"),ue&64?P.type.remove(P,D,B,vr,K):G&&!G.hasOnce&&(W!==Ee||ne>0&&ne&64)?ds(G,D,B,!1,!0):(W===Ee&&ne&384||!Z&&ue&16)&&ds(J,D,B),K&&Os(P)}(Me&&(Oe=ee&&ee.onVnodeUnmounted)||Se)&&xn(()=>{Oe&&Gn(Oe,D,P),Se&&Ir(P,null,D,"unmounted")},B)},Os=P=>{const{type:D,el:B,anchor:K,transition:Z}=P;if(D===Ee){Lt(B,K);return}if(D===Ja){R(P);return}const W=()=>{r(B),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(P.shapeFlag&1&&Z&&!Z.persisted){const{leave:ee,delayLeave:Q}=Z,J=()=>ee(B,W);Q?Q(P.el,W,J):J()}else W()},Lt=(P,D)=>{let B;for(;P!==D;)B=f(P),r(P),P=B;r(D)},bn=(P,D,B)=>{const{bum:K,scope:Z,job:W,subTree:ee,um:Q,m:J,a:G}=P;$f(J),$f(G),K&&Ka(K),Z.stop(),W&&(W.flags|=8,ht(ee,P,D,B)),Q&&xn(Q,D),xn(()=>{P.isUnmounted=!0},D)},ds=(P,D,B,K=!1,Z=!1,W=0)=>{for(let ee=W;ee<P.length;ee++)ht(P[ee],D,B,K,Z)},Ds=P=>{if(P.shapeFlag&6)return Ds(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const D=f(P.anchor||P.el),B=D&&D[Mv];return B?f(B):D};let _r=!1;const eo=(P,D,B)=>{let K;P==null?D._vnode&&(ht(D._vnode,null,null,!0),K=D._vnode.component):v(D._vnode||null,P,D,null,null,null,B),D._vnode=P,_r||(_r=!0,Ef(K),Og(),_r=!1)},vr={p:v,um:ht,m:$t,r:Os,mt:re,mc:w,pc:_e,pbc:E,n:Ds,o:t};return{render:eo,hydrate:void 0,createApp:ax(eo)}}function Mc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function kr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Tx(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function o0(t,e,n=!1){const s=t.children,r=e.children;if(pe(s)&&pe(r))for(let i=0;i<s.length;i++){const a=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Us(r[i]),l.el=a.el),!n&&l.patchFlag!==-2&&o0(a,l)),l.type===Ql&&(l.patchFlag!==-1?l.el=a.el:l.__elIndex=i+(t.type===Ee?1:0)),l.type===qt&&!l.el&&(l.el=a.el)}}function Ex(t){const e=t.slice(),n=[0];let s,r,i,a,l;const c=t.length;for(s=0;s<c;s++){const d=t[s];if(d!==0){if(r=n[n.length-1],t[r]<d){e[s]=r,n.push(s);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,t[n[l]]<d?i=l+1:a=l;d<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function a0(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:a0(e)}function $f(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function l0(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?l0(e.subTree):null}const c0=t=>t.__isSuspense;function Sx(t,e){e&&e.pendingBranch?pe(t)?e.effects.push(...t):e.effects.push(t):Dv(t)}const Ee=Symbol.for("v-fgt"),Ql=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),Ja=Symbol.for("v-stc"),Do=[];let En=null;function V(t=!1){Do.push(En=t?null:[])}function Ix(){Do.pop(),En=Do[Do.length-1]||null}let Wo=1;function gl(t,e=!1){Wo+=t,t<0&&En&&e&&(En.hasOnce=!0)}function u0(t){return t.dynamicChildren=Wo>0?En||bi:null,Ix(),Wo>0&&En&&En.push(t),t}function z(t,e,n,s,r,i){return u0(o(t,e,n,s,r,i,!0))}function ct(t,e,n,s,r){return u0(Te(t,e,n,s,r,!0))}function Go(t){return t?t.__v_isVNode===!0:!1}function Vr(t,e){return t.type===e.type&&t.key===e.key}const d0=({key:t})=>t??null,Qa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?dt(t)||Gt(t)||ye(t)?{i:Ot,r:t,k:e,f:!!n}:t:null);function o(t,e=null,n=null,s=0,r=null,i=t===Ee?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&d0(e),ref:e&&Qa(e),scopeId:Ng,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ot};return l?(kd(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=dt(n)?8:16),Wo>0&&!a&&En&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&En.push(c),c}const Te=kx;function kx(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Zg)&&(t=qt),Go(t)){const l=rr(t,e,!0);return n&&kd(l,n),Wo>0&&!i&&En&&(l.shapeFlag&6?En[En.indexOf(t)]=l:En.push(l)),l.patchFlag=-2,l}if(Lx(t)&&(t=t.__vccOpts),e){e=Cx(e);let{class:l,style:c}=e;l&&!dt(l)&&(e.class=ce(l)),We(c)&&(Td(c)&&!pe(c)&&(c=kt({},c)),e.style=st(c))}const a=dt(t)?1:c0(t)?128:Lg(t)?64:We(t)?4:ye(t)?2:0;return o(t,e,n,s,r,a,i,!0)}function Cx(t){return t?Td(t)||e0(t)?kt({},t):t:null}function rr(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:a,children:l,transition:c}=t,d=e?_u(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&d0(d),ref:e&&e.ref?n&&i?pe(i)?i.concat(Qa(e)):[i,Qa(e)]:Qa(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rr(t.ssContent),ssFallback:t.ssFallback&&rr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&Zo(h,c.clone(h)),h}function y(t=" ",e=0){return Te(Ql,null,t,e)}function Ya(t,e){const n=Te(Ja,null,t);return n.staticCount=e,n}function ie(t="",e=!1){return e?(V(),ct(qt,null,t)):Te(qt,null,t)}function Xn(t){return t==null||typeof t=="boolean"?Te(qt):pe(t)?Te(Ee,null,t.slice()):Go(t)?Us(t):Te(Ql,null,String(t))}function Us(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:rr(t)}function kd(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(pe(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),kd(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!e0(e)?e._ctx=Ot:r===3&&Ot&&(Ot.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:Ot},n=32):(e=String(e),s&64?(n=16,e=[y(e)]):n=8);t.children=e,t.shapeFlag|=n}function _u(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ce([e.class,s.class]));else if(r==="style")e.style=st([e.style,s.style]);else if(Fl(r)){const i=e[r],a=s[r];a&&i!==a&&!(pe(i)&&i.includes(a))&&(e[r]=i?[].concat(i,a):a)}else r!==""&&(e[r]=s[r])}return e}function Gn(t,e,n,s=null){Hn(t,e,7,[n,s])}const Ax=Jg();let Px=0;function Rx(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Ax,i={uid:Px++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:n0(s,r),emitsOptions:Qg(s,r),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:s.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=cx.bind(null,i),t.ce&&t.ce(i),i}let Zt=null;const h0=()=>Zt||Ot;let bl,vu;{const t=Hl(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};bl=e("__VUE_INSTANCE_SETTERS__",n=>Zt=n),vu=e("__VUE_SSR_SETTERS__",n=>Ko=n)}const ba=t=>{const e=Zt;return bl(t),t.scope.on(),()=>{t.scope.off(),bl(e)}},Lf=()=>{Zt&&Zt.scope.off(),bl(null)};function f0(t){return t.vnode.shapeFlag&4}let Ko=!1;function Ox(t,e=!1,n=!1){e&&vu(e);const{props:s,children:r}=t.vnode,i=f0(t);mx(t,s,i,e),_x(t,r,n||e);const a=i?Dx(t,e):void 0;return e&&vu(!1),a}function Dx(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ex);const{setup:s}=n;if(s){ws();const r=t.setupContext=s.length>1?Vx(t):null,i=ba(t),a=ga(s,t,0,[t.props,r]),l=lg(a);if(Ts(),i(),(l||t.sp)&&!vi(t)&&Ug(t),l){if(a.then(Lf,Lf),e)return a.then(c=>{Mf(t,c)}).catch(c=>{Wl(c,t,0)});t.asyncDep=a}else Mf(t,a)}else p0(t)}function Mf(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:We(e)&&(t.setupState=Ag(e)),p0(t)}function p0(t,e,n){const s=t.type;t.render||(t.render=s.render||is);{const r=ba(t);ws();try{tx(t)}finally{Ts(),r()}}}const Nx={get(t,e){return Ut(t,"get",""),t[e]}};function Vx(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Nx),slots:t.slots,emit:t.emit,expose:e}}function Yl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ag(Tv(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Oo)return Oo[n](t)},has(e,n){return n in e||n in Oo}})):t.proxy}function $x(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function Lx(t){return ye(t)&&"__vccOpts"in t}const Ie=(t,e)=>Cv(t,e,Ko);function qe(t,e,n){try{gl(-1);const s=arguments.length;return s===2?We(e)&&!pe(e)?Go(e)?Te(t,null,[e]):Te(t,e):Te(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Go(n)&&(n=[n]),Te(t,e,n))}finally{gl(1)}}const Mx="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xu;const zf=typeof window<"u"&&window.trustedTypes;if(zf)try{xu=zf.createPolicy("vue",{createHTML:t=>t})}catch{}const m0=xu?t=>xu.createHTML(t):t=>t,zx="http://www.w3.org/2000/svg",Fx="http://www.w3.org/1998/Math/MathML",ms=typeof document<"u"?document:null,Ff=ms&&ms.createElement("template"),jx={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?ms.createElementNS(zx,t):e==="mathml"?ms.createElementNS(Fx,t):n?ms.createElement(t,{is:n}):ms.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>ms.createTextNode(t),createComment:t=>ms.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ms.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const a=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Ff.innerHTML=m0(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=Ff.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Fs="transition",yo="animation",Jo=Symbol("_vtc"),g0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Bx=kt({},Mg,g0),Ux=t=>(t.displayName="Transition",t.props=Bx,t),Qo=Ux((t,{slots:e})=>qe(jv,Hx(t),e)),Cr=(t,e=[])=>{pe(t)?t.forEach(n=>n(...e)):t&&t(...e)},jf=t=>t?pe(t)?t.some(e=>e.length>1):t.length>1:!1;function Hx(t){const e={};for(const k in t)k in g0||(e[k]=t[k]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:d=a,appearToClass:h=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,x=qx(r),v=x&&x[0],A=x&&x[1],{onBeforeEnter:O,onEnter:N,onEnterCancelled:$,onLeave:R,onLeaveCancelled:L,onBeforeAppear:F=O,onAppear:T=N,onAppearCancelled:w=$}=e,_=(k,I,re,me)=>{k._enterCancelled=me,Ar(k,I?h:l),Ar(k,I?d:a),re&&re()},E=(k,I)=>{k._isLeaving=!1,Ar(k,m),Ar(k,g),Ar(k,f),I&&I()},C=k=>(I,re)=>{const me=k?T:N,xe=()=>_(I,k,re);Cr(me,[I,xe]),Bf(()=>{Ar(I,k?c:i),fs(I,k?h:l),jf(me)||Uf(I,s,v,xe)})};return kt(e,{onBeforeEnter(k){Cr(O,[k]),fs(k,i),fs(k,a)},onBeforeAppear(k){Cr(F,[k]),fs(k,c),fs(k,d)},onEnter:C(!1),onAppear:C(!0),onLeave(k,I){k._isLeaving=!0;const re=()=>E(k,I);fs(k,m),k._enterCancelled?(fs(k,f),Zf(k)):(Zf(k),fs(k,f)),Bf(()=>{k._isLeaving&&(Ar(k,m),fs(k,g),jf(R)||Uf(k,s,A,re))}),Cr(R,[k,re])},onEnterCancelled(k){_(k,!1,void 0,!0),Cr($,[k])},onAppearCancelled(k){_(k,!0,void 0,!0),Cr(w,[k])},onLeaveCancelled(k){E(k),Cr(L,[k])}})}function qx(t){if(t==null)return null;if(We(t))return[zc(t.enter),zc(t.leave)];{const e=zc(t);return[e,e]}}function zc(t){return K_(t)}function fs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Jo]||(t[Jo]=new Set)).add(e)}function Ar(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Jo];n&&(n.delete(e),n.size||(t[Jo]=void 0))}function Bf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Zx=0;function Uf(t,e,n,s){const r=t._endId=++Zx,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:a,timeout:l,propCount:c}=Wx(t,e);if(!a)return s();const d=a+"end";let h=0;const m=()=>{t.removeEventListener(d,f),i()},f=g=>{g.target===t&&++h>=c&&m()};setTimeout(()=>{h<c&&m()},l+1),t.addEventListener(d,f)}function Wx(t,e){const n=window.getComputedStyle(t),s=x=>(n[x]||"").split(", "),r=s(`${Fs}Delay`),i=s(`${Fs}Duration`),a=Hf(r,i),l=s(`${yo}Delay`),c=s(`${yo}Duration`),d=Hf(l,c);let h=null,m=0,f=0;e===Fs?a>0&&(h=Fs,m=a,f=i.length):e===yo?d>0&&(h=yo,m=d,f=c.length):(m=Math.max(a,d),h=m>0?a>d?Fs:yo:null,f=h?h===Fs?i.length:c.length:0);const g=h===Fs&&/\b(?:transform|all)(?:,|$)/.test(s(`${Fs}Property`).toString());return{type:h,timeout:m,propCount:f,hasTransform:g}}function Hf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>qf(n)+qf(t[s])))}function qf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Zf(t){return(t?t.ownerDocument:document).body.offsetHeight}function Gx(t,e,n){const s=t[Jo];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Wf=Symbol("_vod"),Kx=Symbol("_vsh"),Jx=Symbol(""),Qx=/(?:^|;)\s*display\s*:/;function Yx(t,e,n){const s=t.style,r=dt(n);let i=!1;if(n&&!r){if(e)if(dt(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Xa(s,l,"")}else for(const a in e)n[a]==null&&Xa(s,a,"");for(const a in n)a==="display"&&(i=!0),Xa(s,a,n[a])}else if(r){if(e!==n){const a=s[Jx];a&&(n+=";"+a),s.cssText=n,i=Qx.test(n)}}else e&&t.removeAttribute("style");Wf in t&&(t[Wf]=i?s.display:"",t[Kx]&&(s.display="none"))}const Gf=/\s*!important$/;function Xa(t,e,n){if(pe(n))n.forEach(s=>Xa(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Xx(t,e);Gf.test(n)?t.setProperty(Kr(s),n.replace(Gf,""),"important"):t[s]=n}}const Kf=["Webkit","Moz","ms"],Fc={};function Xx(t,e){const n=Fc[e];if(n)return n;let s=Mn(e);if(s!=="filter"&&s in t)return Fc[e]=s;s=Ul(s);for(let r=0;r<Kf.length;r++){const i=Kf[r]+s;if(i in t)return Fc[e]=i}return e}const Jf="http://www.w3.org/1999/xlink";function Qf(t,e,n,s,r,i=tv(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Jf,e.slice(6,e.length)):t.setAttributeNS(Jf,e,n):n==null||i&&!hg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Ps(n)?String(n):n)}function Yf(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?m0(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=hg(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(r||e)}function li(t,e,n,s){t.addEventListener(e,n,s)}function ew(t,e,n,s){t.removeEventListener(e,n,s)}const Xf=Symbol("_vei");function tw(t,e,n,s,r=null){const i=t[Xf]||(t[Xf]={}),a=i[e];if(s&&a)a.value=s;else{const[l,c]=nw(e);if(s){const d=i[e]=iw(s,r);li(t,l,d,c)}else a&&(ew(t,l,a,c),i[e]=void 0)}}const ep=/(?:Once|Passive|Capture)$/;function nw(t){let e;if(ep.test(t)){e={};let s;for(;s=t.match(ep);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kr(t.slice(2)),e]}let jc=0;const sw=Promise.resolve(),rw=()=>jc||(sw.then(()=>jc=0),jc=Date.now());function iw(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Hn(ow(s,n.value),e,5,[s])};return n.value=t,n.attached=rw(),n}function ow(t,e){if(pe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const tp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,aw=(t,e,n,s,r,i)=>{const a=r==="svg";e==="class"?Gx(t,s,a):e==="style"?Yx(t,n,s):Fl(e)?fd(e)||tw(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):lw(t,e,s,a))?(Yf(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Qf(t,e,s,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!dt(s))?Yf(t,Mn(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Qf(t,e,s,a))};function lw(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&tp(e)&&ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return tp(e)&&dt(n)?!1:e in t}const np=t=>{const e=t.props["onUpdate:modelValue"]||!1;return pe(e)?n=>Ka(e,n):e};function cw(t){t.target.composing=!0}function sp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Bc=Symbol("_assign");function rp(t,e,n){return e&&(t=t.trim()),n&&(t=gd(t)),t}const Wi={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Bc]=np(r);const i=s||r.props&&r.props.type==="number";li(t,e?"change":"input",a=>{a.target.composing||t[Bc](rp(t.value,n,i))}),(n||i)&&li(t,"change",()=>{t.value=rp(t.value,n,i)}),e||(li(t,"compositionstart",cw),li(t,"compositionend",sp),li(t,"change",sp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},a){if(t[Bc]=np(a),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?gd(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===c)||(t.value=c))}},uw=["ctrl","shift","alt","meta"],dw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>uw.some(n=>t[`${n}Key`]&&!e.includes(n))},tn=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let a=0;a<e.length;a++){const l=dw[e[a]];if(l&&l(r,e))return}return t(r,...i)})},hw=kt({patchProp:aw},jx);let ip;function fw(){return ip||(ip=xx(hw))}const wu=(...t)=>{const e=fw().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=mw(s);if(!r)return;const i=e._component;!ye(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,pw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function pw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function mw(t){return dt(t)?document.querySelector(t):t}const op={"i:s":"star","i:u":"users","i:c":"check","i:a":"arrow-right","c:p":"#6366f1","c:s":"#10b981","c:d":"#ef4444","v:g":"gradient","v:o":"outlined","v:s":"soft"};function gw(t){return t in op?op[t]:t}function U(t,e,n){function s(l,c){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(t))return;l._zod.traits.add(t),e(l,c);const d=a.prototype,h=Object.keys(d);for(let m=0;m<h.length;m++){const f=h[m];f in l||(l[f]=d[f].bind(l))}}const r=(n==null?void 0:n.Parent)??Object;class i extends r{}Object.defineProperty(i,"name",{value:t});function a(l){var c;const d=n!=null&&n.Parent?new i:this;s(d,l),(c=d._zod).deferred??(c.deferred=[]);for(const h of d._zod.deferred)h();return d}return Object.defineProperty(a,"init",{value:s}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var c,d;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(d=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:d.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class wi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class b0 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const y0={};function ir(t){return y0}function _0(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,r])=>e.indexOf(+s)===-1).map(([s,r])=>r)}function Tu(t,e){return typeof e=="bigint"?e.toString():e}function Xl(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Cd(t){return t==null}function Ad(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function bw(t,e){const n=(t.toString().split(".")[1]||"").length,s=e.toString();let r=(s.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(s)){const c=s.match(/\d?e-(\d?)/);c!=null&&c[1]&&(r=Number.parseInt(c[1]))}const i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return a%l/10**i}const ap=Symbol("evaluating");function He(t,e,n){let s;Object.defineProperty(t,e,{get(){if(s!==ap)return s===void 0&&(s=ap,s=n()),s},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function Jr(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Qr(...t){const e={};for(const n of t){const s=Object.getOwnPropertyDescriptors(n);Object.assign(e,s)}return Object.defineProperties({},e)}function lp(t){return JSON.stringify(t)}function yw(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const v0="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Yo(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const _w=Xl(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ri(t){if(Yo(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Yo(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function x0(t){return Ri(t)?{...t}:Array.isArray(t)?[...t]:t}const vw=new Set(["string","number","symbol"]);function Oi(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gr(t,e,n){const s=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(s._zod.parent=t),s}function oe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function xw(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const ww={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Tw(t,e){const n=t._zod.def,s=Qr(t._zod.def,{get shape(){const r={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(r[i]=n.shape[i])}return Jr(this,"shape",r),r},checks:[]});return gr(t,s)}function Ew(t,e){const n=t._zod.def,s=Qr(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete r[i]}return Jr(this,"shape",r),r},checks:[]});return gr(t,s)}function Sw(t,e){if(!Ri(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Qr(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return Jr(this,"shape",i),i},checks:[]});return gr(t,r)}function Iw(t,e){if(!Ri(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const s={...t._zod.def.shape,...e};return Jr(this,"shape",s),s},checks:t._zod.def.checks};return gr(t,n)}function kw(t,e){const n=Qr(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return Jr(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return gr(t,n)}function Cw(t,e,n){const s=Qr(e._zod.def,{get shape(){const r=e._zod.def.shape,i={...r};if(n)for(const a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=t?new t({type:"optional",innerType:r[a]}):r[a])}else for(const a in r)i[a]=t?new t({type:"optional",innerType:r[a]}):r[a];return Jr(this,"shape",i),i},checks:[]});return gr(e,s)}function Aw(t,e,n){const s=Qr(e._zod.def,{get shape(){const r=e._zod.def.shape,i={...r};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new t({type:"nonoptional",innerType:r[a]}))}else for(const a in r)i[a]=new t({type:"nonoptional",innerType:r[a]});return Jr(this,"shape",i),i},checks:[]});return gr(e,s)}function fi(t,e=0){var n;if(t.aborted===!0)return!0;for(let s=e;s<t.issues.length;s++)if(((n=t.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function pi(t,e){return e.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(t),n})}function za(t){return typeof t=="string"?t:t==null?void 0:t.message}function or(t,e,n){var r,i,a,l,c,d;const s={...t,path:t.path??[]};if(!t.message){const h=za((a=(i=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:i.error)==null?void 0:a.call(i,t))??za((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??za((c=n.customError)==null?void 0:c.call(n,t))??za((d=n.localeError)==null?void 0:d.call(n,t))??"Invalid input";s.message=h}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}function Pd(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Xo(...t){const[e,n,s]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:s}:{...e}}const w0=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Tu,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},T0=U("$ZodError",w0),E0=U("$ZodError",w0,{Parent:Error});function Pw(t,e=n=>n.message){const n={},s=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}function Rw(t,e=n=>n.message){const n={_errors:[]},s=r=>{for(const i of r.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>s({issues:a}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let a=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(e(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(t),n}const Rd=t=>(e,n,s,r)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new wi;if(a.issues.length){const l=new((r==null?void 0:r.Err)??t)(a.issues.map(c=>or(c,i,ir())));throw v0(l,r==null?void 0:r.callee),l}return a.value},Od=t=>async(e,n,s,r)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((r==null?void 0:r.Err)??t)(a.issues.map(c=>or(c,i,ir())));throw v0(l,r==null?void 0:r.callee),l}return a.value},ec=t=>(e,n,s)=>{const r=s?{...s,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},r);if(i instanceof Promise)throw new wi;return i.issues.length?{success:!1,error:new(t??T0)(i.issues.map(a=>or(a,r,ir())))}:{success:!0,data:i.value}},Ow=ec(E0),tc=t=>async(e,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(a=>or(a,r,ir())))}:{success:!0,data:i.value}},Dw=tc(E0),Nw=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Rd(t)(e,n,r)},Vw=t=>(e,n,s)=>Rd(t)(e,n,s),$w=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Od(t)(e,n,r)},Lw=t=>async(e,n,s)=>Od(t)(e,n,s),Mw=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return ec(t)(e,n,r)},zw=t=>(e,n,s)=>ec(t)(e,n,s),Fw=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return tc(t)(e,n,r)},jw=t=>async(e,n,s)=>tc(t)(e,n,s),Bw=/^[cC][^\s-]{8,}$/,Uw=/^[0-9a-z]+$/,Hw=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,qw=/^[0-9a-vA-V]{20}$/,Zw=/^[A-Za-z0-9]{27}$/,Ww=/^[a-zA-Z0-9_-]{21}$/,Gw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Kw=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,cp=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Jw=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Qw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Yw(){return new RegExp(Qw,"u")}const Xw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,t1=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,n1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,s1=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,S0=/^[A-Za-z0-9_-]*$/,r1=/^\+(?:[0-9]){6,14}[0-9]$/,I0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",i1=new RegExp(`^${I0}$`);function k0(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function o1(t){return new RegExp(`^${k0(t)}$`)}function a1(t){const e=k0({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${n.join("|")})`;return new RegExp(`^${I0}T(?:${s})$`)}const l1=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},c1=/^-?\d+$/,u1=/^-?\d+(?:\.\d+)?/,d1=/^(?:true|false)$/i,h1=/^null$/i,f1=/^undefined$/i,p1=/^[^A-Z]*$/,m1=/^[^a-z]*$/,gn=U("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),C0={number:"number",bigint:"bigint",object:"date"},A0=U("$ZodCheckLessThan",(t,e)=>{gn.init(t,e);const n=C0[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,i=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value<=e.value:s.value<e.value)||s.issues.push({origin:n,code:"too_big",maximum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),P0=U("$ZodCheckGreaterThan",(t,e)=>{gn.init(t,e);const n=C0[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,i=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value>=e.value:s.value>e.value)||s.issues.push({origin:n,code:"too_small",minimum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),g1=U("$ZodCheckMultipleOf",(t,e)=>{gn.init(t,e),t._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):bw(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),b1=U("$ZodCheckNumberFormat",(t,e)=>{var a;gn.init(t,e),e.format=e.format||"float64";const n=(a=e.format)==null?void 0:a.includes("int"),s=n?"int":"number",[r,i]=ww[e.format];t._zod.onattach.push(l=>{const c=l._zod.bag;c.format=e.format,c.minimum=r,c.maximum=i,n&&(c.pattern=c1)}),t._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:s,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort});return}}c<r&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),c>i&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:t})}}),y1=U("$ZodCheckMaxLength",(t,e)=>{var n;gn.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Cd(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const r=s.value;if(r.length<=e.maximum)return;const a=Pd(r);s.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),_1=U("$ZodCheckMinLength",(t,e)=>{var n;gn.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Cd(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const r=s.value;if(r.length>=e.minimum)return;const a=Pd(r);s.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),v1=U("$ZodCheckLengthEquals",(t,e)=>{var n;gn.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Cd(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=s=>{const r=s.value,i=r.length;if(i===e.length)return;const a=Pd(r),l=i>e.length;s.issues.push({origin:a,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),nc=U("$ZodCheckStringFormat",(t,e)=>{var n,s;gn.init(t,e),t._zod.onattach.push(r=>{const i=r._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),x1=U("$ZodCheckRegex",(t,e)=>{nc.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),w1=U("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=p1),nc.init(t,e)}),T1=U("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=m1),nc.init(t,e)}),E1=U("$ZodCheckIncludes",(t,e)=>{gn.init(t,e);const n=Oi(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=s,t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),S1=U("$ZodCheckStartsWith",(t,e)=>{gn.init(t,e);const n=new RegExp(`^${Oi(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),I1=U("$ZodCheckEndsWith",(t,e)=>{gn.init(t,e);const n=new RegExp(`.*${Oi(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),k1=U("$ZodCheckOverwrite",(t,e)=>{gn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class C1{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(a=>a),r=Math.min(...s.map(a=>a.length-a.trimStart().length)),i=s.map(a=>a.slice(r)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const e=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new e(...n,r.join(`
`))}}const A1={major:4,minor:2,patch:1},Ge=U("$ZodType",(t,e)=>{var r;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=A1;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const i of s)for(const a of i._zod.onattach)a(t);if(s.length===0)(n=t._zod).deferred??(n.deferred=[]),(r=t._zod.deferred)==null||r.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,c,d)=>{let h=fi(l),m;for(const f of c){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(h)continue;const g=l.issues.length,x=f._zod.check(l);if(x instanceof Promise&&(d==null?void 0:d.async)===!1)throw new wi;if(m||x instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await x,l.issues.length!==g&&(h||(h=fi(l,g)))});else{if(l.issues.length===g)continue;h||(h=fi(l,g))}}return m?m.then(()=>l):l},a=(l,c,d)=>{if(fi(l))return l.aborted=!0,l;const h=i(c,s,d);if(h instanceof Promise){if(d.async===!1)throw new wi;return h.then(m=>t._zod.parse(m,d))}return t._zod.parse(h,d)};t._zod.run=(l,c)=>{if(c.skipChecks)return t._zod.parse(l,c);if(c.direction==="backward"){const h=t._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(m=>a(m,l,c)):a(h,l,c)}const d=t._zod.parse(l,c);if(d instanceof Promise){if(c.async===!1)throw new wi;return d.then(h=>i(h,s,c))}return i(d,s,c)}}t["~standard"]={validate:i=>{var a;try{const l=Ow(t,i);return l.success?{value:l.data}:{issues:(a=l.error)==null?void 0:a.issues}}catch{return Dw(t,i).then(c=>{var d;return c.success?{value:c.data}:{issues:(d=c.error)==null?void 0:d.issues}})}},vendor:"zod",version:1}}),Dd=U("$ZodString",(t,e)=>{var n;Ge.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??l1(t._zod.bag),t._zod.parse=(s,r)=>{if(e.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:t}),s}}),Xe=U("$ZodStringFormat",(t,e)=>{nc.init(t,e),Dd.init(t,e)}),P1=U("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Kw),Xe.init(t,e)}),R1=U("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=cp(s))}else e.pattern??(e.pattern=cp());Xe.init(t,e)}),O1=U("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Jw),Xe.init(t,e)}),D1=U("$ZodURL",(t,e)=>{Xe.init(t,e),t._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),N1=U("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Yw()),Xe.init(t,e)}),V1=U("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Ww),Xe.init(t,e)}),$1=U("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Bw),Xe.init(t,e)}),L1=U("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Uw),Xe.init(t,e)}),M1=U("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Hw),Xe.init(t,e)}),z1=U("$ZodXID",(t,e)=>{e.pattern??(e.pattern=qw),Xe.init(t,e)}),F1=U("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Zw),Xe.init(t,e)}),j1=U("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=a1(e)),Xe.init(t,e)}),B1=U("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=i1),Xe.init(t,e)}),U1=U("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=o1(e)),Xe.init(t,e)}),H1=U("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Gw),Xe.init(t,e)}),q1=U("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Xw),Xe.init(t,e),t._zod.bag.format="ipv4"}),Z1=U("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=e1),Xe.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),W1=U("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=t1),Xe.init(t,e)}),G1=U("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=n1),Xe.init(t,e),t._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[r,i]=s;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function R0(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const K1=U("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=s1),Xe.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{R0(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function J1(t){if(!S0.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return R0(n)}const Q1=U("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=S0),Xe.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{J1(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Y1=U("$ZodE164",(t,e)=>{e.pattern??(e.pattern=r1),Xe.init(t,e)});function X1(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const eT=U("$ZodJWT",(t,e)=>{Xe.init(t,e),t._zod.check=n=>{X1(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),O0=U("$ZodNumber",(t,e)=>{Ge.init(t,e),t._zod.pattern=t._zod.bag.pattern??u1,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const i=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...i?{received:i}:{}}),n}}),tT=U("$ZodNumberFormat",(t,e)=>{b1.init(t,e),O0.init(t,e)}),nT=U("$ZodBoolean",(t,e)=>{Ge.init(t,e),t._zod.pattern=d1,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),n}}),sT=U("$ZodUndefined",(t,e)=>{Ge.init(t,e),t._zod.pattern=f1,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(n,s)=>{const r=n.value;return typeof r>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:t}),n}}),rT=U("$ZodNull",(t,e)=>{Ge.init(t,e),t._zod.pattern=h1,t._zod.values=new Set([null]),t._zod.parse=(n,s)=>{const r=n.value;return r===null||n.issues.push({expected:"null",code:"invalid_type",input:r,inst:t}),n}}),iT=U("$ZodAny",(t,e)=>{Ge.init(t,e),t._zod.parse=n=>n}),oT=U("$ZodUnknown",(t,e)=>{Ge.init(t,e),t._zod.parse=n=>n}),aT=U("$ZodNever",(t,e)=>{Ge.init(t,e),t._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function up(t,e,n){t.issues.length&&e.issues.push(...pi(n,t.issues)),e.value[n]=t.value}const lT=U("$ZodArray",(t,e)=>{Ge.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const i=[];for(let a=0;a<r.length;a++){const l=r[a],c=e.element._zod.run({value:l,issues:[]},s);c instanceof Promise?i.push(c.then(d=>up(d,n,a))):up(c,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function yl(t,e,n,s){t.issues.length&&e.issues.push(...pi(n,t.issues)),t.value===void 0?n in s&&(e.value[n]=void 0):e.value[n]=t.value}function D0(t){var s,r,i,a;const e=Object.keys(t.shape);for(const l of e)if(!((a=(i=(r=(s=t.shape)==null?void 0:s[l])==null?void 0:r._zod)==null?void 0:i.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=xw(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function N0(t,e,n,s,r,i){const a=[],l=r.keySet,c=r.catchall._zod,d=c.def.type;for(const h in e){if(l.has(h))continue;if(d==="never"){a.push(h);continue}const m=c.run({value:e[h],issues:[]},s);m instanceof Promise?t.push(m.then(f=>yl(f,n,h,e))):yl(m,n,h,e)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const cT=U("$ZodObject",(t,e)=>{Ge.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const l=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...l};return Object.defineProperty(e,"shape",{value:c}),c}})}const s=Xl(()=>D0(e));He(t._zod,"propValues",()=>{const l=e.shape,c={};for(const d in l){const h=l[d]._zod;if(h.values){c[d]??(c[d]=new Set);for(const m of h.values)c[d].add(m)}}return c});const r=Yo,i=e.catchall;let a;t._zod.parse=(l,c)=>{a??(a=s.value);const d=l.value;if(!r(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),l;l.value={};const h=[],m=a.shape;for(const f of a.keys){const x=m[f]._zod.run({value:d[f],issues:[]},c);x instanceof Promise?h.push(x.then(v=>yl(v,l,f,d))):yl(x,l,f,d)}return i?N0(h,d,l,c,s.value,t):h.length?Promise.all(h).then(()=>l):l}}),uT=U("$ZodObjectJIT",(t,e)=>{cT.init(t,e);const n=t._zod.parse,s=Xl(()=>D0(e)),r=f=>{const g=new C1(["shape","payload","ctx"]),x=s.value,v=$=>{const R=lp($);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};g.write("const input = payload.value;");const A=Object.create(null);let O=0;for(const $ of x.keys)A[$]=`key_${O++}`;g.write("const newResult = {};");for(const $ of x.keys){const R=A[$],L=lp($);g.write(`const ${R} = ${v($)};`),g.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${R}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const N=g.compile();return($,R)=>N(f,$,R)};let i;const a=Yo,l=!y0.jitless,d=l&&_w.value,h=e.catchall;let m;t._zod.parse=(f,g)=>{m??(m=s.value);const x=f.value;return a(x)?l&&d&&(g==null?void 0:g.async)===!1&&g.jitless!==!0?(i||(i=r(e.shape)),f=i(f,g),h?N0([],x,f,g,m,t):f):n(f,g):(f.issues.push({expected:"object",code:"invalid_type",input:x,inst:t}),f)}});function dp(t,e,n,s){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const r=t.filter(i=>!fi(i));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(a=>or(a,s,ir())))}),e)}const V0=U("$ZodUnion",(t,e)=>{Ge.init(t,e),He(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),He(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),He(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),He(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${r.map(i=>Ad(i.source)).join("|")})$`)}});const n=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(r,i)=>{if(n)return s(r,i);let a=!1;const l=[];for(const c of e.options){const d=c._zod.run({value:r.value,issues:[]},i);if(d instanceof Promise)l.push(d),a=!0;else{if(d.issues.length===0)return d;l.push(d)}}return a?Promise.all(l).then(c=>dp(c,r,t,i)):dp(l,r,t,i)}}),dT=U("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=!1,V0.init(t,e);const n=t._zod.parse;He(t._zod,"propValues",()=>{const r={};for(const i of e.options){const a=i._zod.propValues;if(!a||Object.keys(a).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(i)}"`);for(const[l,c]of Object.entries(a)){r[l]||(r[l]=new Set);for(const d of c)r[l].add(d)}}return r});const s=Xl(()=>{var a;const r=e.options,i=new Map;for(const l of r){const c=(a=l._zod.propValues)==null?void 0:a[e.discriminator];if(!c||c.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(l)}"`);for(const d of c){if(i.has(d))throw new Error(`Duplicate discriminator value "${String(d)}"`);i.set(d,l)}}return i});t._zod.parse=(r,i)=>{const a=r.value;if(!Yo(a))return r.issues.push({code:"invalid_type",expected:"object",input:a,inst:t}),r;const l=s.value.get(a==null?void 0:a[e.discriminator]);return l?l._zod.run(r,i):e.unionFallback?n(r,i):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:a,path:[e.discriminator],inst:t}),r)}}),hT=U("$ZodIntersection",(t,e)=>{Ge.init(t,e),t._zod.parse=(n,s)=>{const r=n.value,i=e.left._zod.run({value:r,issues:[]},s),a=e.right._zod.run({value:r,issues:[]},s);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([c,d])=>hp(n,c,d)):hp(n,i,a)}});function Eu(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ri(t)&&Ri(e)){const n=Object.keys(e),s=Object.keys(t).filter(i=>n.indexOf(i)!==-1),r={...t,...e};for(const i of s){const a=Eu(t[i],e[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};r[i]=a.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<t.length;s++){const r=t[s],i=e[s],a=Eu(r,i);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function hp(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),fi(t))return t;const s=Eu(e.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}const fT=U("$ZodRecord",(t,e)=>{Ge.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Ri(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),n;const i=[],a=e.keyType._zod.values;if(a){n.value={};const l=new Set;for(const d of a)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){l.add(typeof d=="number"?d.toString():d);const h=e.valueType._zod.run({value:r[d],issues:[]},s);h instanceof Promise?i.push(h.then(m=>{m.issues.length&&n.issues.push(...pi(d,m.issues)),n.value[d]=m.value})):(h.issues.length&&n.issues.push(...pi(d,h.issues)),n.value[d]=h.value)}let c;for(const d in r)l.has(d)||(c=c??[],c.push(d));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:c})}else{n.value={};for(const l of Reflect.ownKeys(r)){if(l==="__proto__")continue;const c=e.keyType._zod.run({value:l,issues:[]},s);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){e.mode==="loose"?n.value[l]=r[l]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(h=>or(h,s,ir())),input:l,path:[l],inst:t});continue}const d=e.valueType._zod.run({value:r[l],issues:[]},s);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&n.issues.push(...pi(l,h.issues)),n.value[c.value]=h.value})):(d.issues.length&&n.issues.push(...pi(l,d.issues)),n.value[c.value]=d.value)}}return i.length?Promise.all(i).then(()=>n):n}}),pT=U("$ZodEnum",(t,e)=>{Ge.init(t,e);const n=_0(e.entries),s=new Set(n);t._zod.values=s,t._zod.pattern=new RegExp(`^(${n.filter(r=>vw.has(typeof r)).map(r=>typeof r=="string"?Oi(r):r.toString()).join("|")})$`),t._zod.parse=(r,i)=>{const a=r.value;return s.has(a)||r.issues.push({code:"invalid_value",values:n,input:a,inst:t}),r}}),mT=U("$ZodLiteral",(t,e)=>{if(Ge.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(s=>typeof s=="string"?Oi(s):s?Oi(s.toString()):String(s)).join("|")})$`),t._zod.parse=(s,r)=>{const i=s.value;return n.has(i)||s.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),s}}),gT=U("$ZodTransform",(t,e)=>{Ge.init(t,e),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new b0(t.constructor.name);const r=e.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(a=>(n.value=a,n));if(r instanceof Promise)throw new wi;return n.value=r,n}});function fp(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const bT=U("$ZodOptional",(t,e)=>{Ge.init(t,e),t._zod.optin="optional",t._zod.optout="optional",He(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),He(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ad(n.source)})?$`):void 0}),t._zod.parse=(n,s)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>fp(i,n.value)):fp(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,s)}}),yT=U("$ZodNullable",(t,e)=>{Ge.init(t,e),He(t._zod,"optin",()=>e.innerType._zod.optin),He(t._zod,"optout",()=>e.innerType._zod.optout),He(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ad(n.source)}|null)$`):void 0}),He(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,s)=>n.value===null?n:e.innerType._zod.run(n,s)}),_T=U("$ZodDefault",(t,e)=>{Ge.init(t,e),t._zod.optin="optional",He(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>pp(i,e)):pp(r,e)}});function pp(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const vT=U("$ZodPrefault",(t,e)=>{Ge.init(t,e),t._zod.optin="optional",He(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,s))}),xT=U("$ZodNonOptional",(t,e)=>{Ge.init(t,e),He(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>mp(i,t)):mp(r,t)}});function mp(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const wT=U("$ZodCatch",(t,e)=>{Ge.init(t,e),He(t._zod,"optin",()=>e.innerType._zod.optin),He(t._zod,"optout",()=>e.innerType._zod.optout),He(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>or(a,s,ir()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(i=>or(i,s,ir()))},input:n.value}),n.issues=[]),n)}}),TT=U("$ZodPipe",(t,e)=>{Ge.init(t,e),He(t._zod,"values",()=>e.in._zod.values),He(t._zod,"optin",()=>e.in._zod.optin),He(t._zod,"optout",()=>e.out._zod.optout),He(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,s)=>{if(s.direction==="backward"){const i=e.out._zod.run(n,s);return i instanceof Promise?i.then(a=>Fa(a,e.in,s)):Fa(i,e.in,s)}const r=e.in._zod.run(n,s);return r instanceof Promise?r.then(i=>Fa(i,e.out,s)):Fa(r,e.out,s)}});function Fa(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const ET=U("$ZodReadonly",(t,e)=>{Ge.init(t,e),He(t._zod,"propValues",()=>e.innerType._zod.propValues),He(t._zod,"values",()=>e.innerType._zod.values),He(t._zod,"optin",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optin}),He(t._zod,"optout",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optout}),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(gp):gp(r)}});function gp(t){return t.value=Object.freeze(t.value),t}const ST=U("$ZodCustom",(t,e)=>{gn.init(t,e),Ge.init(t,e),t._zod.parse=(n,s)=>n,t._zod.check=n=>{const s=n.value,r=e.fn(s);if(r instanceof Promise)return r.then(i=>bp(i,n,s,t));bp(r,n,s,t)}});function bp(t,e,n,s){if(!t){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),e.issues.push(Xo(r))}}var yp;class IT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const s=n[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function kT(){return new IT}(yp=globalThis).__zod_globalRegistry??(yp.__zod_globalRegistry=kT());const xo=globalThis.__zod_globalRegistry;function CT(t,e){return new t({type:"string",...oe(e)})}function AT(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...oe(e)})}function _p(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...oe(e)})}function PT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...oe(e)})}function RT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...oe(e)})}function OT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...oe(e)})}function DT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...oe(e)})}function NT(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...oe(e)})}function VT(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...oe(e)})}function $T(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...oe(e)})}function LT(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...oe(e)})}function MT(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...oe(e)})}function zT(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...oe(e)})}function FT(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...oe(e)})}function jT(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...oe(e)})}function BT(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...oe(e)})}function UT(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...oe(e)})}function HT(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...oe(e)})}function qT(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...oe(e)})}function ZT(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...oe(e)})}function WT(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...oe(e)})}function GT(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...oe(e)})}function KT(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...oe(e)})}function JT(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...oe(e)})}function QT(t,e){return new t({type:"string",format:"date",check:"string_format",...oe(e)})}function YT(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...oe(e)})}function XT(t,e){return new t({type:"string",format:"duration",check:"string_format",...oe(e)})}function eE(t,e){return new t({type:"number",checks:[],...oe(e)})}function tE(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...oe(e)})}function nE(t,e){return new t({type:"boolean",...oe(e)})}function sE(t,e){return new t({type:"undefined",...oe(e)})}function rE(t,e){return new t({type:"null",...oe(e)})}function iE(t){return new t({type:"any"})}function oE(t){return new t({type:"unknown"})}function aE(t,e){return new t({type:"never",...oe(e)})}function vp(t,e){return new A0({check:"less_than",...oe(e),value:t,inclusive:!1})}function Uc(t,e){return new A0({check:"less_than",...oe(e),value:t,inclusive:!0})}function xp(t,e){return new P0({check:"greater_than",...oe(e),value:t,inclusive:!1})}function Hc(t,e){return new P0({check:"greater_than",...oe(e),value:t,inclusive:!0})}function wp(t,e){return new g1({check:"multiple_of",...oe(e),value:t})}function $0(t,e){return new y1({check:"max_length",...oe(e),maximum:t})}function _l(t,e){return new _1({check:"min_length",...oe(e),minimum:t})}function L0(t,e){return new v1({check:"length_equals",...oe(e),length:t})}function lE(t,e){return new x1({check:"string_format",format:"regex",...oe(e),pattern:t})}function cE(t){return new w1({check:"string_format",format:"lowercase",...oe(t)})}function uE(t){return new T1({check:"string_format",format:"uppercase",...oe(t)})}function dE(t,e){return new E1({check:"string_format",format:"includes",...oe(e),includes:t})}function hE(t,e){return new S1({check:"string_format",format:"starts_with",...oe(e),prefix:t})}function fE(t,e){return new I1({check:"string_format",format:"ends_with",...oe(e),suffix:t})}function Gi(t){return new k1({check:"overwrite",tx:t})}function pE(t){return Gi(e=>e.normalize(t))}function mE(){return Gi(t=>t.trim())}function gE(){return Gi(t=>t.toLowerCase())}function bE(){return Gi(t=>t.toUpperCase())}function yE(){return Gi(t=>yw(t))}function _E(t,e,n){return new t({type:"array",element:e,...oe(n)})}function vE(t,e,n){return new t({type:"custom",check:"custom",fn:e,...oe(n)})}function xE(t){const e=wE(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Xo(s,n.value,e._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(Xo(r))}},t(n.value,n)));return e}function wE(t,e){const n=new gn({check:"custom",...oe(e)});return n._zod.check=t,n}function M0(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??xo,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function Tt(t,e,n={path:[],schemaPath:[]}){var h,m;var s;const r=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,a);const l=(m=(h=t._zod).toJSONSchema)==null?void 0:m.call(h);if(l)a.schema=l;else{const f={...n,schemaPath:[...n.schemaPath,t],path:n.path},g=t._zod.parent;if(g)a.ref=g,Tt(g,e,f),e.seen.get(g).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,f);else{const x=a.schema,v=e.processors[r.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);v(t,e,x,f)}}const c=e.metadataRegistry.get(t);return c&&Object.assign(a.schema,c),e.io==="input"&&en(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((s=a.schema).default??(s.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function z0(t,e){var i,a,l;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=c=>{var g;const d=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const x=(g=t.external.registry.get(c[0]))==null?void 0:g.id,v=t.external.uri??(O=>O);if(x)return{ref:v(x)};const A=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=A,{defId:A,ref:`${v("__shared")}#/${d}/${A}`}}if(c[1]===n)return{ref:"#"};const m=`#/${d}/`,f=c[1].schema.id??`__schema${t.counter++}`;return{defId:f,ref:m+f}},r=c=>{if(c[1].schema.$ref)return;const d=c[1],{ref:h,defId:m}=s(c);d.def={...d.schema},m&&(d.defId=m);const f=d.schema;for(const g in f)delete f[g];f.$ref=h};if(t.cycles==="throw")for(const c of t.seen.entries()){const d=c[1];if(d.cycle)throw new Error(`Cycle detected: #/${(i=d.cycle)==null?void 0:i.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const d=c[1];if(e===c[0]){r(c);continue}if(t.external){const m=(a=t.external.registry.get(c[0]))==null?void 0:a.id;if(e!==c[0]&&m){r(c);continue}}if((l=t.metadataRegistry.get(c[0]))==null?void 0:l.id){r(c);continue}if(d.cycle){r(c);continue}if(d.count>1&&t.reused==="ref"){r(c);continue}}}function F0(t,e){var a,l,c;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=d=>{const h=t.seen.get(d),m=h.def??h.schema,f={...m};if(h.ref===null)return;const g=h.ref;if(h.ref=null,g){s(g);const x=t.seen.get(g).schema;x.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(x)):(Object.assign(m,x),Object.assign(m,f))}h.isParent||t.override({zodSchema:d,jsonSchema:m,path:h.path??[]})};for(const d of[...t.seen.entries()].reverse())s(d[0]);const r={};if(t.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":t.target,(a=t.external)!=null&&a.uri){const d=(l=t.external.registry.get(e))==null?void 0:l.id;if(!d)throw new Error("Schema is missing an `id` property");r.$id=t.external.uri(d)}Object.assign(r,n.def??n.schema);const i=((c=t.external)==null?void 0:c.defs)??{};for(const d of t.seen.entries()){const h=d[1];h.def&&h.defId&&(i[h.defId]=h.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?r.$defs=i:r.definitions=i);try{const d=JSON.parse(JSON.stringify(r));return Object.defineProperty(d,"~standard",{value:{...e["~standard"],jsonSchema:{input:vl(e,"input"),output:vl(e,"output")}},enumerable:!1,writable:!1}),d}catch{throw new Error("Error converting schema to JSON.")}}function en(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return en(s.element,n);if(s.type==="set")return en(s.valueType,n);if(s.type==="lazy")return en(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return en(s.innerType,n);if(s.type==="intersection")return en(s.left,n)||en(s.right,n);if(s.type==="record"||s.type==="map")return en(s.keyType,n)||en(s.valueType,n);if(s.type==="pipe")return en(s.in,n)||en(s.out,n);if(s.type==="object"){for(const r in s.shape)if(en(s.shape[r],n))return!0;return!1}if(s.type==="union"){for(const r of s.options)if(en(r,n))return!0;return!1}if(s.type==="tuple"){for(const r of s.items)if(en(r,n))return!0;return!!(s.rest&&en(s.rest,n))}return!1}const TE=(t,e={})=>n=>{const s=M0({...n,processors:e});return Tt(t,s),z0(s,t),F0(s,t)},vl=(t,e)=>n=>{const{libraryOptions:s,target:r}=n??{},i=M0({...s??{},target:r,io:e,processors:{}});return Tt(t,i),z0(i,t),F0(i,t)},EE={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},SE=(t,e,n,s)=>{const r=n;r.type="string";const{minimum:i,maximum:a,format:l,patterns:c,contentEncoding:d}=t._zod.bag;if(typeof i=="number"&&(r.minLength=i),typeof a=="number"&&(r.maxLength=a),l&&(r.format=EE[l]??l,r.format===""&&delete r.format),d&&(r.contentEncoding=d),c&&c.size>0){const h=[...c];h.length===1?r.pattern=h[0].source:h.length>1&&(r.allOf=[...h.map(m=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},IE=(t,e,n,s)=>{const r=n,{minimum:i,maximum:a,format:l,multipleOf:c,exclusiveMaximum:d,exclusiveMinimum:h}=t._zod.bag;typeof l=="string"&&l.includes("int")?r.type="integer":r.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.minimum=h,r.exclusiveMinimum=!0):r.exclusiveMinimum=h),typeof i=="number"&&(r.minimum=i,typeof h=="number"&&e.target!=="draft-04"&&(h>=i?delete r.minimum:delete r.exclusiveMinimum)),typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.maximum=d,r.exclusiveMaximum=!0):r.exclusiveMaximum=d),typeof a=="number"&&(r.maximum=a,typeof d=="number"&&e.target!=="draft-04"&&(d<=a?delete r.maximum:delete r.exclusiveMaximum)),typeof c=="number"&&(r.multipleOf=c)},kE=(t,e,n,s)=>{n.type="boolean"},CE=(t,e,n,s)=>{e.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},AE=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},PE=(t,e,n,s)=>{n.not={}},RE=(t,e,n,s)=>{},OE=(t,e,n,s)=>{},DE=(t,e,n,s)=>{const r=t._zod.def,i=_0(r.entries);i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),n.enum=i},NE=(t,e,n,s)=>{const r=t._zod.def,i=[];for(const a of r.values)if(a===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(a))}else i.push(a);if(i.length!==0)if(i.length===1){const a=i[0];n.type=a===null?"null":typeof a,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[a]:n.const=a}else i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),i.every(a=>typeof a=="boolean")&&(n.type="boolean"),i.every(a=>a===null)&&(n.type="null"),n.enum=i},VE=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},$E=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},LE=(t,e,n,s)=>{const r=n,i=t._zod.def,{minimum:a,maximum:l}=t._zod.bag;typeof a=="number"&&(r.minItems=a),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=Tt(i.element,e,{...s,path:[...s.path,"items"]})},ME=(t,e,n,s)=>{var d;const r=n,i=t._zod.def;r.type="object",r.properties={};const a=i.shape;for(const h in a)r.properties[h]=Tt(a[h],e,{...s,path:[...s.path,"properties",h]});const l=new Set(Object.keys(a)),c=new Set([...l].filter(h=>{const m=i.shape[h]._zod;return e.io==="input"?m.optin===void 0:m.optout===void 0}));c.size>0&&(r.required=Array.from(c)),((d=i.catchall)==null?void 0:d._zod.def.type)==="never"?r.additionalProperties=!1:i.catchall?i.catchall&&(r.additionalProperties=Tt(i.catchall,e,{...s,path:[...s.path,"additionalProperties"]})):e.io==="output"&&(r.additionalProperties=!1)},zE=(t,e,n,s)=>{const r=t._zod.def,i=r.inclusive===!1,a=r.options.map((l,c)=>Tt(l,e,{...s,path:[...s.path,i?"oneOf":"anyOf",c]}));i?n.oneOf=a:n.anyOf=a},FE=(t,e,n,s)=>{const r=t._zod.def,i=Tt(r.left,e,{...s,path:[...s.path,"allOf",0]}),a=Tt(r.right,e,{...s,path:[...s.path,"allOf",1]}),l=d=>"allOf"in d&&Object.keys(d).length===1,c=[...l(i)?i.allOf:[i],...l(a)?a.allOf:[a]];n.allOf=c},jE=(t,e,n,s)=>{const r=n,i=t._zod.def;r.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(r.propertyNames=Tt(i.keyType,e,{...s,path:[...s.path,"propertyNames"]})),r.additionalProperties=Tt(i.valueType,e,{...s,path:[...s.path,"additionalProperties"]})},BE=(t,e,n,s)=>{const r=t._zod.def,i=Tt(r.innerType,e,s),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=r.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},UE=(t,e,n,s)=>{const r=t._zod.def;Tt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType},HE=(t,e,n,s)=>{const r=t._zod.def;Tt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},qE=(t,e,n,s)=>{const r=t._zod.def;Tt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},ZE=(t,e,n,s)=>{const r=t._zod.def;Tt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType;let a;try{a=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},WE=(t,e,n,s)=>{const r=t._zod.def,i=e.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;Tt(i,e,s);const a=e.seen.get(t);a.ref=i},GE=(t,e,n,s)=>{const r=t._zod.def;Tt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,n.readOnly=!0},KE=(t,e,n,s)=>{const r=t._zod.def;Tt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType},JE=U("ZodISODateTime",(t,e)=>{j1.init(t,e),at.init(t,e)});function QE(t){return JT(JE,t)}const YE=U("ZodISODate",(t,e)=>{B1.init(t,e),at.init(t,e)});function XE(t){return QT(YE,t)}const eS=U("ZodISOTime",(t,e)=>{U1.init(t,e),at.init(t,e)});function tS(t){return YT(eS,t)}const nS=U("ZodISODuration",(t,e)=>{H1.init(t,e),at.init(t,e)});function sS(t){return XT(nS,t)}const rS=(t,e)=>{T0.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Rw(t,n)},flatten:{value:n=>Pw(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Tu,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Tu,2)}},isEmpty:{get(){return t.issues.length===0}}})},zn=U("ZodError",rS,{Parent:Error}),iS=Rd(zn),oS=Od(zn),aS=ec(zn),lS=tc(zn),cS=Nw(zn),uS=Vw(zn),dS=$w(zn),hS=Lw(zn),fS=Mw(zn),pS=zw(zn),mS=Fw(zn),gS=jw(zn),Je=U("ZodType",(t,e)=>(Ge.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:vl(t,"input"),output:vl(t,"output")}}),t.toJSONSchema=TE(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Qr(e,{checks:[...e.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),t.clone=(n,s)=>gr(t,n,s),t.brand=()=>t,t.register=(n,s)=>(n.add(t,s),t),t.parse=(n,s)=>iS(t,n,s,{callee:t.parse}),t.safeParse=(n,s)=>aS(t,n,s),t.parseAsync=async(n,s)=>oS(t,n,s,{callee:t.parseAsync}),t.safeParseAsync=async(n,s)=>lS(t,n,s),t.spa=t.safeParseAsync,t.encode=(n,s)=>cS(t,n,s),t.decode=(n,s)=>uS(t,n,s),t.encodeAsync=async(n,s)=>dS(t,n,s),t.decodeAsync=async(n,s)=>hS(t,n,s),t.safeEncode=(n,s)=>fS(t,n,s),t.safeDecode=(n,s)=>pS(t,n,s),t.safeEncodeAsync=async(n,s)=>mS(t,n,s),t.safeDecodeAsync=async(n,s)=>gS(t,n,s),t.refine=(n,s)=>t.check(d2(n,s)),t.superRefine=n=>t.check(h2(n)),t.overwrite=n=>t.check(Gi(n)),t.optional=()=>Ip(t),t.nullable=()=>kp(t),t.nullish=()=>Ip(kp(t)),t.nonoptional=n=>r2(t,n),t.array=()=>Nd(t),t.or=n=>Vd([t,n]),t.and=n=>GS(t,n),t.transform=n=>Iu(t,Z0(n)),t.default=n=>t2(t,n),t.prefault=n=>s2(t,n),t.catch=n=>o2(t,n),t.pipe=n=>Iu(t,n),t.readonly=()=>c2(t),t.describe=n=>{const s=t.clone();return xo.add(s,{description:n}),s},Object.defineProperty(t,"description",{get(){var n;return(n=xo.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return xo.get(t);const s=t.clone();return xo.add(s,n[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),j0=U("_ZodString",(t,e)=>{Dd.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(s,r,i)=>SE(t,s,r);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...s)=>t.check(lE(...s)),t.includes=(...s)=>t.check(dE(...s)),t.startsWith=(...s)=>t.check(hE(...s)),t.endsWith=(...s)=>t.check(fE(...s)),t.min=(...s)=>t.check(_l(...s)),t.max=(...s)=>t.check($0(...s)),t.length=(...s)=>t.check(L0(...s)),t.nonempty=(...s)=>t.check(_l(1,...s)),t.lowercase=s=>t.check(cE(s)),t.uppercase=s=>t.check(uE(s)),t.trim=()=>t.check(mE()),t.normalize=(...s)=>t.check(pE(...s)),t.toLowerCase=()=>t.check(gE()),t.toUpperCase=()=>t.check(bE()),t.slugify=()=>t.check(yE())}),bS=U("ZodString",(t,e)=>{Dd.init(t,e),j0.init(t,e),t.email=n=>t.check(AT(yS,n)),t.url=n=>t.check(NT(_S,n)),t.jwt=n=>t.check(KT(NS,n)),t.emoji=n=>t.check(VT(vS,n)),t.guid=n=>t.check(_p(Tp,n)),t.uuid=n=>t.check(PT(ja,n)),t.uuidv4=n=>t.check(RT(ja,n)),t.uuidv6=n=>t.check(OT(ja,n)),t.uuidv7=n=>t.check(DT(ja,n)),t.nanoid=n=>t.check($T(xS,n)),t.guid=n=>t.check(_p(Tp,n)),t.cuid=n=>t.check(LT(wS,n)),t.cuid2=n=>t.check(MT(TS,n)),t.ulid=n=>t.check(zT(ES,n)),t.base64=n=>t.check(ZT(RS,n)),t.base64url=n=>t.check(WT(OS,n)),t.xid=n=>t.check(FT(SS,n)),t.ksuid=n=>t.check(jT(IS,n)),t.ipv4=n=>t.check(BT(kS,n)),t.ipv6=n=>t.check(UT(CS,n)),t.cidrv4=n=>t.check(HT(AS,n)),t.cidrv6=n=>t.check(qT(PS,n)),t.e164=n=>t.check(GT(DS,n)),t.datetime=n=>t.check(QE(n)),t.date=n=>t.check(XE(n)),t.time=n=>t.check(tS(n)),t.duration=n=>t.check(sS(n))});function q(t){return CT(bS,t)}const at=U("ZodStringFormat",(t,e)=>{Xe.init(t,e),j0.init(t,e)}),yS=U("ZodEmail",(t,e)=>{O1.init(t,e),at.init(t,e)}),Tp=U("ZodGUID",(t,e)=>{P1.init(t,e),at.init(t,e)}),ja=U("ZodUUID",(t,e)=>{R1.init(t,e),at.init(t,e)}),_S=U("ZodURL",(t,e)=>{D1.init(t,e),at.init(t,e)}),vS=U("ZodEmoji",(t,e)=>{N1.init(t,e),at.init(t,e)}),xS=U("ZodNanoID",(t,e)=>{V1.init(t,e),at.init(t,e)}),wS=U("ZodCUID",(t,e)=>{$1.init(t,e),at.init(t,e)}),TS=U("ZodCUID2",(t,e)=>{L1.init(t,e),at.init(t,e)}),ES=U("ZodULID",(t,e)=>{M1.init(t,e),at.init(t,e)}),SS=U("ZodXID",(t,e)=>{z1.init(t,e),at.init(t,e)}),IS=U("ZodKSUID",(t,e)=>{F1.init(t,e),at.init(t,e)}),kS=U("ZodIPv4",(t,e)=>{q1.init(t,e),at.init(t,e)}),CS=U("ZodIPv6",(t,e)=>{Z1.init(t,e),at.init(t,e)}),AS=U("ZodCIDRv4",(t,e)=>{W1.init(t,e),at.init(t,e)}),PS=U("ZodCIDRv6",(t,e)=>{G1.init(t,e),at.init(t,e)}),RS=U("ZodBase64",(t,e)=>{K1.init(t,e),at.init(t,e)}),OS=U("ZodBase64URL",(t,e)=>{Q1.init(t,e),at.init(t,e)}),DS=U("ZodE164",(t,e)=>{Y1.init(t,e),at.init(t,e)}),NS=U("ZodJWT",(t,e)=>{eT.init(t,e),at.init(t,e)}),B0=U("ZodNumber",(t,e)=>{O0.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(s,r,i)=>IE(t,s,r),t.gt=(s,r)=>t.check(xp(s,r)),t.gte=(s,r)=>t.check(Hc(s,r)),t.min=(s,r)=>t.check(Hc(s,r)),t.lt=(s,r)=>t.check(vp(s,r)),t.lte=(s,r)=>t.check(Uc(s,r)),t.max=(s,r)=>t.check(Uc(s,r)),t.int=s=>t.check(Ep(s)),t.safe=s=>t.check(Ep(s)),t.positive=s=>t.check(xp(0,s)),t.nonnegative=s=>t.check(Hc(0,s)),t.negative=s=>t.check(vp(0,s)),t.nonpositive=s=>t.check(Uc(0,s)),t.multipleOf=(s,r)=>t.check(wp(s,r)),t.step=(s,r)=>t.check(wp(s,r)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Nn(t){return eE(B0,t)}const VS=U("ZodNumberFormat",(t,e)=>{tT.init(t,e),B0.init(t,e)});function Ep(t){return tE(VS,t)}const $S=U("ZodBoolean",(t,e)=>{nT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>kE(t,n,s)});function es(t){return nE($S,t)}const LS=U("ZodUndefined",(t,e)=>{sT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>AE(t,n)});function U0(t){return sE(LS,t)}const MS=U("ZodNull",(t,e)=>{rT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>CE(t,n,s)});function H0(t){return rE(MS,t)}const zS=U("ZodAny",(t,e)=>{iT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>RE()});function FS(){return iE(zS)}const jS=U("ZodUnknown",(t,e)=>{oT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>OE()});function Sp(){return oE(jS)}const BS=U("ZodNever",(t,e)=>{aT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>PE(t,n,s)});function US(t){return aE(BS,t)}const HS=U("ZodArray",(t,e)=>{lT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>LE(t,n,s,r),t.element=e.element,t.min=(n,s)=>t.check(_l(n,s)),t.nonempty=n=>t.check(_l(1,n)),t.max=(n,s)=>t.check($0(n,s)),t.length=(n,s)=>t.check(L0(n,s)),t.unwrap=()=>t.element});function Nd(t,e){return _E(HS,t,e)}const qS=U("ZodObject",(t,e)=>{uT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>ME(t,n,s,r),He(t,"shape",()=>e.shape),t.keyof=()=>Nt(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Sp()}),t.loose=()=>t.clone({...t._zod.def,catchall:Sp()}),t.strict=()=>t.clone({...t._zod.def,catchall:US()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Sw(t,n),t.safeExtend=n=>Iw(t,n),t.merge=n=>kw(t,n),t.pick=n=>Tw(t,n),t.omit=n=>Ew(t,n),t.partial=(...n)=>Cw(W0,t,n[0]),t.required=(...n)=>Aw(G0,t,n[0])});function ze(t,e){const n={type:"object",shape:t??{},...oe(e)};return new qS(n)}const q0=U("ZodUnion",(t,e)=>{V0.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>zE(t,n,s,r),t.options=e.options});function Vd(t,e){return new q0({type:"union",options:t,...oe(e)})}const ZS=U("ZodDiscriminatedUnion",(t,e)=>{q0.init(t,e),dT.init(t,e)});function $d(t,e,n){return new ZS({type:"union",options:e,discriminator:t,...oe(n)})}const WS=U("ZodIntersection",(t,e)=>{hT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>FE(t,n,s,r)});function GS(t,e){return new WS({type:"intersection",left:t,right:e})}const KS=U("ZodRecord",(t,e)=>{fT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>jE(t,n,s,r),t.keyType=e.keyType,t.valueType=e.valueType});function JS(t,e,n){return new KS({type:"record",keyType:t,valueType:e,...oe(n)})}const Su=U("ZodEnum",(t,e)=>{pT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(s,r,i)=>DE(t,s,r),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(s,r)=>{const i={};for(const a of s)if(n.has(a))i[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Su({...e,checks:[],...oe(r),entries:i})},t.exclude=(s,r)=>{const i={...e.entries};for(const a of s)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new Su({...e,checks:[],...oe(r),entries:i})}});function Nt(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new Su({type:"enum",entries:n,...oe(e)})}const QS=U("ZodLiteral",(t,e)=>{mT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>NE(t,n,s),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Jt(t,e){return new QS({type:"literal",values:Array.isArray(t)?t:[t],...oe(e)})}const YS=U("ZodTransform",(t,e)=>{gT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>$E(t,n),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new b0(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Xo(i,n.value,e));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(Xo(a))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(i=>(n.value=i,n)):(n.value=r,n)}});function Z0(t){return new YS({type:"transform",transform:t})}const W0=U("ZodOptional",(t,e)=>{bT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>KE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function Ip(t){return new W0({type:"optional",innerType:t})}const XS=U("ZodNullable",(t,e)=>{yT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>BE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function kp(t){return new XS({type:"nullable",innerType:t})}const e2=U("ZodDefault",(t,e)=>{_T.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>HE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function t2(t,e){return new e2({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():x0(e)}})}const n2=U("ZodPrefault",(t,e)=>{vT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>qE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function s2(t,e){return new n2({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():x0(e)}})}const G0=U("ZodNonOptional",(t,e)=>{xT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>UE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function r2(t,e){return new G0({type:"nonoptional",innerType:t,...oe(e)})}const i2=U("ZodCatch",(t,e)=>{wT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>ZE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function o2(t,e){return new i2({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const a2=U("ZodPipe",(t,e)=>{TT.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>WE(t,n,s,r),t.in=e.in,t.out=e.out});function Iu(t,e){return new a2({type:"pipe",in:t,out:e})}const l2=U("ZodReadonly",(t,e)=>{ET.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>GE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function c2(t){return new l2({type:"readonly",innerType:t})}const u2=U("ZodCustom",(t,e)=>{ST.init(t,e),Je.init(t,e),t._zod.processJSONSchema=(n,s,r)=>VE(t,n)});function d2(t,e={}){return vE(u2,t,e)}function h2(t){return xE(t)}function f2(t,e){return Iu(Z0(t),e)}const xl=t=>{if(!t||typeof t!="object")return t;if(Array.isArray(t))return t.map(s=>xl(s));const e={t:"title",s:"subtitle",d:"description",desc:"description",bg:"background",img:"image",fs:"features",tl:"timeline",st:"steps"},n={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const r=e[s]||s,i=t[s];n[r]=xl(i)}return n},us=t=>Vd([t,Nd(t),H0(),U0()]).transform(e=>e==null?[]:Array.isArray(e)?e:[e]),Le=Vd([q(),Nn(),H0(),U0()]).transform(t=>t==null?"":String(t)),Ld=q().describe("Icon name (e.g. 'star', 'users', 'arrow-right'). Use standard Lucide/FontAwesome names."),Ki=ze({id:q().optional().describe("Unique ID for the slide. Useful for navigation."),sizing:Nt(["viewport","container"]).optional().describe("How the slide fits the screen. Default: 'viewport'."),meta:JS(q(),FS()).optional().describe("Arbitrary metadata for custom behavior.")}),p2=Ki.extend({type:Jt("statement").describe("Use for high-impact titles, covers, or quotes."),title:Le.describe("Main headline. Keep it punchy (3-6 words)."),subtitle:Le.optional().describe("Supporting text or attribution."),tag:Le.optional().describe("Small eyebrow tag above the title.")}),m2=ze({title:Le.describe("Feature name."),description:Le.describe("Short benefit description."),icon:Ld.optional().describe("Visual icon for the feature.")}),g2=Ki.extend({type:Jt("features").describe("Use for lists of benefits, stats, or grid items."),title:Le.describe("Section header."),description:Le.optional().describe("Contextual description."),features:us(m2).describe("Array of feature cards.")}),K0=ze({date:Le.describe("Time marker (Year, Date, or 'Now')."),title:Le.describe("Event title."),description:Le.describe("Event details (1-2 sentences)."),icon:Ld.optional().describe("Optional marker icon.")}),b2=Ki.extend({type:Jt("timeline").describe("Use for history, roadmaps, or chronological steps."),title:Le.describe("Timeline header."),subtitle:Le.optional(),timeline:us(K0).describe("Ordered events.")}),J0=ze({step:Le.describe("Step number/label (e.g., '01', 'A')."),title:Le.describe("Action title."),description:Le.optional().describe("Action details."),icon:Ld.optional()}),y2=Ki.extend({type:Jt("steps").describe("Use for tutorials, 'how-to' guides, or process flows."),title:Le.describe("Process header."),subtitle:Le.optional(),steps:us(J0).describe("Sequential steps.")}),_2=Ki.extend({type:Jt("half").describe("Use when you have a strong visual + explanations."),imageSide:Nt(["left","right"]).default("left").describe("Which side the image goes on."),image:Le.describe("URL to the image."),title:Le.describe("Headline."),tag:Le.optional(),paragraphs:us(q()).describe("Array of text blocks/paragraphs."),cta:Le.optional().describe("Call to Action label (button).")}),ea=Nt(["none","xs","sm","md","lg","xl","2xl"]).describe("Spacing size token."),ps=Nt(["auto","quarter","third","half","two-thirds","three-quarters","full"]).describe("Element size in container."),v2=Nt(["top","center","bottom"]).describe("Vertical alignment."),x2=Nt(["left","center","right"]).describe("Horizontal alignment."),Q0=Nt(["left","center","right"]).describe("Text alignment."),Y0=ze({type:Jt("title").describe("Large heading text."),text:Le.describe("The heading text."),size:Nt(["lg","xl","2xl","3xl"]).optional().describe("Heading size. Default: 'xl'."),align:Q0.optional().describe("Text alignment. Default: 'left'.")}),X0=ze({type:Jt("text").describe("Body paragraph text."),text:Le.describe("The paragraph text."),align:Q0.optional().describe("Text alignment. Default: 'left'."),muted:es().optional().describe("Muted/subtle appearance. Default: false.")}),eb=ze({type:Jt("bullets").describe("Unordered bullet list."),items:us(q()).describe("List items.")}),tb=ze({type:Jt("ordered").describe("Numbered list."),items:us(q()).describe("List items.")}),w2=ze({type:Jt("image").describe("Visual media element."),src:Le.describe("Image URL."),alt:Le.optional().describe("Alt text for accessibility."),fill:es().optional().describe("Fill container edge-to-edge. Default: true."),fit:Nt(["cover","contain"]).optional().describe("Object-fit when fill. Default: 'cover'."),rounded:Nt(["none","sm","md","lg","xl","full"]).optional().describe("Border radius.")}),nb=ze({type:Jt("button").describe("Call-to-action button."),label:Le.describe("Button label text."),action:Le.optional().describe("Action identifier emitted on click."),variant:Nt(["primary","secondary","outline","ghost"]).optional().describe("Visual variant. Default: 'primary'."),fullWidth:es().optional().describe("Full width button. Default: false.")}),sb=ze({type:Jt("timeline").describe("Embedded timeline with events."),items:us(K0).describe("Timeline events."),compact:es().optional().describe("Compact display mode. Default: false.")}),rb=ze({type:Jt("stepper").describe("Embedded step-by-step process."),items:us(J0).describe("Step items."),compact:es().optional().describe("Compact display mode. Default: false.")}),T2=ze({type:Jt("spacer").describe("Adds visual spacing."),size:ea.optional().describe("Size of the space. Default: 'md'.")}),E2=$d("type",[Y0,X0,eb,tb,nb,sb,rb,T2]),S2=ze({type:Jt("content").describe("Groups child elements vertically with alignment control."),elements:us(E2).describe("Child elements."),valign:v2.optional().describe("Vertical alignment. Default: 'center'."),halign:x2.optional().describe("Horizontal alignment. Default: 'left'."),gap:ea.optional().describe("Gap between children. Default: 'md'."),padding:ea.optional().describe("Internal padding. Default: 'lg'."),size:ps.optional().describe("Size in parent flex container.")}),I2=$d("type",[w2.extend({size:ps.optional()}),S2,Y0.extend({size:ps.optional()}),X0.extend({size:ps.optional()}),eb.extend({size:ps.optional()}),tb.extend({size:ps.optional()}),nb.extend({size:ps.optional()}),sb.extend({size:ps.optional()}),rb.extend({size:ps.optional()})]),k2=Ki.extend({type:Jt("flex").describe("Flow-based layout. Elements flow in order with semantic sizing."),direction:Nt(["horizontal","vertical"]).optional().describe("Main flow direction. Default: 'horizontal'."),gap:ea.optional().describe("Gap between elements. Default: 'none'."),padding:ea.optional().describe("Container padding. Default: 'none'."),elements:us(I2).describe("Flex elements in flow order.")}),C2=$d("type",[p2,g2,b2,y2,_2,k2]),A2=ze({primary:q().optional().describe("Main brand/accent color. Used for highlights, buttons, links. Example: '#3b82f6'"),secondary:q().optional().describe("Secondary brand color. Used for complementary elements. Example: '#8b5cf6'"),accent:q().optional().describe("Tertiary/accent color. Used for special highlights. Example: '#06b6d4'"),background:q().optional().describe("Main background color. Example: '#030303'"),surface:q().optional().describe("Elevated surface color (cards, panels, modals). Example: '#0a0a0a'"),text:q().optional().describe("Primary text color. Example: '#ffffff'"),textSecondary:q().optional().describe("Secondary/subdued text color. Example: '#e5e7eb'"),muted:q().optional().describe("Muted/disabled text color. Example: '#9ca3af'"),success:q().optional().describe("Success state color (green tones). Example: '#10b981'"),warning:q().optional().describe("Warning state color (yellow/amber). Example: '#f59e0b'"),danger:q().optional().describe("Danger/error state color (red). Example: '#ef4444'"),info:q().optional().describe("Informational state color (blue). Example: '#3b82f6'"),border:q().optional().describe("Border color for containers, cards. Example: 'rgba(255,255,255,0.1)'"),borderSubtle:q().optional().describe("Subtle border for dividers. Example: 'rgba(255,255,255,0.05)'"),shadow:q().optional().describe("Shadow color. Example: '#000000'"),overlay:q().optional().describe("Overlay color for modals. Example: 'rgba(0,0,0,0.5)'"),highlight:q().optional().describe("Highlight/selection color."),buttonPrimary:q().optional().describe("Primary button background."),buttonPrimaryText:q().optional().describe("Primary button text color."),buttonSecondary:q().optional().describe("Secondary button background."),buttonSecondaryText:q().optional().describe("Secondary button text color."),link:q().optional().describe("Link color."),linkHover:q().optional().describe("Link hover color."),gradientFrom:q().optional().describe("Gradient start color. Example: '#3b82f6'"),gradientVia:q().optional().describe("Gradient middle color (optional)."),gradientTo:q().optional().describe("Gradient end color. Example: '#8b5cf6'")}).describe("Color palette configuration with 25+ customizable colors."),P2=ze({fontFamily:ze({heading:q().optional().describe("Font for headings. Example: 'Inter, sans-serif'"),body:q().optional().describe("Font for body text. Example: 'Inter, sans-serif'"),mono:q().optional().describe("Font for code. Example: 'monospace'")}).optional().describe("Font family definitions."),fontSize:ze({xs:q().optional().describe("Extra small: 0.75rem"),sm:q().optional().describe("Small: 0.875rem"),base:q().optional().describe("Base: 1rem"),lg:q().optional().describe("Large: 1.125rem"),xl:q().optional().describe("Extra large: 1.25rem"),"2xl":q().optional().describe("2XL: 1.5rem"),"3xl":q().optional().describe("3XL: 1.875rem"),"4xl":q().optional().describe("4XL: 2.25rem"),"5xl":q().optional().describe("5XL: 3rem"),"6xl":q().optional().describe("6XL: 3.75rem"),"7xl":q().optional().describe("7XL: 4.5rem")}).optional().describe("Font size scale."),fontWeight:ze({light:Nn().optional().describe("Light: 300"),normal:Nn().optional().describe("Normal: 400"),medium:Nn().optional().describe("Medium: 500"),semibold:Nn().optional().describe("Semibold: 600"),bold:Nn().optional().describe("Bold: 700"),extrabold:Nn().optional().describe("Extra bold: 800")}).optional().describe("Font weight scale."),lineHeight:ze({tight:q().optional().describe("Tight: 1.1"),snug:q().optional().describe("Snug: 1.25"),normal:q().optional().describe("Normal: 1.5"),relaxed:q().optional().describe("Relaxed: 1.625"),loose:q().optional().describe("Loose: 2")}).optional().describe("Line height scale."),letterSpacing:ze({tighter:q().optional().describe("-0.05em"),tight:q().optional().describe("-0.025em"),normal:q().optional().describe("0"),wide:q().optional().describe("0.025em"),wider:q().optional().describe("0.05em"),widest:q().optional().describe("0.1em")}).optional().describe("Letter spacing scale.")}).describe("Typography configuration: fonts, sizes, weights, line-heights."),R2=ze({none:q().optional().describe("0"),xs:q().optional().describe("0.25rem / 4px"),sm:q().optional().describe("0.5rem / 8px"),md:q().optional().describe("1rem / 16px"),lg:q().optional().describe("1.5rem / 24px"),xl:q().optional().describe("2rem / 32px"),"2xl":q().optional().describe("3rem / 48px"),"3xl":q().optional().describe("4rem / 64px"),"4xl":q().optional().describe("6rem / 96px")}).describe("Spacing scale for gaps, padding, margins."),O2=ze({none:q().optional().describe("No rounding: 0"),sm:q().optional().describe("Small: 0.25rem"),md:q().optional().describe("Medium: 0.5rem"),lg:q().optional().describe("Large: 0.75rem"),xl:q().optional().describe("Extra large: 1rem"),"2xl":q().optional().describe("2XL: 1.5rem"),"3xl":q().optional().describe("3XL: 2rem"),full:q().optional().describe("Full circle: 9999px")}).describe("Border radius scale for rounded corners."),D2=ze({useGradients:es().optional().describe("Enable/disable gradient effects globally."),gradientDirection:Nt(["to-t","to-b","to-l","to-r","to-tl","to-tr","to-bl","to-br"]).optional().describe("Gradient direction."),gradientFrom:q().optional().describe("Override gradient start color."),gradientVia:q().optional().describe("Override gradient middle color."),gradientTo:q().optional().describe("Override gradient end color."),useShadows:es().optional().describe("Enable/disable shadow effects."),shadowIntensity:Nt(["none","sm","md","lg","xl","2xl"]).optional().describe("Shadow intensity level."),shadowColor:q().optional().describe("Shadow color."),useGlass:es().optional().describe("Enable/disable glassmorphism effect."),glassOpacity:Nn().optional().describe("Glass panel opacity (0-1)."),glassBlur:q().optional().describe("Glass blur amount. Example: '20px'"),glassBorderOpacity:Nn().optional().describe("Glass border opacity (0-1)."),useOrb:es().optional().describe("Enable/disable ambient orb/glow effect."),orbOpacity:Nn().optional().describe("Orb opacity (0-1)."),orbBlur:q().optional().describe("Orb blur amount. Example: '120px'"),orbSize:q().optional().describe("Orb size. Example: '60vw'"),animationsEnabled:es().optional().describe("Enable/disable animations globally."),transitionDuration:q().optional().describe("Default transition duration. Example: '0.3s'"),transitionEasing:q().optional().describe("Default transition easing. Example: 'ease-out'"),hoverScale:Nn().optional().describe("Hover scale factor. Example: 1.05")}).describe("Visual effects: gradients, shadows, glass, orb, animations."),N2=ze({buttonRadius:q().optional().describe("Button border radius."),buttonPadding:q().optional().describe("Button padding. Example: '0.75rem 1.5rem'"),buttonFontWeight:Nn().optional().describe("Button font weight."),buttonTextTransform:Nt(["none","uppercase","capitalize"]).optional().describe("Button text transform."),cardRadius:q().optional().describe("Card border radius."),cardPadding:q().optional().describe("Card padding."),cardBorderWidth:q().optional().describe("Card border width. Example: '1px'"),cardBackground:q().optional().describe("Card background override."),timelineNodeSize:q().optional().describe("Timeline node size. Example: '1rem'"),timelineLineWidth:q().optional().describe("Timeline line width. Example: '2px'"),timelineNodeColor:q().optional().describe("Timeline node color."),timelineLineColor:q().optional().describe("Timeline line color."),stepBadgeSize:q().optional().describe("Step badge size."),stepFontSize:q().optional().describe("Step font size."),progressHeight:q().optional().describe("Progress bar height."),progressRadius:q().optional().describe("Progress bar border radius."),progressBackground:q().optional().describe("Progress bar background."),progressFill:q().optional().describe("Progress bar fill color."),tagPadding:q().optional().describe("Tag padding."),tagRadius:q().optional().describe("Tag border radius."),tagFontSize:q().optional().describe("Tag font size."),inputRadius:q().optional().describe("Input border radius."),inputPadding:q().optional().describe("Input padding."),inputBorder:q().optional().describe("Input border color."),inputFocusBorder:q().optional().describe("Input focus border color.")}).describe("Component-specific theming: buttons, cards, timeline, steps, etc."),V2=ze({colors:A2.optional().describe("Color palette with 25+ customizable colors."),typography:P2.optional().describe("Typography: fonts, sizes, weights, line-heights."),spacing:R2.optional().describe("Spacing scale for consistent gaps and padding."),borderRadius:O2.optional().describe("Border radius tokens for rounded corners."),effects:D2.optional().describe("Visual effects: gradients, shadows, glass, orb."),components:N2.optional().describe("Component-specific styling tokens.")}).describe("Complete theme configuration for full visual customization."),$2=Nt(["default","ocean","midnight","forest","cyber","latte","sunset","monochrome"]).describe("Built-in theme preset name."),L2=ze({title:Le.describe("Title of the entire presentation."),author:Le.optional(),date:Le.optional(),theme:$2.optional().describe("Theme preset to use. Options: default, ocean, midnight, forest, cyber, latte, sunset, monochrome."),themeConfig:V2.optional().describe("Custom theme configuration to override preset values.")}).passthrough();ze({meta:L2.describe("Global deck settings including title and theme."),slides:Nd(f2(xl,C2)).describe("Ordered array of slide definitions.")});const ya=Symbol("LuminaStore"),M2={loop:!1,navigation:!0,keyboard:!0,touch:!0,debug:!1,theme:"default",ui:{visible:!0,showProgressBar:!0,showSlideCount:!0,showControls:!0},keys:{next:["ArrowRight"," ","Enter"],prev:["ArrowLeft","Backspace"]},animation:{enabled:!0,type:"cascade",durationIn:1,durationOut:.5,stagger:.1,ease:"power3.out"}};function Ti(t){if(typeof t=="string")return gw(t);if(Array.isArray(t))return t.map(Ti);if(t&&typeof t=="object"){const e={};for(const n in t)e[n]=Ti(t[n]);return e}return t}function ib(t,e){if(typeof t!="object"||t===null||typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(Ti);const n={...t};for(const s in e)e[s]===Object(e[s])?s in t?n[s]=ib(t[s],e[s]):Object.assign(n,{[s]:Ti(e[s])}):Object.assign(n,{[s]:Ti(e[s])});return n}function z2(t={}){const e=Zl({deck:null,currentIndex:0,options:{...M2,...t},isReady:!1,actionHistory:[]}),n=()=>!e.deck||e.deck.slides.length===0?null:e.deck.slides[e.currentIndex]||null,s=()=>e.deck?e.options.loop?!0:e.currentIndex<e.deck.slides.length-1:!1,r=()=>e.deck?e.options.loop?!0:e.currentIndex>0:!1,i=()=>!e.deck||e.deck.slides.length<=1?0:e.currentIndex/(e.deck.slides.length-1);function a(g){e.options={...e.options,...g},g.theme&&(g.theme,e.options.theme=g.theme),g.ui&&(e.options.ui={...e.options.ui,...g.ui}),g.keys&&(e.options.keys={...e.options.keys,...g.keys}),g.animation&&(e.options.animation={...e.options.animation,...g.animation})}function l(g){if(!g||!Array.isArray(g.slides)){console.error("[LuminaStore] Invalid deck format");return}const x=xl(g);e.deck=Ti(x),e.currentIndex=0,e.isReady=!0,e.actionHistory=[]}function c(g){e.deck&&(e.deck=ib(e.deck,g))}function d(g){e.actionHistory.push(g),e.actionHistory.length>50&&e.actionHistory.shift()}function h(){var v;if(!s())return;const g=((v=e.deck)==null?void 0:v.slides.length)||0;let x=e.currentIndex;e.options.loop?x=(e.currentIndex+1)%g:x++,x!==e.currentIndex&&(e.currentIndex=x)}function m(){var v;if(!r())return;const g=((v=e.deck)==null?void 0:v.slides.length)||0;let x=e.currentIndex;e.options.loop?x=(e.currentIndex-1+g)%g:x--,x!==e.currentIndex&&(e.currentIndex=x)}function f(g){e.deck&&g>=0&&g<e.deck.slides.length&&e.currentIndex!==g&&(e.currentIndex=g)}return{state:cl(e),currentSlide:n,hasNext:s,hasPrev:r,progress:i,setOptions:a,loadDeck:l,patchDeck:c,recordAction:d,next:h,prev:m,goto:f}}function F2(){const t=xs(ya);if(!t)throw new Error("Lumina: Component must be used within a Lumina instance.");return{slide:Ie(()=>t.currentSlide()),index:Ie(()=>t.state.currentIndex),total:Ie(()=>{var e;return((e=t.state.deck)==null?void 0:e.slides.length)||0}),next:t.next,prev:t.prev,goto:t.goto,options:t.state.options}}function j2(){const t=xs(ya);if(!t)return;let e=0;const n=300,s=r=>{var d,h;const{options:i}=t.state;if(!i.keyboard||!i.navigation)return;const a=Date.now();if(a-e<n)return;const l=((d=i.keys)==null?void 0:d.next)||[],c=((h=i.keys)==null?void 0:h.prev)||[];l.includes(r.key)?(t.next(),e=a):c.includes(r.key)&&(t.prev(),e=a)};mn(()=>{window.addEventListener("keydown",s)}),qn(()=>{window.removeEventListener("keydown",s)})}class B2{constructor(){Yt(this,"handlers",new Map)}on(e,n){this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(n)}off(e,n){const s=this.handlers.get(e);s&&s.delete(n)}emit(e,n){const s=this.handlers.get(e);s&&s.forEach(r=>{try{r(n)}catch(i){console.error(`[LuminaBus] Error in handler for event "${e}":`,i)}})}clear(){this.handlers.clear()}}const Hs=new B2;function gs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ob(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var kn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Di={duration:.5,overwrite:!1,delay:0},Md,Dt,Ye,Vn=1e8,Be=1/Vn,ku=Math.PI*2,U2=ku/4,H2=0,ab=Math.sqrt,q2=Math.cos,Z2=Math.sin,Ct=function(e){return typeof e=="string"},ut=function(e){return typeof e=="function"},Is=function(e){return typeof e=="number"},zd=function(e){return typeof e>"u"},as=function(e){return typeof e=="object"},cn=function(e){return e!==!1},Fd=function(){return typeof window<"u"},Ba=function(e){return ut(e)||Ct(e)},lb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Kt=Array.isArray,W2=/random\([^)]+\)/g,G2=/,\s*/g,Cp=/(?:-?\.?\d|\.)+/gi,cb=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,mi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,qc=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ub=/[+-]=-?[.\d]+/,K2=/[^,'"\[\]\s]+/gi,J2=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,nt,Qn,Cu,jd,Cn={},wl={},db,hb=function(e){return(wl=Ni(e,Cn))&&pn},Bd=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},ta=function(e,n){return!n&&console.warn(e)},fb=function(e,n){return e&&(Cn[e]=n)&&wl&&(wl[e]=n)||Cn},na=function(){return 0},Q2={suppressEvents:!0,isStart:!0,kill:!1},el={suppressEvents:!0,kill:!1},Y2={suppressEvents:!0},Ud={},Qs=[],Au={},pb,wn={},Zc={},Ap=30,tl=[],Hd="",qd=function(e){var n=e[0],s,r;if(as(n)||ut(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(r=tl.length;r--&&!tl[r].targetTest(n););s=tl[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new Mb(e[r],s)))||e.splice(r,1);return e},Fr=function(e){return e._gsap||qd($n(e))[0]._gsap},mb=function(e,n,s){return(s=e[n])&&ut(s)?e[n]():zd(s)&&e.getAttribute&&e.getAttribute(n)||s},un=function(e,n){return(e=e.split(",")).forEach(n)||e},ft=function(e){return Math.round(e*1e5)/1e5||0},tt=function(e){return Math.round(e*1e7)/1e7||0},Ei=function(e,n){var s=n.charAt(0),r=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+r:s==="-"?e-r:s==="*"?e*r:e/r},X2=function(e,n){for(var s=n.length,r=0;e.indexOf(n[r])<0&&++r<s;);return r<s},Tl=function(){var e=Qs.length,n=Qs.slice(0),s,r;for(Au={},Qs.length=0,s=0;s<e;s++)r=n[s],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},Zd=function(e){return!!(e._initted||e._startAt||e.add)},gb=function(e,n,s,r){Qs.length&&!Dt&&Tl(),e.render(n,s,!!(Dt&&n<0&&Zd(e))),Qs.length&&!Dt&&Tl()},bb=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(K2).length<2?n:Ct(e)?e.trim():e},yb=function(e){return e},An=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},e4=function(e){return function(n,s){for(var r in s)r in n||r==="duration"&&e||r==="ease"||(n[r]=s[r])}},Ni=function(e,n){for(var s in n)e[s]=n[s];return e},Pp=function t(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=as(n[s])?t(e[s]||(e[s]={}),n[s]):n[s]);return e},El=function(e,n){var s={},r;for(r in e)r in n||(s[r]=e[r]);return s},No=function(e){var n=e.parent||nt,s=e.keyframes?e4(Kt(e.keyframes)):An;if(cn(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},t4=function(e,n){for(var s=e.length,r=s===n.length;r&&s--&&e[s]===n[s];);return s<0},_b=function(e,n,s,r,i){var a=e[r],l;if(i)for(l=n[i];a&&a[i]>l;)a=a._prev;return a?(n._next=a._next,a._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[r]=n,n._prev=a,n.parent=n._dp=e,n},sc=function(e,n,s,r){s===void 0&&(s="_first"),r===void 0&&(r="_last");var i=n._prev,a=n._next;i?i._next=a:e[s]===n&&(e[s]=a),a?a._prev=i:e[r]===n&&(e[r]=i),n._next=n._prev=n.parent=null},ar=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},jr=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},n4=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Pu=function(e,n,s,r){return e._startAt&&(Dt?e._startAt.revert(el):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,r))},s4=function t(e){return!e||e._ts&&t(e.parent)},Rp=function(e){return e._repeat?Vi(e._tTime,e=e.duration()+e._rDelay)*e:0},Vi=function(e,n){var s=Math.floor(e=tt(e/n));return e&&s===e?s-1:s},Sl=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},rc=function(e){return e._end=tt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Be)||0))},ic=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=tt(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),rc(e),s._dirty||jr(s,e)),e},vb=function(e,n){var s;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(s=Sl(e.rawTime(),n),(!n._dur||_a(0,n.totalDuration(),s)-n._tTime>Be)&&n.render(s,!0)),jr(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-Be}},ts=function(e,n,s,r){return n.parent&&ar(n),n._start=tt((Is(s)?s:s||e!==nt?On(e,s,n):e._time)+n._delay),n._end=tt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),_b(e,n,"_first","_last",e._sort?"_start":0),Ru(n)||(e._recent=n),r||vb(e,n),e._ts<0&&ic(e,e._tTime),e},xb=function(e,n){return(Cn.ScrollTrigger||Bd("scrollTrigger",n))&&Cn.ScrollTrigger.create(n,e)},wb=function(e,n,s,r,i){if(Gd(e,n,i),!e._initted)return 1;if(!s&&e._pt&&!Dt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&pb!==Tn.frame)return Qs.push(e),e._lazy=[i,r],1},r4=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Ru=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},i4=function(e,n,s,r){var i=e.ratio,a=n<0||!n&&(!e._start&&r4(e)&&!(!e._initted&&Ru(e))||(e._ts<0||e._dp._ts<0)&&!Ru(e))?0:1,l=e._rDelay,c=0,d,h,m;if(l&&e._repeat&&(c=_a(0,e._tDur,n),h=Vi(c,l),e._yoyo&&h&1&&(a=1-a),h!==Vi(e._tTime,l)&&(i=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==i||Dt||r||e._zTime===Be||!n&&e._zTime){if(!e._initted&&wb(e,n,r,s,c))return;for(m=e._zTime,e._zTime=n||(s?Be:0),s||(s=n&&!m),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,d=e._pt;d;)d.r(a,d.d),d=d._next;n<0&&Pu(e,n,s,!0),e._onUpdate&&!s&&Sn(e,"onUpdate"),c&&e._repeat&&!s&&e.parent&&Sn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===a&&(a&&ar(e,1),!s&&!Dt&&(Sn(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},o4=function(e,n,s){var r;if(s>n)for(r=e._first;r&&r._start<=s;){if(r.data==="isPause"&&r._start>n)return r;r=r._next}else for(r=e._last;r&&r._start>=s;){if(r.data==="isPause"&&r._start<n)return r;r=r._prev}},$i=function(e,n,s,r){var i=e._repeat,a=tt(n)||0,l=e._tTime/e._tDur;return l&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:tt(a*(i+1)+e._rDelay*i):a,l>0&&!r&&ic(e,e._tTime=e._tDur*l),e.parent&&rc(e),s||jr(e.parent,e),e},Op=function(e){return e instanceof sn?jr(e):$i(e,e._dur)},a4={_start:0,endTime:na,totalDuration:na},On=function t(e,n,s){var r=e.labels,i=e._recent||a4,a=e.duration()>=Vn?i.endTime(!1):e._dur,l,c,d;return Ct(n)&&(isNaN(n)||n in r)?(c=n.charAt(0),d=n.substr(-1)==="%",l=n.indexOf("="),c==="<"||c===">"?(l>=0&&(n=n.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(l<0?i:s).totalDuration()/100:1)):l<0?(n in r||(r[n]=a),r[n]):(c=parseFloat(n.charAt(l-1)+n.substr(l+1)),d&&s&&(c=c/100*(Kt(s)?s[0]:s).totalDuration()),l>1?t(e,n.substr(0,l-1),s)+c:a+c)):n==null?a:+n},Vo=function(e,n,s){var r=Is(n[1]),i=(r?2:1)+(e<2?0:1),a=n[i],l,c;if(r&&(a.duration=n[1]),a.parent=s,e){for(l=a,c=s;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=cn(c.vars.inherit)&&c.parent;a.immediateRender=cn(l.immediateRender),e<2?a.runBackwards=1:a.startAt=n[i-1]}return new bt(n[0],a,n[i+1])},br=function(e,n){return e||e===0?n(e):n},_a=function(e,n,s){return s<e?e:s>n?n:s},Wt=function(e,n){return!Ct(e)||!(n=J2.exec(e))?"":n[1]},l4=function(e,n,s){return br(s,function(r){return _a(e,n,r)})},Ou=[].slice,Tb=function(e,n){return e&&as(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&as(e[0]))&&!e.nodeType&&e!==Qn},c4=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(r){var i;return Ct(r)&&!n||Tb(r,1)?(i=s).push.apply(i,$n(r)):s.push(r)})||s},$n=function(e,n,s){return Ye&&!n&&Ye.selector?Ye.selector(e):Ct(e)&&!s&&(Cu||!Li())?Ou.call((n||jd).querySelectorAll(e),0):Kt(e)?c4(e,s):Tb(e)?Ou.call(e,0):e?[e]:[]},Du=function(e){return e=$n(e)[0]||ta("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return $n(n,s.querySelectorAll?s:s===e?ta("Invalid scope")||jd.createElement("div"):e)}},Eb=function(e){return e.sort(function(){return .5-Math.random()})},Sb=function(e){if(ut(e))return e;var n=as(e)?e:{each:e},s=Br(n.ease),r=n.from||0,i=parseFloat(n.base)||0,a={},l=r>0&&r<1,c=isNaN(r)||l,d=n.axis,h=r,m=r;return Ct(r)?h=m={center:.5,edges:.5,end:1}[r]||0:!l&&c&&(h=r[0],m=r[1]),function(f,g,x){var v=(x||n).length,A=a[v],O,N,$,R,L,F,T,w,_;if(!A){if(_=n.grid==="auto"?0:(n.grid||[1,Vn])[1],!_){for(T=-Vn;T<(T=x[_++].getBoundingClientRect().left)&&_<v;);_<v&&_--}for(A=a[v]=[],O=c?Math.min(_,v)*h-.5:r%_,N=_===Vn?0:c?v*m/_-.5:r/_|0,T=0,w=Vn,F=0;F<v;F++)$=F%_-O,R=N-(F/_|0),A[F]=L=d?Math.abs(d==="y"?R:$):ab($*$+R*R),L>T&&(T=L),L<w&&(w=L);r==="random"&&Eb(A),A.max=T-w,A.min=w,A.v=v=(parseFloat(n.amount)||parseFloat(n.each)*(_>v?v-1:d?d==="y"?v/_:_:Math.max(_,v/_))||0)*(r==="edges"?-1:1),A.b=v<0?i-v:i,A.u=Wt(n.amount||n.each)||0,s=s&&v<0?Vb(s):s}return v=(A[f]-A.min)/A.max||0,tt(A.b+(s?s(v):v)*A.v)+A.u}},Nu=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var r=tt(Math.round(parseFloat(s)/e)*e*n);return(r-r%1)/n+(Is(s)?0:Wt(s))}},Ib=function(e,n){var s=Kt(e),r,i;return!s&&as(e)&&(r=s=e.radius||Vn,e.values?(e=$n(e.values),(i=!Is(e[0]))&&(r*=r)):e=Nu(e.increment)),br(n,s?ut(e)?function(a){return i=e(a),Math.abs(i-a)<=r?i:a}:function(a){for(var l=parseFloat(i?a.x:a),c=parseFloat(i?a.y:0),d=Vn,h=0,m=e.length,f,g;m--;)i?(f=e[m].x-l,g=e[m].y-c,f=f*f+g*g):f=Math.abs(e[m]-l),f<d&&(d=f,h=m);return h=!r||d<=r?e[h]:a,i||h===a||Is(a)?h:h+Wt(a)}:Nu(e))},kb=function(e,n,s,r){return br(Kt(e)?!n:s===!0?!!(s=0):!r,function(){return Kt(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(r=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*r)/r})},u4=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(r){return n.reduce(function(i,a){return a(i)},r)}},d4=function(e,n){return function(s){return e(parseFloat(s))+(n||Wt(s))}},h4=function(e,n,s){return Ab(e,n,0,1,s)},Cb=function(e,n,s){return br(s,function(r){return e[~~n(r)]})},f4=function t(e,n,s){var r=n-e;return Kt(e)?Cb(e,t(0,e.length),n):br(s,function(i){return(r+(i-e)%r)%r+e})},p4=function t(e,n,s){var r=n-e,i=r*2;return Kt(e)?Cb(e,t(0,e.length-1),n):br(s,function(a){return a=(i+(a-e)%i)%i||0,e+(a>r?i-a:a)})},sa=function(e){return e.replace(W2,function(n){var s=n.indexOf("[")+1,r=n.substring(s||7,s?n.indexOf("]"):n.length-1).split(G2);return kb(s?r:+r[0],s?0:+r[1],+r[2]||1e-5)})},Ab=function(e,n,s,r,i){var a=n-e,l=r-s;return br(i,function(c){return s+((c-e)/a*l||0)})},m4=function t(e,n,s,r){var i=isNaN(e+n)?0:function(g){return(1-g)*e+g*n};if(!i){var a=Ct(e),l={},c,d,h,m,f;if(s===!0&&(r=1)&&(s=null),a)e={p:e},n={p:n};else if(Kt(e)&&!Kt(n)){for(h=[],m=e.length,f=m-2,d=1;d<m;d++)h.push(t(e[d-1],e[d]));m--,i=function(x){x*=m;var v=Math.min(f,~~x);return h[v](x-v)},s=n}else r||(e=Ni(Kt(e)?[]:{},e));if(!h){for(c in n)Wd.call(l,e,c,"get",n[c]);i=function(x){return Qd(x,l)||(a?e.p:e)}}}return br(s,i)},Dp=function(e,n,s){var r=e.labels,i=Vn,a,l,c;for(a in r)l=r[a]-n,l<0==!!s&&l&&i>(l=Math.abs(l))&&(c=a,i=l);return c},Sn=function(e,n,s){var r=e.vars,i=r[n],a=Ye,l=e._ctx,c,d,h;if(i)return c=r[n+"Params"],d=r.callbackScope||e,s&&Qs.length&&Tl(),l&&(Ye=l),h=c?i.apply(d,c):i.call(d),Ye=a,h},wo=function(e){return ar(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Dt),e.progress()<1&&Sn(e,"onInterrupt"),e},gi,Pb=[],Rb=function(e){if(e)if(e=!e.name&&e.default||e,Fd()||e.headless){var n=e.name,s=ut(e),r=n&&!s&&e.init?function(){this._props=[]}:e,i={init:na,render:Qd,add:Wd,kill:R4,modifier:P4,rawVars:0},a={targetTest:0,get:0,getSetter:Jd,aliases:{},register:0};if(Li(),e!==r){if(wn[n])return;An(r,An(El(e,i),a)),Ni(r.prototype,Ni(i,El(e,a))),wn[r.prop=n]=r,e.targetTest&&(tl.push(r),Ud[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}fb(n,r),e.register&&e.register(pn,r,dn)}else Pb.push(e)},je=255,To={aqua:[0,je,je],lime:[0,je,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,je],navy:[0,0,128],white:[je,je,je],olive:[128,128,0],yellow:[je,je,0],orange:[je,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[je,0,0],pink:[je,192,203],cyan:[0,je,je],transparent:[je,je,je,0]},Wc=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*je+.5|0},Ob=function(e,n,s){var r=e?Is(e)?[e>>16,e>>8&je,e&je]:0:To.black,i,a,l,c,d,h,m,f,g,x;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),To[e])r=To[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+i+i+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&je,r&je,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&je,e&je]}else if(e.substr(0,3)==="hsl"){if(r=x=e.match(Cp),!n)c=+r[0]%360/360,d=+r[1]/100,h=+r[2]/100,a=h<=.5?h*(d+1):h+d-h*d,i=h*2-a,r.length>3&&(r[3]*=1),r[0]=Wc(c+1/3,i,a),r[1]=Wc(c,i,a),r[2]=Wc(c-1/3,i,a);else if(~e.indexOf("="))return r=e.match(cb),s&&r.length<4&&(r[3]=1),r}else r=e.match(Cp)||To.transparent;r=r.map(Number)}return n&&!x&&(i=r[0]/je,a=r[1]/je,l=r[2]/je,m=Math.max(i,a,l),f=Math.min(i,a,l),h=(m+f)/2,m===f?c=d=0:(g=m-f,d=h>.5?g/(2-m-f):g/(m+f),c=m===i?(a-l)/g+(a<l?6:0):m===a?(l-i)/g+2:(i-a)/g+4,c*=60),r[0]=~~(c+.5),r[1]=~~(d*100+.5),r[2]=~~(h*100+.5)),s&&r.length<4&&(r[3]=1),r},Db=function(e){var n=[],s=[],r=-1;return e.split(Ys).forEach(function(i){var a=i.match(mi)||[];n.push.apply(n,a),s.push(r+=a.length+1)}),n.c=s,n},Np=function(e,n,s){var r="",i=(e+r).match(Ys),a=n?"hsla(":"rgba(",l=0,c,d,h,m;if(!i)return e;if(i=i.map(function(f){return(f=Ob(f,n,1))&&a+(n?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),s&&(h=Db(e),c=s.c,c.join(r)!==h.c.join(r)))for(d=e.replace(Ys,"1").split(mi),m=d.length-1;l<m;l++)r+=d[l]+(~c.indexOf(l)?i.shift()||a+"0,0,0,0)":(h.length?h:i.length?i:s).shift());if(!d)for(d=e.split(Ys),m=d.length-1;l<m;l++)r+=d[l]+i[l];return r+d[m]},Ys=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in To)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),g4=/hsl[a]?\(/,Nb=function(e){var n=e.join(" "),s;if(Ys.lastIndex=0,Ys.test(n))return s=g4.test(n),e[1]=Np(e[1],s),e[0]=Np(e[0],s,Db(e[1])),!0},ra,Tn=function(){var t=Date.now,e=500,n=33,s=t(),r=s,i=1e3/240,a=i,l=[],c,d,h,m,f,g,x=function v(A){var O=t()-r,N=A===!0,$,R,L,F;if((O>e||O<0)&&(s+=O-n),r+=O,L=r-s,$=L-a,($>0||N)&&(F=++m.frame,f=L-m.time*1e3,m.time=L=L/1e3,a+=$+($>=i?4:i-$),R=1),N||(c=d(v)),R)for(g=0;g<l.length;g++)l[g](L,f,F,A)};return m={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(A){return f/(1e3/(A||60))},wake:function(){db&&(!Cu&&Fd()&&(Qn=Cu=window,jd=Qn.document||{},Cn.gsap=pn,(Qn.gsapVersions||(Qn.gsapVersions=[])).push(pn.version),hb(wl||Qn.GreenSockGlobals||!Qn.gsap&&Qn||{}),Pb.forEach(Rb)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&m.sleep(),d=h||function(A){return setTimeout(A,a-m.time*1e3+1|0)},ra=1,x(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(c),ra=0,d=na},lagSmoothing:function(A,O){e=A||1/0,n=Math.min(O||33,e)},fps:function(A){i=1e3/(A||240),a=m.time*1e3+i},add:function(A,O,N){var $=O?function(R,L,F,T){A(R,L,F,T),m.remove($)}:A;return m.remove(A),l[N?"unshift":"push"]($),Li(),$},remove:function(A,O){~(O=l.indexOf(A))&&l.splice(O,1)&&g>=O&&g--},_listeners:l},m}(),Li=function(){return!ra&&Tn.wake()},Ce={},b4=/^[\d.\-M][\d.\-,\s]/,y4=/["']/g,_4=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),r=s[0],i=1,a=s.length,l,c,d;i<a;i++)c=s[i],l=i!==a-1?c.lastIndexOf(","):c.length,d=c.substr(0,l),n[r]=isNaN(d)?d.replace(y4,"").trim():+d,r=c.substr(l+1).trim();return n},v4=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),r=e.indexOf("(",n);return e.substring(n,~r&&r<s?e.indexOf(")",s+1):s)},x4=function(e){var n=(e+"").split("("),s=Ce[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[_4(n[1])]:v4(e).split(",").map(bb)):Ce._CE&&b4.test(e)?Ce._CE("",e):s},Vb=function(e){return function(n){return 1-e(1-n)}},$b=function t(e,n){for(var s=e._first,r;s;)s instanceof sn?t(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?t(s.timeline,n):(r=s._ease,s._ease=s._yEase,s._yEase=r,s._yoyo=n)),s=s._next},Br=function(e,n){return e&&(ut(e)?e:Ce[e]||x4(e))||n},Yr=function(e,n,s,r){s===void 0&&(s=function(c){return 1-n(1-c)}),r===void 0&&(r=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var i={easeIn:n,easeOut:s,easeInOut:r},a;return un(e,function(l){Ce[l]=Cn[l]=i,Ce[a=l.toLowerCase()]=s;for(var c in i)Ce[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Ce[l+"."+c]=i[c]}),i},Lb=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Gc=function t(e,n,s){var r=n>=1?n:1,i=(s||(e?.3:.45))/(n<1?n:1),a=i/ku*(Math.asin(1/r)||0),l=function(h){return h===1?1:r*Math.pow(2,-10*h)*Z2((h-a)*i)+1},c=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:Lb(l);return i=ku/i,c.config=function(d,h){return t(e,d,h)},c},Kc=function t(e,n){n===void 0&&(n=1.70158);var s=function(a){return a?--a*a*((n+1)*a+n)+1:0},r=e==="out"?s:e==="in"?function(i){return 1-s(1-i)}:Lb(s);return r.config=function(i){return t(e,i)},r};un("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Yr(t+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});Ce.Linear.easeNone=Ce.none=Ce.Linear.easeIn;Yr("Elastic",Gc("in"),Gc("out"),Gc());(function(t,e){var n=1/e,s=2*n,r=2.5*n,i=function(l){return l<n?t*l*l:l<s?t*Math.pow(l-1.5/e,2)+.75:l<r?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};Yr("Bounce",function(a){return 1-i(1-a)},i)})(7.5625,2.75);Yr("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Yr("Circ",function(t){return-(ab(1-t*t)-1)});Yr("Sine",function(t){return t===1?1:-q2(t*U2)+1});Yr("Back",Kc("in"),Kc("out"),Kc());Ce.SteppedEase=Ce.steps=Cn.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,r=e+(n?0:1),i=n?1:0,a=1-Be;return function(l){return((r*_a(0,a,l)|0)+i)*s}}};Di.ease=Ce["quad.out"];un("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Hd+=t+","+t+"Params,"});var Mb=function(e,n){this.id=H2++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:mb,this.set=n?n.getSetter:Jd},ia=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,$i(this,+n.duration,1,1),this.data=n.data,Ye&&(this._ctx=Ye,Ye.data.push(this)),ra||Tn.wake()}var e=t.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,$i(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,r){if(Li(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(ic(this,s),!i._dp||i.parent||vb(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&ts(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Be||!this._initted&&this._dur&&s||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),gb(this,s,r)),this},e.time=function(s,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Rp(this))%(this._dur+this._rDelay)||(s?this._dur:0),r):this._time},e.totalProgress=function(s,r){return arguments.length?this.totalTime(this.totalDuration()*s,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(s,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Rp(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,r){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*i,r):this._repeat?Vi(this._tTime,i)+1:1},e.timeScale=function(s,r){if(!arguments.length)return this._rts===-Be?0:this._rts;if(this._rts===s)return this;var i=this.parent&&this._ts?Sl(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-Be?0:this._rts,this.totalTime(_a(-Math.abs(this._delay),this.totalDuration(),i),r!==!1),rc(this),n4(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Li(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Be&&(this._tTime-=Be)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=tt(s);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&ts(r,this,this._start-this._delay),this}return this._start},e.endTime=function(s){return this._start+(cn(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var r=this.parent||this._dp;return r?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Sl(r.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=Y2);var r=Dt;return Dt=s,Zd(this)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),Dt=r,this},e.globalTime=function(s){for(var r=this,i=arguments.length?s:r.rawTime();r;)i=r._start+i/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(s):i},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,Op(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var r=this._time;return this._rDelay=s,Op(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,r){return this.totalTime(On(this,s),cn(r))},e.restart=function(s,r){return this.play().totalTime(s?-this._delay:0,cn(r)),this._dur||(this._zTime=-Be),this},e.play=function(s,r){return s!=null&&this.seek(s,r),this.reversed(!1).paused(!1)},e.reverse=function(s,r){return s!=null&&this.seek(s||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(s,r){return s!=null&&this.seek(s,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-Be:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Be,this},e.isActive=function(){var s=this.parent||this._dp,r=this._start,i;return!!(!s||this._ts&&this._initted&&s.isActive()&&(i=s.rawTime(!0))>=r&&i<this.endTime(!0)-Be)},e.eventCallback=function(s,r,i){var a=this.vars;return arguments.length>1?(r?(a[s]=r,i&&(a[s+"Params"]=i),s==="onUpdate"&&(this._onUpdate=r)):delete a[s],this):a[s]},e.then=function(s){var r=this,i=r._prom;return new Promise(function(a){var l=ut(s)?s:yb,c=function(){var h=r.then;r.then=null,i&&i(),ut(l)&&(l=l(r))&&(l.then||l===r)&&(r.then=h),a(l),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?c():r._prom=c})},e.kill=function(){wo(this)},t}();An(ia.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Be,_prom:0,_ps:!1,_rts:1});var sn=function(t){ob(e,t);function e(s,r){var i;return s===void 0&&(s={}),i=t.call(this,s)||this,i.labels={},i.smoothChildTiming=!!s.smoothChildTiming,i.autoRemoveChildren=!!s.autoRemoveChildren,i._sort=cn(s.sortChildren),nt&&ts(s.parent||nt,gs(i),r),s.reversed&&i.reverse(),s.paused&&i.paused(!0),s.scrollTrigger&&xb(gs(i),s.scrollTrigger),i}var n=e.prototype;return n.to=function(r,i,a){return Vo(0,arguments,this),this},n.from=function(r,i,a){return Vo(1,arguments,this),this},n.fromTo=function(r,i,a,l){return Vo(2,arguments,this),this},n.set=function(r,i,a){return i.duration=0,i.parent=this,No(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new bt(r,i,On(this,a),1),this},n.call=function(r,i,a){return ts(this,bt.delayedCall(0,r,i),a)},n.staggerTo=function(r,i,a,l,c,d,h){return a.duration=i,a.stagger=a.stagger||l,a.onComplete=d,a.onCompleteParams=h,a.parent=this,new bt(r,a,On(this,c)),this},n.staggerFrom=function(r,i,a,l,c,d,h){return a.runBackwards=1,No(a).immediateRender=cn(a.immediateRender),this.staggerTo(r,i,a,l,c,d,h)},n.staggerFromTo=function(r,i,a,l,c,d,h,m){return l.startAt=a,No(l).immediateRender=cn(l.immediateRender),this.staggerTo(r,i,l,c,d,h,m)},n.render=function(r,i,a){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,h=r<=0?0:tt(r),m=this._zTime<0!=r<0&&(this._initted||!d),f,g,x,v,A,O,N,$,R,L,F,T;if(this!==nt&&h>c&&r>=0&&(h=c),h!==this._tTime||a||m){if(l!==this._time&&d&&(h+=this._time-l,r+=this._time-l),f=h,R=this._start,$=this._ts,O=!$,m&&(d||(l=this._zTime),(r||!i)&&(this._zTime=r)),this._repeat){if(F=this._yoyo,A=d+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(A*100+r,i,a);if(f=tt(h%A),h===c?(v=this._repeat,f=d):(L=tt(h/A),v=~~L,v&&v===L&&(f=d,v--),f>d&&(f=d)),L=Vi(this._tTime,A),!l&&this._tTime&&L!==v&&this._tTime-L*A-this._dur<=0&&(L=v),F&&v&1&&(f=d-f,T=1),v!==L&&!this._lock){var w=F&&L&1,_=w===(F&&v&1);if(v<L&&(w=!w),l=w?0:h%d?d:h,this._lock=1,this.render(l||(T?0:tt(v*A)),i,!d)._lock=0,this._tTime=h,!i&&this.parent&&Sn(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1,L=v),l&&l!==this._time||O!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,_&&(this._lock=2,l=w?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!O)return this;$b(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(N=o4(this,tt(l),tt(f)),N&&(h-=f-(f=N._start))),this._tTime=h,this._time=f,this._act=!$,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,l=0),!l&&h&&d&&!i&&!L&&(Sn(this,"onStart"),this._tTime!==h))return this;if(f>=l&&r>=0)for(g=this._first;g;){if(x=g._next,(g._act||f>=g._start)&&g._ts&&N!==g){if(g.parent!==this)return this.render(r,i,a);if(g.render(g._ts>0?(f-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(f-g._start)*g._ts,i,a),f!==this._time||!this._ts&&!O){N=0,x&&(h+=this._zTime=-Be);break}}g=x}else{g=this._last;for(var E=r<0?r:f;g;){if(x=g._prev,(g._act||E<=g._end)&&g._ts&&N!==g){if(g.parent!==this)return this.render(r,i,a);if(g.render(g._ts>0?(E-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(E-g._start)*g._ts,i,a||Dt&&Zd(g)),f!==this._time||!this._ts&&!O){N=0,x&&(h+=this._zTime=E?-Be:Be);break}}g=x}}if(N&&!i&&(this.pause(),N.render(f>=l?0:-Be)._zTime=f>=l?1:-1,this._ts))return this._start=R,rc(this),this.render(r,i,a);this._onUpdate&&!i&&Sn(this,"onUpdate",!0),(h===c&&this._tTime>=this.totalDuration()||!h&&l)&&(R===this._start||Math.abs($)!==Math.abs(this._ts))&&(this._lock||((r||!d)&&(h===c&&this._ts>0||!h&&this._ts<0)&&ar(this,1),!i&&!(r<0&&!l)&&(h||l||!c)&&(Sn(this,h===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(r,i){var a=this;if(Is(i)||(i=On(this,i,r)),!(r instanceof ia)){if(Kt(r))return r.forEach(function(l){return a.add(l,i)}),this;if(Ct(r))return this.addLabel(r,i);if(ut(r))r=bt.delayedCall(0,r);else return this}return this!==r?ts(this,r,i):this},n.getChildren=function(r,i,a,l){r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=!0),l===void 0&&(l=-Vn);for(var c=[],d=this._first;d;)d._start>=l&&(d instanceof bt?i&&c.push(d):(a&&c.push(d),r&&c.push.apply(c,d.getChildren(!0,i,a)))),d=d._next;return c},n.getById=function(r){for(var i=this.getChildren(1,1,1),a=i.length;a--;)if(i[a].vars.id===r)return i[a]},n.remove=function(r){return Ct(r)?this.removeLabel(r):ut(r)?this.killTweensOf(r):(r.parent===this&&sc(this,r),r===this._recent&&(this._recent=this._last),jr(this))},n.totalTime=function(r,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=tt(Tn.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),t.prototype.totalTime.call(this,r,i),this._forcing=0,this):this._tTime},n.addLabel=function(r,i){return this.labels[r]=On(this,i),this},n.removeLabel=function(r){return delete this.labels[r],this},n.addPause=function(r,i,a){var l=bt.delayedCall(0,i||na,a);return l.data="isPause",this._hasPause=1,ts(this,l,On(this,r))},n.removePause=function(r){var i=this._first;for(r=On(this,r);i;)i._start===r&&i.data==="isPause"&&ar(i),i=i._next},n.killTweensOf=function(r,i,a){for(var l=this.getTweensOf(r,a),c=l.length;c--;)qs!==l[c]&&l[c].kill(r,i);return this},n.getTweensOf=function(r,i){for(var a=[],l=$n(r),c=this._first,d=Is(i),h;c;)c instanceof bt?X2(c._targets,l)&&(d?(!qs||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&a.push(c):(h=c.getTweensOf(l,i)).length&&a.push.apply(a,h),c=c._next;return a},n.tweenTo=function(r,i){i=i||{};var a=this,l=On(a,r),c=i,d=c.startAt,h=c.onStart,m=c.onStartParams,f=c.immediateRender,g,x=bt.to(a,An({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(d&&"time"in d?d.time:a._time))/a.timeScale())||Be,onStart:function(){if(a.pause(),!g){var A=i.duration||Math.abs((l-(d&&"time"in d?d.time:a._time))/a.timeScale());x._dur!==A&&$i(x,A,0,1).render(x._time,!0,!0),g=1}h&&h.apply(x,m||[])}},i));return f?x.render(0):x},n.tweenFromTo=function(r,i,a){return this.tweenTo(i,An({startAt:{time:On(this,r)}},a))},n.recent=function(){return this._recent},n.nextLabel=function(r){return r===void 0&&(r=this._time),Dp(this,On(this,r))},n.previousLabel=function(r){return r===void 0&&(r=this._time),Dp(this,On(this,r),1)},n.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Be)},n.shiftChildren=function(r,i,a){a===void 0&&(a=0);var l=this._first,c=this.labels,d;for(r=tt(r);l;)l._start>=a&&(l._start+=r,l._end+=r),l=l._next;if(i)for(d in c)c[d]>=a&&(c[d]+=r);return jr(this)},n.invalidate=function(r){var i=this._first;for(this._lock=0;i;)i.invalidate(r),i=i._next;return t.prototype.invalidate.call(this,r)},n.clear=function(r){r===void 0&&(r=!0);for(var i=this._first,a;i;)a=i._next,this.remove(i),i=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),jr(this)},n.totalDuration=function(r){var i=0,a=this,l=a._last,c=Vn,d,h,m;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(m=a.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),h=l._start,h>c&&a._sort&&l._ts&&!a._lock?(a._lock=1,ts(a,l,h-l._delay,1)._lock=0):c=h,h<0&&l._ts&&(i-=h,(!m&&!a._dp||m&&m.smoothChildTiming)&&(a._start+=tt(h/a._ts),a._time-=h,a._tTime-=h),a.shiftChildren(-h,!1,-1/0),c=0),l._end>i&&l._ts&&(i=l._end),l=d;$i(a,a===nt&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(nt._ts&&(gb(nt,Sl(r,nt)),pb=Tn.frame),Tn.frame>=Ap){Ap+=kn.autoSleep||120;var i=nt._first;if((!i||!i._ts)&&kn.autoSleep&&Tn._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Tn.sleep()}}},e}(ia);An(sn.prototype,{_lock:0,_hasPause:0,_forcing:0});var w4=function(e,n,s,r,i,a,l){var c=new dn(this._pt,e,n,0,1,Hb,null,i),d=0,h=0,m,f,g,x,v,A,O,N;for(c.b=s,c.e=r,s+="",r+="",(O=~r.indexOf("random("))&&(r=sa(r)),a&&(N=[s,r],a(N,e,n),s=N[0],r=N[1]),f=s.match(qc)||[];m=qc.exec(r);)x=m[0],v=r.substring(d,m.index),g?g=(g+1)%5:v.substr(-5)==="rgba("&&(g=1),x!==f[h++]&&(A=parseFloat(f[h-1])||0,c._pt={_next:c._pt,p:v||h===1?v:",",s:A,c:x.charAt(1)==="="?Ei(A,x)-A:parseFloat(x)-A,m:g&&g<4?Math.round:0},d=qc.lastIndex);return c.c=d<r.length?r.substring(d,r.length):"",c.fp=l,(ub.test(r)||O)&&(c.e=0),this._pt=c,c},Wd=function(e,n,s,r,i,a,l,c,d,h){ut(r)&&(r=r(i||0,e,a));var m=e[n],f=s!=="get"?s:ut(m)?d?e[n.indexOf("set")||!ut(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():m,g=ut(m)?d?k4:Bb:Kd,x;if(Ct(r)&&(~r.indexOf("random(")&&(r=sa(r)),r.charAt(1)==="="&&(x=Ei(f,r)+(Wt(f)||0),(x||x===0)&&(r=x))),!h||f!==r||Vu)return!isNaN(f*r)&&r!==""?(x=new dn(this._pt,e,n,+f||0,r-(f||0),typeof m=="boolean"?A4:Ub,0,g),d&&(x.fp=d),l&&x.modifier(l,this,e),this._pt=x):(!m&&!(n in e)&&Bd(n,r),w4.call(this,e,n,f,r,g,c||kn.stringFilter,d))},T4=function(e,n,s,r,i){if(ut(e)&&(e=$o(e,i,n,s,r)),!as(e)||e.style&&e.nodeType||Kt(e)||lb(e))return Ct(e)?$o(e,i,n,s,r):e;var a={},l;for(l in e)a[l]=$o(e[l],i,n,s,r);return a},zb=function(e,n,s,r,i,a){var l,c,d,h;if(wn[e]&&(l=new wn[e]).init(i,l.rawVars?n[e]:T4(n[e],r,i,a,s),s,r,a)!==!1&&(s._pt=c=new dn(s._pt,i,e,0,1,l.render,l,0,l.priority),s!==gi))for(d=s._ptLookup[s._targets.indexOf(i)],h=l._props.length;h--;)d[l._props[h]]=c;return l},qs,Vu,Gd=function t(e,n,s){var r=e.vars,i=r.ease,a=r.startAt,l=r.immediateRender,c=r.lazy,d=r.onUpdate,h=r.runBackwards,m=r.yoyoEase,f=r.keyframes,g=r.autoRevert,x=e._dur,v=e._startAt,A=e._targets,O=e.parent,N=O&&O.data==="nested"?O.vars.targets:A,$=e._overwrite==="auto"&&!Md,R=e.timeline,L,F,T,w,_,E,C,k,I,re,me,xe,ge;if(R&&(!f||!i)&&(i="none"),e._ease=Br(i,Di.ease),e._yEase=m?Vb(Br(m===!0?i:m,Di.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!R&&!!r.runBackwards,!R||f&&!r.stagger){if(k=A[0]?Fr(A[0]).harness:0,xe=k&&r[k.prop],L=El(r,Ud),v&&(v._zTime<0&&v.progress(1),n<0&&h&&l&&!g?v.render(-1,!0):v.revert(h&&x?el:Q2),v._lazy=0),a){if(ar(e._startAt=bt.set(A,An({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!v&&cn(c),startAt:null,delay:0,onUpdate:d&&function(){return Sn(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Dt||!l&&!g)&&e._startAt.revert(el),l&&x&&n<=0&&s<=0){n&&(e._zTime=n);return}}else if(h&&x&&!v){if(n&&(l=!1),T=An({overwrite:!1,data:"isFromStart",lazy:l&&!v&&cn(c),immediateRender:l,stagger:0,parent:O},L),xe&&(T[k.prop]=xe),ar(e._startAt=bt.set(A,T)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Dt?e._startAt.revert(el):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,Be,Be);else if(!n)return}for(e._pt=e._ptCache=0,c=x&&cn(c)||c&&!x,F=0;F<A.length;F++){if(_=A[F],C=_._gsap||qd(A)[F]._gsap,e._ptLookup[F]=re={},Au[C.id]&&Qs.length&&Tl(),me=N===A?F:N.indexOf(_),k&&(I=new k).init(_,xe||L,e,me,N)!==!1&&(e._pt=w=new dn(e._pt,_,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(_e){re[_e]=w}),I.priority&&(E=1)),!k||xe)for(T in L)wn[T]&&(I=zb(T,L,e,me,_,N))?I.priority&&(E=1):re[T]=w=Wd.call(e,_,T,"get",L[T],me,N,0,r.stringFilter);e._op&&e._op[F]&&e.kill(_,e._op[F]),$&&e._pt&&(qs=e,nt.killTweensOf(_,re,e.globalTime(n)),ge=!e.parent,qs=0),e._pt&&c&&(Au[C.id]=1)}E&&qb(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!ge,f&&n<=0&&R.render(Vn,!0,!0)},E4=function(e,n,s,r,i,a,l,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[n],h,m,f,g;if(!d)for(d=e._ptCache[n]=[],f=e._ptLookup,g=e._targets.length;g--;){if(h=f[g][n],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==n&&h.fp!==n;)h=h._next;if(!h)return Vu=1,e.vars[n]="+=0",Gd(e,l),Vu=0,c?ta(n+" not eligible for reset"):1;d.push(h)}for(g=d.length;g--;)m=d[g],h=m._pt||m,h.s=(r||r===0)&&!i?r:h.s+(r||0)+a*h.c,h.c=s-h.s,m.e&&(m.e=ft(s)+Wt(m.e)),m.b&&(m.b=h.s+Wt(m.b))},S4=function(e,n){var s=e[0]?Fr(e[0]).harness:0,r=s&&s.aliases,i,a,l,c;if(!r)return n;i=Ni({},n);for(a in r)if(a in i)for(c=r[a].split(","),l=c.length;l--;)i[c[l]]=i[a];return i},I4=function(e,n,s,r){var i=n.ease||r||"power1.inOut",a,l;if(Kt(n))l=s[e]||(s[e]=[]),n.forEach(function(c,d){return l.push({t:d/(n.length-1)*100,v:c,e:i})});else for(a in n)l=s[a]||(s[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:n[a],e:i})},$o=function(e,n,s,r,i){return ut(e)?e.call(n,s,r,i):Ct(e)&&~e.indexOf("random(")?sa(e):e},Fb=Hd+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",jb={};un(Fb+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return jb[t]=1});var bt=function(t){ob(e,t);function e(s,r,i,a){var l;typeof r=="number"&&(i.duration=r,r=i,i=null),l=t.call(this,a?r:No(r))||this;var c=l.vars,d=c.duration,h=c.delay,m=c.immediateRender,f=c.stagger,g=c.overwrite,x=c.keyframes,v=c.defaults,A=c.scrollTrigger,O=c.yoyoEase,N=r.parent||nt,$=(Kt(s)||lb(s)?Is(s[0]):"length"in r)?[s]:$n(s),R,L,F,T,w,_,E,C;if(l._targets=$.length?qd($):ta("GSAP target "+s+" not found. https://gsap.com",!kn.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=g,x||f||Ba(d)||Ba(h)){if(r=l.vars,R=l.timeline=new sn({data:"nested",defaults:v||{},targets:N&&N.data==="nested"?N.vars.targets:$}),R.kill(),R.parent=R._dp=gs(l),R._start=0,f||Ba(d)||Ba(h)){if(T=$.length,E=f&&Sb(f),as(f))for(w in f)~Fb.indexOf(w)&&(C||(C={}),C[w]=f[w]);for(L=0;L<T;L++)F=El(r,jb),F.stagger=0,O&&(F.yoyoEase=O),C&&Ni(F,C),_=$[L],F.duration=+$o(d,gs(l),L,_,$),F.delay=(+$o(h,gs(l),L,_,$)||0)-l._delay,!f&&T===1&&F.delay&&(l._delay=h=F.delay,l._start+=h,F.delay=0),R.to(_,F,E?E(L,_,$):0),R._ease=Ce.none;R.duration()?d=h=0:l.timeline=0}else if(x){No(An(R.vars.defaults,{ease:"none"})),R._ease=Br(x.ease||r.ease||"none");var k=0,I,re,me;if(Kt(x))x.forEach(function(xe){return R.to($,xe,">")}),R.duration();else{F={};for(w in x)w==="ease"||w==="easeEach"||I4(w,x[w],F,x.easeEach);for(w in F)for(I=F[w].sort(function(xe,ge){return xe.t-ge.t}),k=0,L=0;L<I.length;L++)re=I[L],me={ease:re.e,duration:(re.t-(L?I[L-1].t:0))/100*d},me[w]=re.v,R.to($,me,k),k+=me.duration;R.duration()<d&&R.to({},{duration:d-R.duration()})}}d||l.duration(d=R.duration())}else l.timeline=0;return g===!0&&!Md&&(qs=gs(l),nt.killTweensOf($),qs=0),ts(N,gs(l),i),r.reversed&&l.reverse(),r.paused&&l.paused(!0),(m||!d&&!x&&l._start===tt(N._time)&&cn(m)&&s4(gs(l))&&N.data!=="nested")&&(l._tTime=-Be,l.render(Math.max(0,-h)||0)),A&&xb(gs(l),A),l}var n=e.prototype;return n.render=function(r,i,a){var l=this._time,c=this._tDur,d=this._dur,h=r<0,m=r>c-Be&&!h?c:r<Be?0:r,f,g,x,v,A,O,N,$,R;if(!d)i4(this,r,i,a);else if(m!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(f=m,$=this.timeline,this._repeat){if(v=d+this._rDelay,this._repeat<-1&&h)return this.totalTime(v*100+r,i,a);if(f=tt(m%v),m===c?(x=this._repeat,f=d):(A=tt(m/v),x=~~A,x&&x===A?(f=d,x--):f>d&&(f=d)),O=this._yoyo&&x&1,O&&(R=this._yEase,f=d-f),A=Vi(this._tTime,v),f===l&&!a&&this._initted&&x===A)return this._tTime=m,this;x!==A&&($&&this._yEase&&$b($,O),this.vars.repeatRefresh&&!O&&!this._lock&&f!==v&&this._initted&&(this._lock=a=1,this.render(tt(v*x),!0).invalidate()._lock=0))}if(!this._initted){if(wb(this,h?r:f,a,i,m))return this._tTime=0,this;if(l!==this._time&&!(a&&this.vars.repeatRefresh&&x!==A))return this;if(d!==this._dur)return this.render(r,i,a)}if(this._tTime=m,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=N=(R||this._ease)(f/d),this._from&&(this.ratio=N=1-N),!l&&m&&!i&&!A&&(Sn(this,"onStart"),this._tTime!==m))return this;for(g=this._pt;g;)g.r(N,g.d),g=g._next;$&&$.render(r<0?r:$._dur*$._ease(f/this._dur),i,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!i&&(h&&Pu(this,r,i,a),Sn(this,"onUpdate")),this._repeat&&x!==A&&this.vars.onRepeat&&!i&&this.parent&&Sn(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(h&&!this._onUpdate&&Pu(this,r,!0,!0),(r||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&ar(this,1),!i&&!(h&&!l)&&(m||l||O)&&(Sn(this,m===c?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),t.prototype.invalidate.call(this,r)},n.resetTo=function(r,i,a,l,c){ra||Tn.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||Gd(this,d),h=this._ease(d/this._dur),E4(this,r,i,a,l,h,d,c)?this.resetTo(r,i,a,l,1):(ic(this,0),this.parent||_b(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(r,i){if(i===void 0&&(i="all"),!r&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?wo(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Dt),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,i,qs&&qs.vars.overwrite!==!0)._first||wo(this),this.parent&&a!==this.timeline.totalDuration()&&$i(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,c=r?$n(r):l,d=this._ptLookup,h=this._pt,m,f,g,x,v,A,O;if((!i||i==="all")&&t4(l,c))return i==="all"&&(this._pt=0),wo(this);for(m=this._op=this._op||[],i!=="all"&&(Ct(i)&&(v={},un(i,function(N){return v[N]=1}),i=v),i=S4(l,i)),O=l.length;O--;)if(~c.indexOf(l[O])){f=d[O],i==="all"?(m[O]=i,x=f,g={}):(g=m[O]=m[O]||{},x=i);for(v in x)A=f&&f[v],A&&((!("kill"in A.d)||A.d.kill(v)===!0)&&sc(this,A,"_pt"),delete f[v]),g!=="all"&&(g[v]=1)}return this._initted&&!this._pt&&h&&wo(this),this},e.to=function(r,i){return new e(r,i,arguments[2])},e.from=function(r,i){return Vo(1,arguments)},e.delayedCall=function(r,i,a,l){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:i,onReverseComplete:i,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(r,i,a){return Vo(2,arguments)},e.set=function(r,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(r,i)},e.killTweensOf=function(r,i,a){return nt.killTweensOf(r,i,a)},e}(ia);An(bt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});un("staggerTo,staggerFrom,staggerFromTo",function(t){bt[t]=function(){var e=new sn,n=Ou.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Kd=function(e,n,s){return e[n]=s},Bb=function(e,n,s){return e[n](s)},k4=function(e,n,s,r){return e[n](r.fp,s)},C4=function(e,n,s){return e.setAttribute(n,s)},Jd=function(e,n){return ut(e[n])?Bb:zd(e[n])&&e.setAttribute?C4:Kd},Ub=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},A4=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Hb=function(e,n){var s=n._pt,r="";if(!e&&n.b)r=n.b;else if(e===1&&n.e)r=n.e;else{for(;s;)r=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+r,s=s._next;r+=n.c}n.set(n.t,n.p,r,n)},Qd=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},P4=function(e,n,s,r){for(var i=this._pt,a;i;)a=i._next,i.p===r&&i.modifier(e,n,s),i=a},R4=function(e){for(var n=this._pt,s,r;n;)r=n._next,n.p===e&&!n.op||n.op===e?sc(this,n,"_pt"):n.dep||(s=1),n=r;return!s},O4=function(e,n,s,r){r.mSet(e,n,r.m.call(r.tween,s,r.mt),r)},qb=function(e){for(var n=e._pt,s,r,i,a;n;){for(s=n._next,r=i;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:a)?n._prev._next=n:i=n,(n._next=r)?r._prev=n:a=n,n=s}e._pt=i},dn=function(){function t(n,s,r,i,a,l,c,d,h){this.t=s,this.s=i,this.c=a,this.p=r,this.r=l||Ub,this.d=c||this,this.set=d||Kd,this.pr=h||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(s,r,i){this.mSet=this.mSet||this.set,this.set=O4,this.m=s,this.mt=i,this.tween=r},t}();un(Hd+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Ud[t]=1});Cn.TweenMax=Cn.TweenLite=bt;Cn.TimelineLite=Cn.TimelineMax=sn;nt=new sn({sortChildren:!1,defaults:Di,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});kn.stringFilter=Nb;var Ur=[],nl={},D4=[],Vp=0,N4=0,Jc=function(e){return(nl[e]||D4).map(function(n){return n()})},$u=function(){var e=Date.now(),n=[];e-Vp>2&&(Jc("matchMediaInit"),Ur.forEach(function(s){var r=s.queries,i=s.conditions,a,l,c,d;for(l in r)a=Qn.matchMedia(r[l]).matches,a&&(c=1),a!==i[l]&&(i[l]=a,d=1);d&&(s.revert(),c&&n.push(s))}),Jc("matchMediaRevert"),n.forEach(function(s){return s.onMatch(s,function(r){return s.add(null,r)})}),Vp=e,Jc("matchMedia"))},Zb=function(){function t(n,s){this.selector=s&&Du(s),this.data=[],this._r=[],this.isReverted=!1,this.id=N4++,n&&this.add(n)}var e=t.prototype;return e.add=function(s,r,i){ut(s)&&(i=r,r=s,s=ut);var a=this,l=function(){var d=Ye,h=a.selector,m;return d&&d!==a&&d.data.push(a),i&&(a.selector=Du(i)),Ye=a,m=r.apply(a,arguments),ut(m)&&a._r.push(m),Ye=d,a.selector=h,a.isReverted=!1,m};return a.last=l,s===ut?l(a,function(c){return a.add(null,c)}):s?a[s]=l:l},e.ignore=function(s){var r=Ye;Ye=null,s(this),Ye=r},e.getTweens=function(){var s=[];return this.data.forEach(function(r){return r instanceof t?s.push.apply(s,r.getTweens()):r instanceof bt&&!(r.parent&&r.parent.data==="nested")&&s.push(r)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,r){var i=this;if(s?function(){for(var l=i.getTweens(),c=i.data.length,d;c--;)d=i.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(h){return l.splice(l.indexOf(h),1)}));for(l.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,m){return m.g-h.g||-1/0}).forEach(function(h){return h.t.revert(s)}),c=i.data.length;c--;)d=i.data[c],d instanceof sn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof bt)&&d.revert&&d.revert(s);i._r.forEach(function(h){return h(s,i)}),i.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),r)for(var a=Ur.length;a--;)Ur[a].id===this.id&&Ur.splice(a,1)},e.revert=function(s){this.kill(s||{})},t}(),V4=function(){function t(n){this.contexts=[],this.scope=n,Ye&&Ye.data.push(this)}var e=t.prototype;return e.add=function(s,r,i){as(s)||(s={matches:s});var a=new Zb(0,i||this.scope),l=a.conditions={},c,d,h;Ye&&!a.selector&&(a.selector=Ye.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=s;for(d in s)d==="all"?h=1:(c=Qn.matchMedia(s[d]),c&&(Ur.indexOf(a)<0&&Ur.push(a),(l[d]=c.matches)&&(h=1),c.addListener?c.addListener($u):c.addEventListener("change",$u)));return h&&r(a,function(m){return a.add(null,m)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(r){return r.kill(s,!0)})},t}(),Il={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(r){return Rb(r)})},timeline:function(e){return new sn(e)},getTweensOf:function(e,n){return nt.getTweensOf(e,n)},getProperty:function(e,n,s,r){Ct(e)&&(e=$n(e)[0]);var i=Fr(e||{}).get,a=s?yb:bb;return s==="native"&&(s=""),e&&(n?a((wn[n]&&wn[n].get||i)(e,n,s,r)):function(l,c,d){return a((wn[l]&&wn[l].get||i)(e,l,c,d))})},quickSetter:function(e,n,s){if(e=$n(e),e.length>1){var r=e.map(function(h){return pn.quickSetter(h,n,s)}),i=r.length;return function(h){for(var m=i;m--;)r[m](h)}}e=e[0]||{};var a=wn[n],l=Fr(e),c=l.harness&&(l.harness.aliases||{})[n]||n,d=a?function(h){var m=new a;gi._pt=0,m.init(e,s?h+s:h,gi,0,[e]),m.render(1,m),gi._pt&&Qd(1,gi)}:l.set(e,c);return a?d:function(h){return d(e,c,s?h+s:h,l,1)}},quickTo:function(e,n,s){var r,i=pn.to(e,An((r={},r[n]="+=0.1",r.paused=!0,r.stagger=0,r),s||{})),a=function(c,d,h){return i.resetTo(n,c,d,h)};return a.tween=i,a},isTweening:function(e){return nt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Br(e.ease,Di.ease)),Pp(Di,e||{})},config:function(e){return Pp(kn,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(l){return l&&!wn[l]&&!Cn[l]&&ta(n+" effect requires "+l+" plugin.")}),Zc[n]=function(l,c,d){return s($n(l),An(c||{},i),d)},a&&(sn.prototype[n]=function(l,c,d){return this.add(Zc[n](l,as(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,n){Ce[e]=Br(n)},parseEase:function(e,n){return arguments.length?Br(e,n):Ce},getById:function(e){return nt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new sn(e),r,i;for(s.smoothChildTiming=cn(e.smoothChildTiming),nt.remove(s),s._dp=0,s._time=s._tTime=nt._time,r=nt._first;r;)i=r._next,(n||!(!r._dur&&r instanceof bt&&r.vars.onComplete===r._targets[0]))&&ts(s,r,r._start-r._delay),r=i;return ts(nt,s,0),s},context:function(e,n){return e?new Zb(e,n):Ye},matchMedia:function(e){return new V4(e)},matchMediaRefresh:function(){return Ur.forEach(function(e){var n=e.conditions,s,r;for(r in n)n[r]&&(n[r]=!1,s=1);s&&e.revert()})||$u()},addEventListener:function(e,n){var s=nl[e]||(nl[e]=[]);~s.indexOf(n)||s.push(n)},removeEventListener:function(e,n){var s=nl[e],r=s&&s.indexOf(n);r>=0&&s.splice(r,1)},utils:{wrap:f4,wrapYoyo:p4,distribute:Sb,random:kb,snap:Ib,normalize:h4,getUnit:Wt,clamp:l4,splitColor:Ob,toArray:$n,selector:Du,mapRange:Ab,pipe:u4,unitize:d4,interpolate:m4,shuffle:Eb},install:hb,effects:Zc,ticker:Tn,updateRoot:sn.updateRoot,plugins:wn,globalTimeline:nt,core:{PropTween:dn,globals:fb,Tween:bt,Timeline:sn,Animation:ia,getCache:Fr,_removeLinkedListItem:sc,reverting:function(){return Dt},context:function(e){return e&&Ye&&(Ye.data.push(e),e._ctx=Ye),Ye},suppressOverwrites:function(e){return Md=e}}};un("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Il[t]=bt[t]});Tn.add(sn.updateRoot);gi=Il.to({},{duration:0});var $4=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},L4=function(e,n){var s=e._targets,r,i,a;for(r in n)for(i=s.length;i--;)a=e._ptLookup[i][r],a&&(a=a.d)&&(a._pt&&(a=$4(a,r)),a&&a.modifier&&a.modifier(n[r],e,s[i],r))},Qc=function(e,n){return{name:e,headless:1,rawVars:1,init:function(r,i,a){a._onInit=function(l){var c,d;if(Ct(i)&&(c={},un(i,function(h){return c[h]=1}),i=c),n){c={};for(d in i)c[d]=n(i[d]);i=c}L4(l,i)}}}},pn=Il.registerPlugin({name:"attr",init:function(e,n,s,r,i){var a,l,c;this.tween=s;for(a in n)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",n[a],r,i,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function(e,n){for(var s=n._pt;s;)Dt?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",headless:1,init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s],0,0,0,0,0,1)}},Qc("roundProps",Nu),Qc("modifiers"),Qc("snap",Ib))||Il;bt.version=sn.version=pn.version="3.14.2";db=1;Fd()&&Li();Ce.Power0;Ce.Power1;Ce.Power2;Ce.Power3;Ce.Power4;Ce.Linear;Ce.Quad;Ce.Cubic;Ce.Quart;Ce.Quint;Ce.Strong;Ce.Elastic;Ce.Back;Ce.SteppedEase;Ce.Bounce;Ce.Sine;Ce.Expo;Ce.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $p,Zs,Si,Yd,$r,Lp,Xd,M4=function(){return typeof window<"u"},ks={},Dr=180/Math.PI,Ii=Math.PI/180,oi=Math.atan2,Mp=1e8,eh=/([A-Z])/g,z4=/(left|right|width|margin|padding|x)/i,F4=/[\s,\(]\S/,rs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Lu=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},j4=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},B4=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},U4=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},H4=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},Wb=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},Gb=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},q4=function(e,n,s){return e.style[n]=s},Z4=function(e,n,s){return e.style.setProperty(n,s)},W4=function(e,n,s){return e._gsap[n]=s},G4=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},K4=function(e,n,s,r,i){var a=e._gsap;a.scaleX=a.scaleY=s,a.renderTransform(i,a)},J4=function(e,n,s,r,i){var a=e._gsap;a[n]=s,a.renderTransform(i,a)},it="transform",hn=it+"Origin",Q4=function t(e,n){var s=this,r=this.target,i=r.style,a=r._gsap;if(e in ks&&i){if(this.tfm=this.tfm||{},e!=="transform")e=rs[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return s.tfm[l]=ys(r,l)}):this.tfm[e]=a.x?a[e]:ys(r,e),e===hn&&(this.tfm.zOrigin=a.zOrigin);else return rs.transform.split(",").forEach(function(l){return t.call(s,l,n)});if(this.props.indexOf(it)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(hn,n,"")),e=it}(i||n)&&this.props.push(e,n,i[e])},Kb=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Y4=function(){var e=this.props,n=this.target,s=n.style,r=n._gsap,i,a;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?n[e[i]](e[i+2]):n[e[i]]=e[i+2]:e[i+2]?s[e[i]]=e[i+2]:s.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(eh,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=Xd(),(!i||!i.isStart)&&!s[it]&&(Kb(s),r.zOrigin&&s[hn]&&(s[hn]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Jb=function(e,n){var s={target:e,props:[],revert:Y4,save:Q4};return e._gsap||pn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(r){return s.save(r)}),s},Qb,Mu=function(e,n){var s=Zs.createElementNS?Zs.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Zs.createElement(e);return s&&s.style?s:Zs.createElement(e)},In=function t(e,n,s){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(eh,"-$1").toLowerCase())||r.getPropertyValue(n)||!s&&t(e,Mi(n)||n,1)||""},zp="O,Moz,ms,Ms,Webkit".split(","),Mi=function(e,n,s){var r=n||$r,i=r.style,a=5;if(e in i&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(zp[a]+e in i););return a<0?null:(a===3?"ms":a>=0?zp[a]:"")+e},zu=function(){M4()&&window.document&&($p=window,Zs=$p.document,Si=Zs.documentElement,$r=Mu("div")||{style:{}},Mu("div"),it=Mi(it),hn=it+"Origin",$r.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Qb=!!Mi("perspective"),Xd=pn.core.reverting,Yd=1)},Fp=function(e){var n=e.ownerSVGElement,s=Mu("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),i;r.style.display="block",s.appendChild(r),Si.appendChild(s);try{i=r.getBBox()}catch{}return s.removeChild(r),Si.removeChild(s),i},jp=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},Yb=function(e){var n,s;try{n=e.getBBox()}catch{n=Fp(e),s=1}return n&&(n.width||n.height)||s||(n=Fp(e)),n&&!n.width&&!n.x&&!n.y?{x:+jp(e,["x","cx","x1"])||0,y:+jp(e,["y","cy","y1"])||0,width:0,height:0}:n},Xb=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Yb(e))},lr=function(e,n){if(n){var s=e.style,r;n in ks&&n!==hn&&(n=it),s.removeProperty?(r=n.substr(0,2),(r==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(r==="--"?n:n.replace(eh,"-$1").toLowerCase())):s.removeAttribute(n)}},Ws=function(e,n,s,r,i,a){var l=new dn(e._pt,n,s,0,1,a?Gb:Wb);return e._pt=l,l.b=r,l.e=i,e._props.push(s),l},Bp={deg:1,rad:1,turn:1},X4={grid:1,flex:1},cr=function t(e,n,s,r){var i=parseFloat(s)||0,a=(s+"").trim().substr((i+"").length)||"px",l=$r.style,c=z4.test(n),d=e.tagName.toLowerCase()==="svg",h=(d?"client":"offset")+(c?"Width":"Height"),m=100,f=r==="px",g=r==="%",x,v,A,O;if(r===a||!i||Bp[r]||Bp[a])return i;if(a!=="px"&&!f&&(i=t(e,n,s,"px")),O=e.getCTM&&Xb(e),(g||a==="%")&&(ks[n]||~n.indexOf("adius")))return x=O?e.getBBox()[c?"width":"height"]:e[h],ft(g?i/x*m:i/100*x);if(l[c?"width":"height"]=m+(f?a:r),v=r!=="rem"&&~n.indexOf("adius")||r==="em"&&e.appendChild&&!d?e:e.parentNode,O&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===Zs||!v.appendChild)&&(v=Zs.body),A=v._gsap,A&&g&&A.width&&c&&A.time===Tn.time&&!A.uncache)return ft(i/A.width*m);if(g&&(n==="height"||n==="width")){var N=e.style[n];e.style[n]=m+r,x=e[h],N?e.style[n]=N:lr(e,n)}else(g||a==="%")&&!X4[In(v,"display")]&&(l.position=In(e,"position")),v===e&&(l.position="static"),v.appendChild($r),x=$r[h],v.removeChild($r),l.position="absolute";return c&&g&&(A=Fr(v),A.time=Tn.time,A.width=v[h]),ft(f?x*i/m:x&&i?m/x*i:0)},ys=function(e,n,s,r){var i;return Yd||zu(),n in rs&&n!=="transform"&&(n=rs[n],~n.indexOf(",")&&(n=n.split(",")[0])),ks[n]&&n!=="transform"?(i=aa(e,r),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:Cl(In(e,hn))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||r||~(i+"").indexOf("calc("))&&(i=kl[n]&&kl[n](e,n,s)||In(e,n)||mb(e,n)||(n==="opacity"?1:0))),s&&!~(i+"").trim().indexOf(" ")?cr(e,n,i,s)+s:i},eI=function(e,n,s,r){if(!s||s==="none"){var i=Mi(n,e,1),a=i&&In(e,i,1);a&&a!==s?(n=i,s=a):n==="borderColor"&&(s=In(e,"borderTopColor"))}var l=new dn(this._pt,e.style,n,0,1,Hb),c=0,d=0,h,m,f,g,x,v,A,O,N,$,R,L;if(l.b=s,l.e=r,s+="",r+="",r.substring(0,6)==="var(--"&&(r=In(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(v=e.style[n],e.style[n]=r,r=In(e,n)||r,v?e.style[n]=v:lr(e,n)),h=[s,r],Nb(h),s=h[0],r=h[1],f=s.match(mi)||[],L=r.match(mi)||[],L.length){for(;m=mi.exec(r);)A=m[0],N=r.substring(c,m.index),x?x=(x+1)%5:(N.substr(-5)==="rgba("||N.substr(-5)==="hsla(")&&(x=1),A!==(v=f[d++]||"")&&(g=parseFloat(v)||0,R=v.substr((g+"").length),A.charAt(1)==="="&&(A=Ei(g,A)+R),O=parseFloat(A),$=A.substr((O+"").length),c=mi.lastIndex-$.length,$||($=$||kn.units[n]||R,c===r.length&&(r+=$,l.e+=$)),R!==$&&(g=cr(e,n,v,$)||0),l._pt={_next:l._pt,p:N||d===1?N:",",s:g,c:O-g,m:x&&x<4||n==="zIndex"?Math.round:0});l.c=c<r.length?r.substring(c,r.length):""}else l.r=n==="display"&&r==="none"?Gb:Wb;return ub.test(r)&&(l.e=0),this._pt=l,l},Up={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},tI=function(e){var n=e.split(" "),s=n[0],r=n[1]||"50%";return(s==="top"||s==="bottom"||r==="left"||r==="right")&&(e=s,s=r,r=e),n[0]=Up[s]||s,n[1]=Up[r]||r,n.join(" ")},nI=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,r=s.style,i=n.u,a=s._gsap,l,c,d;if(i==="all"||i===!0)r.cssText="",c=1;else for(i=i.split(","),d=i.length;--d>-1;)l=i[d],ks[l]&&(c=1,l=l==="transformOrigin"?hn:it),lr(s,l);c&&(lr(s,it),a&&(a.svg&&s.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",aa(s,1),a.uncache=1,Kb(r)))}},kl={clearProps:function(e,n,s,r,i){if(i.data!=="isFromStart"){var a=e._pt=new dn(e._pt,n,s,0,0,nI);return a.u=r,a.pr=-10,a.tween=i,e._props.push(s),1}}},oa=[1,0,0,1,0,0],ey={},ty=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Hp=function(e){var n=In(e,it);return ty(n)?oa:n.substr(7).match(cb).map(ft)},th=function(e,n){var s=e._gsap||Fr(e),r=e.style,i=Hp(e),a,l,c,d;return s.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?oa:i):(i===oa&&!e.offsetParent&&e!==Si&&!s.svg&&(c=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,Si.appendChild(e)),i=Hp(e),c?r.display=c:lr(e,"display"),d&&(l?a.insertBefore(e,l):a?a.appendChild(e):Si.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},Fu=function(e,n,s,r,i,a){var l=e._gsap,c=i||th(e,!0),d=l.xOrigin||0,h=l.yOrigin||0,m=l.xOffset||0,f=l.yOffset||0,g=c[0],x=c[1],v=c[2],A=c[3],O=c[4],N=c[5],$=n.split(" "),R=parseFloat($[0])||0,L=parseFloat($[1])||0,F,T,w,_;s?c!==oa&&(T=g*A-x*v)&&(w=R*(A/T)+L*(-v/T)+(v*N-A*O)/T,_=R*(-x/T)+L*(g/T)-(g*N-x*O)/T,R=w,L=_):(F=Yb(e),R=F.x+(~$[0].indexOf("%")?R/100*F.width:R),L=F.y+(~($[1]||$[0]).indexOf("%")?L/100*F.height:L)),r||r!==!1&&l.smooth?(O=R-d,N=L-h,l.xOffset=m+(O*g+N*v)-O,l.yOffset=f+(O*x+N*A)-N):l.xOffset=l.yOffset=0,l.xOrigin=R,l.yOrigin=L,l.smooth=!!r,l.origin=n,l.originIsAbsolute=!!s,e.style[hn]="0px 0px",a&&(Ws(a,l,"xOrigin",d,R),Ws(a,l,"yOrigin",h,L),Ws(a,l,"xOffset",m,l.xOffset),Ws(a,l,"yOffset",f,l.yOffset)),e.setAttribute("data-svg-origin",R+" "+L)},aa=function(e,n){var s=e._gsap||new Mb(e);if("x"in s&&!n&&!s.uncache)return s;var r=e.style,i=s.scaleX<0,a="px",l="deg",c=getComputedStyle(e),d=In(e,hn)||"0",h,m,f,g,x,v,A,O,N,$,R,L,F,T,w,_,E,C,k,I,re,me,xe,ge,_e,At,Pn,$t,ht,Os,Lt,bn;return h=m=f=v=A=O=N=$=R=0,g=x=1,s.svg=!!(e.getCTM&&Xb(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[it]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[it]!=="none"?c[it]:"")),r.scale=r.rotate=r.translate="none"),T=th(e,s.svg),s.svg&&(s.uncache?(_e=e.getBBox(),d=s.xOrigin-_e.x+"px "+(s.yOrigin-_e.y)+"px",ge=""):ge=!n&&e.getAttribute("data-svg-origin"),Fu(e,ge||d,!!ge||s.originIsAbsolute,s.smooth!==!1,T)),L=s.xOrigin||0,F=s.yOrigin||0,T!==oa&&(C=T[0],k=T[1],I=T[2],re=T[3],h=me=T[4],m=xe=T[5],T.length===6?(g=Math.sqrt(C*C+k*k),x=Math.sqrt(re*re+I*I),v=C||k?oi(k,C)*Dr:0,N=I||re?oi(I,re)*Dr+v:0,N&&(x*=Math.abs(Math.cos(N*Ii))),s.svg&&(h-=L-(L*C+F*I),m-=F-(L*k+F*re))):(bn=T[6],Os=T[7],Pn=T[8],$t=T[9],ht=T[10],Lt=T[11],h=T[12],m=T[13],f=T[14],w=oi(bn,ht),A=w*Dr,w&&(_=Math.cos(-w),E=Math.sin(-w),ge=me*_+Pn*E,_e=xe*_+$t*E,At=bn*_+ht*E,Pn=me*-E+Pn*_,$t=xe*-E+$t*_,ht=bn*-E+ht*_,Lt=Os*-E+Lt*_,me=ge,xe=_e,bn=At),w=oi(-I,ht),O=w*Dr,w&&(_=Math.cos(-w),E=Math.sin(-w),ge=C*_-Pn*E,_e=k*_-$t*E,At=I*_-ht*E,Lt=re*E+Lt*_,C=ge,k=_e,I=At),w=oi(k,C),v=w*Dr,w&&(_=Math.cos(w),E=Math.sin(w),ge=C*_+k*E,_e=me*_+xe*E,k=k*_-C*E,xe=xe*_-me*E,C=ge,me=_e),A&&Math.abs(A)+Math.abs(v)>359.9&&(A=v=0,O=180-O),g=ft(Math.sqrt(C*C+k*k+I*I)),x=ft(Math.sqrt(xe*xe+bn*bn)),w=oi(me,xe),N=Math.abs(w)>2e-4?w*Dr:0,R=Lt?1/(Lt<0?-Lt:Lt):0),s.svg&&(ge=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!ty(In(e,it)),ge&&e.setAttribute("transform",ge))),Math.abs(N)>90&&Math.abs(N)<270&&(i?(g*=-1,N+=v<=0?180:-180,v+=v<=0?180:-180):(x*=-1,N+=N<=0?180:-180)),n=n||s.uncache,s.x=h-((s.xPercent=h&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+a,s.y=m-((s.yPercent=m&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+a,s.z=f+a,s.scaleX=ft(g),s.scaleY=ft(x),s.rotation=ft(v)+l,s.rotationX=ft(A)+l,s.rotationY=ft(O)+l,s.skewX=N+l,s.skewY=$+l,s.transformPerspective=R+a,(s.zOrigin=parseFloat(d.split(" ")[2])||!n&&s.zOrigin||0)&&(r[hn]=Cl(d)),s.xOffset=s.yOffset=0,s.force3D=kn.force3D,s.renderTransform=s.svg?rI:Qb?ny:sI,s.uncache=0,s},Cl=function(e){return(e=e.split(" "))[0]+" "+e[1]},Yc=function(e,n,s){var r=Wt(n);return ft(parseFloat(n)+parseFloat(cr(e,"x",s+"px",r)))+r},sI=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,ny(e,n)},Pr="0deg",_o="0px",Rr=") ",ny=function(e,n){var s=n||this,r=s.xPercent,i=s.yPercent,a=s.x,l=s.y,c=s.z,d=s.rotation,h=s.rotationY,m=s.rotationX,f=s.skewX,g=s.skewY,x=s.scaleX,v=s.scaleY,A=s.transformPerspective,O=s.force3D,N=s.target,$=s.zOrigin,R="",L=O==="auto"&&e&&e!==1||O===!0;if($&&(m!==Pr||h!==Pr)){var F=parseFloat(h)*Ii,T=Math.sin(F),w=Math.cos(F),_;F=parseFloat(m)*Ii,_=Math.cos(F),a=Yc(N,a,T*_*-$),l=Yc(N,l,-Math.sin(F)*-$),c=Yc(N,c,w*_*-$+$)}A!==_o&&(R+="perspective("+A+Rr),(r||i)&&(R+="translate("+r+"%, "+i+"%) "),(L||a!==_o||l!==_o||c!==_o)&&(R+=c!==_o||L?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+Rr),d!==Pr&&(R+="rotate("+d+Rr),h!==Pr&&(R+="rotateY("+h+Rr),m!==Pr&&(R+="rotateX("+m+Rr),(f!==Pr||g!==Pr)&&(R+="skew("+f+", "+g+Rr),(x!==1||v!==1)&&(R+="scale("+x+", "+v+Rr),N.style[it]=R||"translate(0, 0)"},rI=function(e,n){var s=n||this,r=s.xPercent,i=s.yPercent,a=s.x,l=s.y,c=s.rotation,d=s.skewX,h=s.skewY,m=s.scaleX,f=s.scaleY,g=s.target,x=s.xOrigin,v=s.yOrigin,A=s.xOffset,O=s.yOffset,N=s.forceCSS,$=parseFloat(a),R=parseFloat(l),L,F,T,w,_;c=parseFloat(c),d=parseFloat(d),h=parseFloat(h),h&&(h=parseFloat(h),d+=h,c+=h),c||d?(c*=Ii,d*=Ii,L=Math.cos(c)*m,F=Math.sin(c)*m,T=Math.sin(c-d)*-f,w=Math.cos(c-d)*f,d&&(h*=Ii,_=Math.tan(d-h),_=Math.sqrt(1+_*_),T*=_,w*=_,h&&(_=Math.tan(h),_=Math.sqrt(1+_*_),L*=_,F*=_)),L=ft(L),F=ft(F),T=ft(T),w=ft(w)):(L=m,w=f,F=T=0),($&&!~(a+"").indexOf("px")||R&&!~(l+"").indexOf("px"))&&($=cr(g,"x",a,"px"),R=cr(g,"y",l,"px")),(x||v||A||O)&&($=ft($+x-(x*L+v*T)+A),R=ft(R+v-(x*F+v*w)+O)),(r||i)&&(_=g.getBBox(),$=ft($+r/100*_.width),R=ft(R+i/100*_.height)),_="matrix("+L+","+F+","+T+","+w+","+$+","+R+")",g.setAttribute("transform",_),N&&(g.style[it]=_)},iI=function(e,n,s,r,i){var a=360,l=Ct(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Dr:1),d=c-r,h=r+d+"deg",m,f;return l&&(m=i.split("_")[1],m==="short"&&(d%=a,d!==d%(a/2)&&(d+=d<0?a:-a)),m==="cw"&&d<0?d=(d+a*Mp)%a-~~(d/a)*a:m==="ccw"&&d>0&&(d=(d-a*Mp)%a-~~(d/a)*a)),e._pt=f=new dn(e._pt,n,s,r,d,j4),f.e=h,f.u="deg",e._props.push(s),f},qp=function(e,n){for(var s in n)e[s]=n[s];return e},oI=function(e,n,s){var r=qp({},s._gsap),i="perspective,force3D,transformOrigin,svgOrigin",a=s.style,l,c,d,h,m,f,g,x;r.svg?(d=s.getAttribute("transform"),s.setAttribute("transform",""),a[it]=n,l=aa(s,1),lr(s,it),s.setAttribute("transform",d)):(d=getComputedStyle(s)[it],a[it]=n,l=aa(s,1),a[it]=d);for(c in ks)d=r[c],h=l[c],d!==h&&i.indexOf(c)<0&&(g=Wt(d),x=Wt(h),m=g!==x?cr(s,c,d,x):parseFloat(d),f=parseFloat(h),e._pt=new dn(e._pt,l,c,m,f-m,Lu),e._pt.u=x||0,e._props.push(c));qp(l,r)};un("padding,margin,Width,Radius",function(t,e){var n="Top",s="Right",r="Bottom",i="Left",a=(e<3?[n,s,r,i]:[n+i,n+s,r+s,r+i]).map(function(l){return e<2?t+l:"border"+l+t});kl[e>1?"border"+t:t]=function(l,c,d,h,m){var f,g;if(arguments.length<4)return f=a.map(function(x){return ys(l,x,d)}),g=f.join(" "),g.split(f[0]).length===5?f[0]:g;f=(h+"").split(" "),g={},a.forEach(function(x,v){return g[x]=f[v]=f[v]||f[(v-1)/2|0]}),l.init(c,g,m)}});var sy={name:"css",register:zu,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,r,i){var a=this._props,l=e.style,c=s.vars.startAt,d,h,m,f,g,x,v,A,O,N,$,R,L,F,T,w,_;Yd||zu(),this.styles=this.styles||Jb(e),w=this.styles.props,this.tween=s;for(v in n)if(v!=="autoRound"&&(h=n[v],!(wn[v]&&zb(v,n,s,r,e,i)))){if(g=typeof h,x=kl[v],g==="function"&&(h=h.call(s,r,e,i),g=typeof h),g==="string"&&~h.indexOf("random(")&&(h=sa(h)),x)x(this,e,v,h,s)&&(T=1);else if(v.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(v)+"").trim(),h+="",Ys.lastIndex=0,Ys.test(d)||(A=Wt(d),O=Wt(h),O?A!==O&&(d=cr(e,v,d,O)+O):A&&(h+=A)),this.add(l,"setProperty",d,h,r,i,0,0,v),a.push(v),w.push(v,0,l[v]);else if(g!=="undefined"){if(c&&v in c?(d=typeof c[v]=="function"?c[v].call(s,r,e,i):c[v],Ct(d)&&~d.indexOf("random(")&&(d=sa(d)),Wt(d+"")||d==="auto"||(d+=kn.units[v]||Wt(ys(e,v))||""),(d+"").charAt(1)==="="&&(d=ys(e,v))):d=ys(e,v),f=parseFloat(d),N=g==="string"&&h.charAt(1)==="="&&h.substr(0,2),N&&(h=h.substr(2)),m=parseFloat(h),v in rs&&(v==="autoAlpha"&&(f===1&&ys(e,"visibility")==="hidden"&&m&&(f=0),w.push("visibility",0,l.visibility),Ws(this,l,"visibility",f?"inherit":"hidden",m?"inherit":"hidden",!m)),v!=="scale"&&v!=="transform"&&(v=rs[v],~v.indexOf(",")&&(v=v.split(",")[0]))),$=v in ks,$){if(this.styles.save(v),_=h,g==="string"&&h.substring(0,6)==="var(--"){if(h=In(e,h.substring(4,h.indexOf(")"))),h.substring(0,5)==="calc("){var E=e.style.perspective;e.style.perspective=h,h=In(e,"perspective"),E?e.style.perspective=E:lr(e,"perspective")}m=parseFloat(h)}if(R||(L=e._gsap,L.renderTransform&&!n.parseTransform||aa(e,n.parseTransform),F=n.smoothOrigin!==!1&&L.smooth,R=this._pt=new dn(this._pt,l,it,0,1,L.renderTransform,L,0,-1),R.dep=1),v==="scale")this._pt=new dn(this._pt,L,"scaleY",L.scaleY,(N?Ei(L.scaleY,N+m):m)-L.scaleY||0,Lu),this._pt.u=0,a.push("scaleY",v),v+="X";else if(v==="transformOrigin"){w.push(hn,0,l[hn]),h=tI(h),L.svg?Fu(e,h,0,F,0,this):(O=parseFloat(h.split(" ")[2])||0,O!==L.zOrigin&&Ws(this,L,"zOrigin",L.zOrigin,O),Ws(this,l,v,Cl(d),Cl(h)));continue}else if(v==="svgOrigin"){Fu(e,h,1,F,0,this);continue}else if(v in ey){iI(this,L,v,f,N?Ei(f,N+h):h);continue}else if(v==="smoothOrigin"){Ws(this,L,"smooth",L.smooth,h);continue}else if(v==="force3D"){L[v]=h;continue}else if(v==="transform"){oI(this,h,e);continue}}else v in l||(v=Mi(v)||v);if($||(m||m===0)&&(f||f===0)&&!F4.test(h)&&v in l)A=(d+"").substr((f+"").length),m||(m=0),O=Wt(h)||(v in kn.units?kn.units[v]:A),A!==O&&(f=cr(e,v,d,O)),this._pt=new dn(this._pt,$?L:l,v,f,(N?Ei(f,N+m):m)-f,!$&&(O==="px"||v==="zIndex")&&n.autoRound!==!1?H4:Lu),this._pt.u=O||0,$&&_!==h?(this._pt.b=d,this._pt.e=_,this._pt.r=U4):A!==O&&O!=="%"&&(this._pt.b=d,this._pt.r=B4);else if(v in l)eI.call(this,e,v,d,N?N+h:h);else if(v in e)this.add(e,v,d||e[v],N?N+h:h,r,i);else if(v!=="parseTransform"){Bd(v,h);continue}$||(v in l?w.push(v,0,l[v]):typeof e[v]=="function"?w.push(v,2,e[v]()):w.push(v,1,d||e[v])),a.push(v)}}T&&qb(this)},render:function(e,n){if(n.tween._time||!Xd())for(var s=n._pt;s;)s.r(e,s.d),s=s._next;else n.styles.revert()},get:ys,aliases:rs,getSetter:function(e,n,s){var r=rs[n];return r&&r.indexOf(",")<0&&(n=r),n in ks&&n!==hn&&(e._gsap.x||ys(e,"x"))?s&&Lp===s?n==="scale"?G4:W4:(Lp=s||{})&&(n==="scale"?K4:J4):e.style&&!zd(e.style[n])?q4:~n.indexOf("-")?Z4:Jd(e,n)},core:{_removeProperty:lr,_getMatrix:th}};pn.utils.checkPrefix=Mi;pn.core.getStyleSaver=Jb;(function(t,e,n,s){var r=un(t+","+e+","+n,function(i){ks[i]=1});un(e,function(i){kn.units[i]="deg",ey[i]=1}),rs[r[13]]=t+","+e,un(s,function(i){var a=i.split(":");rs[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");un("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){kn.units[t]="px"});pn.registerPlugin(sy);var Jn=pn.registerPlugin(sy)||pn;Jn.core.Tween;const aI={class:"h-full w-full relative flex flex-col text-white overflow-hidden",style:{"background-color":"var(--lumina-colors-background, #030303)",color:"var(--lumina-colors-text, #ffffff)"}},lI={class:"absolute inset-0 z-0 overflow-hidden pointer-events-none"},cI={key:0,class:"absolute top-0 right-0 p-6 z-50 flex gap-4 pointer-events-auto"},uI={class:"relative h-full w-full md:w-[450px] bg-[#0a0a0a]/95 border-l border-white/10 shadow-2xl overflow-auto text-left flex flex-col transform transition-transform duration-300"},dI={class:"p-6 pb-2 border-b border-white/5 flex items-center justify-between shrink-0"},hI={class:"p-6"},fI={class:"text-[10px] font-mono text-green-400 whitespace-pre-wrap"},pI={class:"flex-1 w-full relative overflow-y-auto overflow-x-hidden z-10 scroll-smooth"},mI={key:1,class:"absolute bottom-0 left-0 w-full z-40 px-8 py-6 bg-gradient-to-t from-black via-black/80 to-transparent flex justify-between items-end pointer-events-none"},gI={key:0,class:"pointer-events-auto text-left"},bI={class:"text-[10px] font-bold text-gray-500 tracking-[0.2em] uppercase mb-1"},yI={class:"flex items-center gap-2 text-white/50 text-sm font-mono"},_I={key:0,class:"h-px w-8 bg-white/20"},vI={key:1,class:"flex-1"},xI={key:2,class:"pointer-events-auto flex gap-3"},wI=["disabled"],TI=["disabled"],EI=Ne({__name:"LuminaDeck",setup(t){const{slide:e,index:n,total:s,next:r,prev:i,options:a}=F2(),l=xs(ya),c=Ie(()=>l.hasNext()),d=Ie(()=>l.hasPrev()),h=Ie(()=>{var F,T;return(T=(F=l.state.deck)==null?void 0:F.meta)==null?void 0:T.title}),m=Ie(()=>l.state.options.ui),f=Ie(()=>l.state.options.navigation);j2();const g=de({showJson:!1}),x=xs("LuminaEngine"),v=()=>{x&&typeof x.openSpeakerNotes=="function"?x.openSpeakerNotes():(console.warn("Lumina Engine not found or openSpeakerNotes not available"),alert("Speaker notes require the full Lumina Engine environment."))},A=Ie(()=>a.debug),O=Ie(()=>!e.value||!e.value.type?null:`layout-${e.value.type}`),N=Ie(()=>{var F,T,w,_,E,C,k,I;return{backgroundColor:((T=(F=e.value)==null?void 0:F.meta)==null?void 0:T.orbColor)||"var(--lumina-color-primary, #3b82f6)",width:"var(--lumina-orb-size, 60vw)",height:"var(--lumina-orb-size, 60vw)",top:((E=(_=(w=e.value)==null?void 0:w.meta)==null?void 0:_.orbPos)==null?void 0:E.top)||"-20%",left:((I=(k=(C=e.value)==null?void 0:C.meta)==null?void 0:k.orbPos)==null?void 0:I.left)||"-10%"}}),$=F=>{Hs.emit("action",F)},R=(F,T)=>{const w=F;w.style.opacity="1",T()},L=(F,T)=>{var k,I,re;const{options:w}=l.state;if(((k=w.animation)==null?void 0:k.enabled)===!1){T();return}const _=((I=w.animation)==null?void 0:I.durationOut)||.5,E=((re=w.animation)==null?void 0:re.type)||"cascade",C=Jn.timeline({onComplete:T});E==="fade"?C.to(F,{opacity:0,duration:_}):E==="zoom"?C.to(F,{opacity:0,scale:1.1,duration:_}):C.to(F,{opacity:0,y:-20,duration:_,ease:"power2.in"})};return(F,T)=>{var w,_,E,C,k;return V(),z("div",aI,[o("div",lI,[o("div",{class:"ambient-orb",style:st(N.value)},null,4),T[6]||(T[6]=o("div",{class:"absolute inset-0 opacity-[0.04]",style:{"background-image":"url('https://grainy-gradients.vercel.app/noise.svg')"}},null,-1))]),A.value?(V(),z("div",cI,[o("button",{onClick:T[0]||(T[0]=I=>g.value.showJson=!g.value.showJson),class:"w-8 h-8 rounded-full glass-panel flex items-center justify-center text-gray-400 hover:text-white transition",title:"JSON"},[...T[7]||(T[7]=[o("i",{class:"fa-solid fa-code text-xs"},null,-1)])])])):ie("",!0),Te(Qo,{name:"fade"},{default:fn(()=>[g.value.showJson?(V(),z("div",{key:0,class:"fixed inset-0 z-[100] flex justify-end",onClick:T[3]||(T[3]=tn(I=>g.value.showJson=!1,["self"]))},[o("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity",onClick:T[1]||(T[1]=I=>g.value.showJson=!1)}),o("div",uI,[o("div",dI,[T[9]||(T[9]=o("span",{class:"text-xs font-bold text-gray-400 uppercase tracking-widest"},"Slide Data",-1)),o("button",{onClick:T[2]||(T[2]=I=>g.value.showJson=!1),class:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-white/50 hover:text-white transition"},[...T[8]||(T[8]=[o("i",{class:"fa-solid fa-xmark"},null,-1)])])]),o("div",hI,[o("pre",fI,te(JSON.stringify(Qe(e),null,2)),1)])])])):ie("",!0)]),_:1}),o("main",pI,[Te(Qo,{css:!1,onLeave:L,onEnter:R,mode:"out-in"},{default:fn(()=>[O.value?(V(),ct(pl(O.value),{key:Qe(n),data:Qe(e),onAction:$,class:"min-h-full w-full"},null,40,["data"])):ie("",!0)]),_:1})]),(w=m.value)!=null&&w.visible?(V(),z("div",mI,[(_=m.value)!=null&&_.showSlideCount?(V(),z("div",gI,[o("h2",bI,te(h.value),1),o("div",yI,[o("span",null,te((Qe(n)+1).toString().padStart(2,"0")),1),(E=m.value)!=null&&E.showProgressBar?(V(),z("div",_I)):ie("",!0),o("span",null,te(Qe(s).toString().padStart(2,"0")),1)])])):(V(),z("div",vI)),(C=m.value)!=null&&C.showControls?(V(),z("div",xI,[(k=Qe(e))!=null&&k.notes?(V(),z("button",{key:0,onClick:v,class:"w-12 h-12 rounded-full glass-panel hover:bg-white/10 flex items-center justify-center transition active:scale-95",title:"Open Speaker View"},[...T[10]||(T[10]=[o("i",{class:"fa-solid fa-person-chalkboard text-sm text-gray-400 hover:text-white"},null,-1)])])):ie("",!0),o("button",{onClick:T[4]||(T[4]=(...I)=>Qe(i)&&Qe(i)(...I)),class:ce(["w-12 h-12 rounded-full glass-panel hover:bg-white/10 flex items-center justify-center transition active:scale-95",!d.value||!f.value?"opacity-30 cursor-not-allowed":""]),disabled:!d.value||!f.value},[...T[11]||(T[11]=[o("i",{class:"fa-solid fa-arrow-left"},null,-1)])],10,wI),o("button",{onClick:T[5]||(T[5]=(...I)=>Qe(r)&&Qe(r)(...I)),class:ce(["w-12 h-12 rounded-full bg-white text-black hover:scale-105 flex items-center justify-center transition shadow-lg active:scale-95",!c.value||!f.value?"opacity-30 cursor-not-allowed":""]),disabled:!c.value||!f.value},[...T[12]||(T[12]=[o("i",{class:"fa-solid fa-arrow-right"},null,-1)])],10,TI)])):ie("",!0)])):ie("",!0)])}}}),Dn=class Dn{constructor(e){Yt(this,"channel",null);Yt(this,"handlers",new Set);Yt(this,"lastTimestamp",0);Yt(this,"heartbeatInterval",null);Yt(this,"isConnected",!1);Yt(this,"connectionHandlers",new Set);this.channelName=e,this.initChannel()}static getInstance(e,n=!1){return n?new Dn(e):(Dn.instances.has(e)||Dn.instances.set(e,new Dn(e)),Dn.instances.get(e))}static isSupported(){return typeof BroadcastChannel<"u"}initChannel(){if(!Dn.isSupported()){console.warn("[SpeakerChannel] BroadcastChannel not supported in this environment");return}try{this.channel=new BroadcastChannel(this.channelName),this.channel.onmessage=e=>{const n=e.data;if(!(n.timestamp&&n.timestamp===this.lastTimestamp)){if(n.action==="ping"){this.send({action:"pong"}),this.handlers.forEach(s=>{try{s(n)}catch(r){console.error("[SpeakerChannel] Handler error:",r)}});return}if(n.action==="pong"){this.setConnected(!0);return}if(n.action==="close"){this.setConnected(!1);return}this.handlers.forEach(s=>{try{s(n)}catch(r){console.error("[SpeakerChannel] Handler error:",r)}})}},this.channel.onmessageerror=e=>{console.error("[SpeakerChannel] Message error:",e)},this.startHeartbeat()}catch(e){console.error("[SpeakerChannel] Failed to initialize:",e)}}send(e){if(!this.channel)return;const n={...e,timestamp:Date.now(),channelId:this.channelName};this.lastTimestamp=n.timestamp,this.channel.postMessage(n)}subscribe(e){return this.handlers.add(e),()=>this.handlers.delete(e)}onConnectionChange(e){return this.connectionHandlers.add(e),e(this.isConnected),()=>this.connectionHandlers.delete(e)}get connected(){return this.isConnected}ping(){this.send({action:"ping"})}notifyClose(){this.send({action:"close"})}startHeartbeat(){this.ping(),this.heartbeatInterval=setInterval(()=>{(this.handlers.size>0||this.connectionHandlers.size>0)&&this.ping()},5e3)}setConnected(e){this.isConnected!==e&&(this.isConnected=e,this.connectionHandlers.forEach(n=>n(e)))}destroy(){this.notifyClose(),this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.channel&&(this.channel.close(),this.channel=null),this.handlers.clear(),this.connectionHandlers.clear(),Dn.instances.delete(this.channelName)}static destroyAll(){Dn.instances.forEach(e=>e.destroy()),Dn.instances.clear()}};Yt(Dn,"instances",new Map);let la=Dn;const SI={class:"speaker-notes"},II={class:"sn-header"},kI={class:"sn-status"},CI={class:"sn-slide-count"},AI={class:"sn-content"},PI={class:"sn-notes-section"},RI=["innerHTML"],OI={key:1,class:"sn-notes-empty"},DI={class:"sn-footer"},NI={class:"sn-nav-controls"},VI=["disabled"],$I={class:"sn-timer-value"},LI=["disabled"],MI=Ne({__name:"LuminaSpeakerNotes",props:{channelId:{}},setup(t){const e=t,n=de(0),s=de(0),r=de(""),i=de(null),a=de(!1),l=de(null),c=de(0),d=de(!1),h=de(null),m=Ie(()=>s.value===0?"No slides loaded":`Slide ${n.value+1} / ${s.value}`),f=Ie(()=>{const _=Math.floor(c.value/3600),E=Math.floor(c.value%3600/60),C=c.value%60;return _>0?`${_.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`:`${E.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`}),g=Ie(()=>n.value<s.value-1),x=Ie(()=>n.value>0);function v(_){return _?_.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(new RegExp("(?<!\\*)\\*(?!\\*)(.*?)(?<!\\*)\\*(?!\\*)","g"),"<em>$1</em>").replace(new RegExp("(?<!_)_(?!_)(.*?)(?<!_)_(?!_)","g"),"<em>$1</em>").replace(/\n/g,"<br>").replace(/^[-*]\s+(.*)$/gm,"<li>$1</li>").replace(/(<li>.*<\/li>)/gs,"<ul>$1</ul>").replace(/<\/ul>\s*<ul>/g,""):""}function A(){const _=new URLSearchParams(window.location.search),E=e.channelId||_.get("channel")||"lumina-speaker-default";l.value=la.getInstance(E,!0),l.value.onConnectionChange(re=>{a.value=re}),l.value.subscribe(O);let C=0;const k=10,I=setInterval(()=>{var re;if(s.value>0||C>=k){clearInterval(I);return}(re=l.value)==null||re.ping(),C++},300);l.value.ping()}function O(_){switch(_.action){case"state":_.index!==void 0&&(n.value=_.index),_.totalSlides!==void 0&&(s.value=_.totalSlides),_.currentNotes!==void 0&&(r.value=_.currentNotes),_.nextSlidePreview&&(i.value=_.nextSlidePreview);break;case"goto":_.index!==void 0&&(n.value=_.index);break}}function N(){var _;g.value&&((_=l.value)==null||_.send({action:"next"}))}function $(){var _;x.value&&((_=l.value)==null||_.send({action:"prev"}))}function R(){d.value||(d.value=!0,h.value=setInterval(()=>{c.value++},1e3))}function L(){d.value=!1,h.value&&(clearInterval(h.value),h.value=null)}function F(){d.value?L():R()}function T(){L(),c.value=0}function w(_){switch(_.key){case"ArrowRight":case" ":case"Enter":_.preventDefault(),N();break;case"ArrowLeft":case"Backspace":_.preventDefault(),$();break;case"t":case"T":_.preventDefault(),F();break;case"r":case"R":if(_.ctrlKey||_.metaKey)return;_.preventDefault(),T();break}}return mn(()=>{A(),window.addEventListener("keydown",w),window.addEventListener("beforeunload",()=>{var _;(_=l.value)==null||_.notifyClose()})}),qn(()=>{var _;L(),window.removeEventListener("keydown",w),(_=l.value)==null||_.destroy()}),(_,E)=>(V(),z("div",SI,[o("header",II,[E[0]||(E[0]=Ya('<div class="sn-title" data-v-63b98fd9><svg class="sn-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-63b98fd9><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-63b98fd9></path><path d="M2 17l10 5 10-5" data-v-63b98fd9></path><path d="M2 12l10 5 10-5" data-v-63b98fd9></path></svg><span data-v-63b98fd9>Lumina Speaker Notes</span></div>',1)),o("div",kI,[o("span",{class:ce(["sn-indicator",{connected:a.value}])},null,2),o("span",CI,te(m.value),1)])]),o("main",AI,[o("section",PI,[E[2]||(E[2]=o("h2",{class:"sn-section-title"},"Notes",-1)),r.value?(V(),z("div",{key:0,class:"sn-notes-content",innerHTML:v(r.value)},null,8,RI)):(V(),z("div",OI,[...E[1]||(E[1]=[o("p",null,"No notes for this slide",-1)])]))])]),o("footer",DI,[o("div",NI,[o("button",{class:"sn-btn sn-btn-nav",disabled:!x.value,onClick:$,title:"Previous ( or Backspace)"},[...E[3]||(E[3]=[o("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("polyline",{points:"15 18 9 12 15 6"})],-1),o("span",null,"Prev",-1)])],8,VI),o("div",{class:"sn-timer",onClick:F,title:"Click to start/pause (T)"},[o("span",{class:ce(["sn-timer-icon",{running:d.value}])},te(d.value?"":""),3),o("span",$I,te(f.value),1),o("button",{class:"sn-timer-reset",onClick:tn(T,["stop"]),title:"Reset timer (R)"},"")]),o("button",{class:"sn-btn sn-btn-nav sn-btn-primary",disabled:!g.value,onClick:N,title:"Next (, Space, or Enter)"},[...E[4]||(E[4]=[o("span",null,"Next",-1),o("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("polyline",{points:"9 18 15 12 9 6"})],-1)])],8,LI)])])]))}}),Xr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},zI=Xr(MI,[["__scopeId","data-v-63b98fd9"]]);function FI(t,e){const n=xs(ya);let s=null;const r=()=>{if(!t.value||!n)return;s==null||s.revert();const{enabled:i,type:a,durationIn:l,stagger:c,ease:d}=n.state.options.animation||{};if(i===!1){Jn.set(t.value.querySelectorAll(".reveal-up, .reveal-zoom, .reveal-content > *, .reveal-card, .reveal-img"),{opacity:1,y:0,scale:1,visibility:"visible"});return}s=Jn.context(()=>{const h=t.value,m=a==="fade",f=a==="slide",g=a==="zoom",x=m?0:f?80:40,v=g?.8:a==="cascade"?.95:1;h.querySelector(".reveal-up")&&Jn.set(".reveal-up",{y:x,opacity:0}),h.querySelector(".reveal-zoom")&&Jn.set(".reveal-zoom",{scale:v,opacity:0}),h.querySelector(".reveal-content > *")&&Jn.set(".reveal-content > *",{y:m?0:30,opacity:0}),h.querySelector(".reveal-card")&&Jn.set(".reveal-card",{y:m?0:50,opacity:0,scale:v}),h.querySelector(".reveal-img")&&Jn.set(".reveal-img",{scale:1.1,opacity:0});const A=Jn.timeline({defaults:{ease:d||"power3.out",duration:l||.8},onComplete:e});h.querySelector(".reveal-img")&&A.to(".reveal-img",{scale:1,opacity:1,duration:(l||1)*1.2,ease:"expo.out"},0);const O=l||.8,N=c||.1;h.querySelectorAll(".reveal-card").length&&A.to(".reveal-card",{y:0,opacity:1,scale:1,duration:O,stagger:N,ease:f?"expo.out":"back.out(1.2)"},.2);const $=h.querySelectorAll(".reveal-content > *");$.length&&A.to($,{y:0,opacity:1,duration:O,stagger:N/2},.3),h.querySelectorAll(".reveal-up").length&&A.to(".reveal-up",{y:0,opacity:1,duration:O,stagger:N},.2),h.querySelector(".reveal-zoom")&&A.to(".reveal-zoom",{scale:1,opacity:1,duration:O*1.2,ease:"expo.out"},.1)},t)};return mn(()=>{Ss(()=>{r()})}),qn(()=>{s==null||s.revert()}),{animateIn:r}}const jI={class:"absolute inset-0 z-0 pointer-events-none overflow-hidden"},BI=["src","poster","autoplay","loop","muted"],UI={key:2,class:"absolute inset-0 bg-[var(--lumina-colors-background,black)]/30 pointer-events-none transition-opacity duration-1000"},HI={class:"relative z-10 w-full h-full"},yr=Ne({__name:"BaseSlide",props:{data:{},customClass:{}},setup(t){const e=t,n=de(null);FI(n);const s=Ie(()=>e.data.background?typeof e.data.background=="string"?"image":e.data.background.type==="video"?"video":null:null),r=Ie(()=>e.data.background?typeof e.data.background=="string"?e.data.background:e.data.background.src:""),i=Ie(()=>{if(s.value==="video")return e.data.background.poster}),a=Ie(()=>s.value!=="video"?void 0:e.data.background.autoplay??!0),l=Ie(()=>s.value!=="video"?void 0:e.data.background.loop??!0),c=Ie(()=>s.value!=="video"?void 0:e.data.background.muted??!0),d=Ie(()=>e.data.backgroundOpacity??1);return(h,m)=>(V(),z("div",{ref_key:"container",ref:n,class:ce(["w-full min-h-full relative text-white",t.customClass])},[o("div",jI,[s.value==="image"?(V(),z("div",{key:0,class:"absolute inset-0 bg-cover bg-center transition-opacity duration-1000",style:st({backgroundImage:`url(${r.value})`,opacity:d.value})},null,4)):s.value==="video"?(V(),z("video",{key:1,class:"absolute inset-0 w-full h-full object-cover transition-opacity duration-1000",style:st({opacity:d.value}),src:r.value,poster:i.value,autoplay:a.value,loop:l.value,muted:c.value,playsinline:""},null,12,BI)):ie("",!0),s.value==="video"?(V(),z("div",UI)):ie("",!0),Cf(h.$slots,"background")]),o("div",HI,[Cf(h.$slots,"default")])],2))}}),qI={class:"reveal-zoom max-w-5xl z-10"},ZI={key:0,class:"inline-block rounded-full font-medium uppercase",style:{color:"var(--lumina-color-primary)",border:"1px solid var(--lumina-color-border)",backgroundColor:"rgba(var(--lumina-color-text-rgb), 0.05)",padding:"var(--lumina-tag-padding)",fontSize:"var(--lumina-tag-font-size)",letterSpacing:"var(--lumina-tracking-widest)",marginBottom:"var(--lumina-space-xl)"}},WI={key:1,class:"max-w-3xl mx-auto",style:{color:"var(--lumina-color-muted)",fontWeight:"var(--lumina-font-weight-light)",fontSize:"clamp(var(--lumina-text-xl), 3vw, var(--lumina-text-3xl))",lineHeight:"var(--lumina-leading-normal)"}},GI=Ne({__name:"LayoutStatement",props:{data:{}},setup(t){const e=t,n=Ie(()=>({fontSize:e.data.sizing==="container"?"var(--lumina-text-5xl)":"clamp(var(--lumina-text-4xl), 10vw, var(--lumina-text-7xl))",fontFamily:"var(--lumina-font-heading)",fontWeight:"var(--lumina-font-weight-bold)",lineHeight:"var(--lumina-leading-tight)",letterSpacing:"var(--lumina-tracking-tight)",marginBottom:"var(--lumina-space-xl)",backgroundImage:"linear-gradient(var(--lumina-gradient-direction, to bottom), var(--lumina-color-text), var(--lumina-color-muted))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}));return(s,r)=>(V(),ct(yr,{data:t.data},{default:fn(()=>[o("div",{class:ce(["flex flex-col justify-center items-center text-center relative",t.data.sizing==="container"?"h-full":"min-h-screen"]),style:{padding:"var(--lumina-space-xl)"}},[o("div",qI,[t.data.tag?(V(),z("span",ZI,te(t.data.tag),1)):ie("",!0),o("h1",{style:st(n.value)},te(t.data.title),5),t.data.subtitle?(V(),z("p",WI,te(t.data.subtitle),1)):ie("",!0)])],2)]),_:1},8,["data"]))}}),KI=["src","poster","autoplay","loop","muted"],JI={key:0,class:"absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black/80 via-black/40 to-transparent transition-opacity duration-300"},QI={class:"flex items-center justify-between text-white"},YI={class:"flex items-center gap-4"},XI={class:"flex items-center gap-2 group/vol"},ek={class:"text-xs font-mono opacity-70"},tk={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},nk=Ne({__name:"VideoPlayer",props:{src:{type:String,required:!0},poster:{type:String,default:""},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},objectFit:{type:String,default:"cover"}},setup(t){const e=t,n=de(null),s=de(!1),r=de(e.muted),i=de(1),a=de(0),l=de(0),c=de(0),d=de(!1),h=de(!1);let m;const f=Ie(()=>e.objectFit==="contain"?"object-contain":"object-cover"),g=F=>{const T=Math.floor(F/60),w=Math.floor(F%60);return`${T}:${w.toString().padStart(2,"0")}`},x=()=>{n.value&&(n.value.paused?(n.value.play(),s.value=!0,h.value=!0):(n.value.pause(),s.value=!1))},v=()=>{n.value&&(n.value.muted=!n.value.muted,r.value=n.value.muted,r.value?i.value=0:i.value=1)},A=()=>{n.value&&(l.value=n.value.currentTime,a.value=l.value/c.value*100||0)},O=()=>{n.value&&(c.value=n.value.duration,e.autoplay&&x())},N=()=>{s.value=!1,e.loop&&n.value&&(n.value.currentTime=0,x())},$=F=>{if(!n.value)return;const T=F.currentTarget,w=F.offsetX/T.clientWidth;n.value.currentTime=w*c.value,a.value=w*100},R=()=>{if(!n.value)return;const F=n.value.parentElement;!document.fullscreenElement&&F?F.requestFullscreen():document.exitFullscreen()},L=()=>{d.value=!0,clearTimeout(m),m=setTimeout(()=>{s.value&&(d.value=!1)},3e3)};return Bn(i,F=>{n.value&&(n.value.volume=F,r.value=F===0,n.value.muted=F===0)}),mn(()=>{n.value&&(n.value.muted=e.muted,r.value=e.muted)}),(F,T)=>(V(),z("div",{class:"relative w-full h-full group bg-black overflow-hidden",onMousemove:L,onMouseleave:T[1]||(T[1]=w=>d.value=!1)},[o("video",{ref_key:"videoRef",ref:n,class:ce(["w-full h-full",f.value]),src:t.src,poster:t.poster,autoplay:t.autoplay,loop:t.loop,muted:t.muted,playsinline:"",onClick:x,onTimeupdate:A,onLoadedmetadata:O,onEnded:N},null,42,KI),Te(Qo,{name:"fade"},{default:fn(()=>[t.controls&&d.value?(V(),z("div",JI,[o("div",{class:"w-full h-1 bg-white/20 rounded-full mb-4 cursor-pointer relative group/progress",onClick:$},[o("div",{class:"absolute top-0 left-0 h-full rounded-full transition-all duration-100",style:st({width:`${a.value}%`,backgroundColor:"var(--lumina-colors-primary, #3b82f6)"})},null,4),o("div",{class:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover/progress:opacity-100 transition-opacity",style:st({left:`${a.value}%`})},null,4)]),o("div",QI,[o("div",YI,[o("button",{onClick:x,class:"hover:text-[var(--lumina-colors-primary)] transition"},[o("i",{class:ce(["fa-solid text-xl",s.value?"fa-pause":"fa-play"])},null,2)]),o("div",XI,[o("button",{onClick:v,class:"hover:text-[var(--lumina-colors-primary)] transition w-6"},[o("i",{class:ce(["fa-solid",r.value?"fa-volume-xmark":"fa-volume-high"])},null,2)]),Zi(o("input",{type:"range",min:"0",max:"1",step:"0.1","onUpdate:modelValue":T[0]||(T[0]=w=>i.value=w),class:"w-0 overflow-hidden group-hover/vol:w-20 transition-all duration-300 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2 [&::-webkit-slider-thumb]:h-2 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full"},null,512),[[Wi,i.value,void 0,{number:!0}]])]),o("span",ek,te(g(l.value))+" / "+te(g(c.value)),1)]),o("div",{class:"flex items-center gap-4"},[o("button",{onClick:R,class:"hover:text-[var(--lumina-colors-primary)] transition"},[...T[2]||(T[2]=[o("i",{class:"fa-solid fa-expand"},null,-1)])])])])])):ie("",!0)]),_:1}),t.controls&&!s.value&&!h.value?(V(),z("div",tk,[o("div",{class:"w-16 h-16 rounded-full bg-black/50 backdrop-blur-sm border border-white/10 flex items-center justify-center text-white pointer-events-auto cursor-pointer hover:scale-110 transition duration-300",onClick:x},[...T[3]||(T[3]=[o("i",{class:"fa-solid fa-play text-2xl ml-1"},null,-1)])])])):ie("",!0)],32))}}),nh=Xr(nk,[["__scopeId","data-v-e807d364"]]),sk={key:0,class:"w-full h-full relative"},rk=["src"],ik={class:"reveal-content",style:{maxWidth:"36rem"}},ok={key:0,class:"font-bold uppercase block",style:{color:"var(--lumina-color-primary)",letterSpacing:"var(--lumina-tracking-widest)",fontSize:"var(--lumina-text-xs)",marginBottom:"var(--lumina-space-lg)"}},ak={class:"font-bold",style:{fontFamily:"var(--lumina-font-heading)",color:"var(--lumina-color-text)",fontSize:"clamp(var(--lumina-text-4xl), 5vw, var(--lumina-text-6xl))",lineHeight:"var(--lumina-leading-tight)",marginBottom:"var(--lumina-space-xl)"}},lk={style:{color:"var(--lumina-color-text-secondary, var(--lumina-color-muted))",fontWeight:"var(--lumina-font-weight-light)",fontSize:"var(--lumina-text-lg)",lineHeight:"var(--lumina-leading-relaxed)",marginBottom:"var(--lumina-space-xl)",display:"flex",flexDirection:"column",gap:"var(--lumina-space-lg)"}},ck={key:1,style:{paddingTop:"var(--lumina-space-lg)",borderTop:"1px solid var(--lumina-color-border)"}},uk=Ne({__name:"LayoutHalf",props:{data:{}},emits:["action"],setup(t){const e=de(!1),n=Ie(()=>({backgroundColor:"var(--lumina-color-background)",padding:"var(--lumina-space-xl) var(--lumina-space-3xl)"}));return(s,r)=>(V(),ct(yr,{data:t.data},{default:fn(()=>[o("div",{class:ce(["w-full flex flex-col lg:block relative",t.data.sizing==="container"?"min-h-full":"min-h-screen"])},[o("div",{class:ce(["relative h-[40vh] lg:h-full lg:w-1/2 overflow-hidden z-0",t.data.sizing==="container"?"lg:absolute lg:top-0":"lg:fixed lg:top-0",t.data.imageSide==="right"?"lg:right-0 order-1":"lg:left-0 order-1"])},[r[3]||(r[3]=o("div",{class:"absolute inset-0 z-10",style:{backgroundColor:"var(--lumina-color-overlay, rgba(0,0,0,0.2))"}},null,-1)),t.data.video?(V(),z("div",sk,[Te(nh,{class:"w-full h-full",src:t.data.video.src,poster:t.data.video.poster,autoplay:t.data.video.autoplay??!0,loop:t.data.video.loop??!0,muted:t.data.video.muted??!0,controls:t.data.video.controls,"object-fit":"cover"},null,8,["src","poster","autoplay","loop","muted","controls"])])):t.data.image?(V(),z("img",{key:1,src:t.data.image,class:ce(["w-full h-full object-cover reveal-img scale-110 origin-center",e.value?"opacity-100":"opacity-0"]),style:{transition:"opacity var(--lumina-transition-duration) var(--lumina-transition-easing)"},alt:"Slide Image",onLoad:r[0]||(r[0]=i=>e.value=!0),onError:r[1]||(r[1]=i=>{e.value=!0,i.target.src="https://placehold.co/1920x1080/1a1a1a/666?text=Image+Not+Found"})},null,42,rk)):ie("",!0)],2),o("div",{class:ce(["relative z-10 w-full lg:w-1/2 min-h-[60vh] flex flex-col justify-center order-2",t.data.imageSide==="right"?"lg:mr-[50%]":"lg:ml-[50%]",t.data.sizing==="container"?"lg:min-h-full":"lg:min-h-screen"]),style:st(n.value)},[o("div",ik,[t.data.tag?(V(),z("span",ok,te(t.data.tag),1)):ie("",!0),o("h1",ak,te(t.data.title),1),o("div",lk,[(V(!0),z(Ee,null,et(t.data.paragraphs,(i,a)=>(V(),z("p",{key:a},te(i),1))),128))]),t.data.cta?(V(),z("div",ck,[o("button",{onClick:r[2]||(r[2]=i=>s.$emit("action",{type:"cta",label:t.data.cta})),class:"font-bold flex items-center",style:{backgroundColor:"var(--lumina-color-primary)",color:"var(--lumina-color-background)",borderRadius:"var(--lumina-button-radius)",padding:"var(--lumina-button-padding)",fontWeight:"var(--lumina-button-font-weight)",gap:"var(--lumina-space-sm)",transition:"all var(--lumina-transition-duration) var(--lumina-transition-easing)"}},[y(te(t.data.cta)+" ",1),r[4]||(r[4]=o("i",{class:"fa-solid fa-arrow-right"},null,-1))])])):ie("",!0)])],6)],2)]),_:1},8,["data"]))}}),dk={class:"reveal-up text-center lg:text-left max-w-6xl",style:{marginBottom:"var(--lumina-space-2xl)"}},hk=Ne({__name:"LayoutFeatures",props:{data:{}},setup(t){return(e,n)=>(V(),ct(yr,{data:t.data},{default:fn(()=>[o("div",{class:ce(["w-full flex flex-col justify-center",t.data.sizing==="container"?"min-h-full":"min-h-screen"]),style:{padding:"var(--lumina-space-xl) var(--lumina-space-3xl)"}},[o("div",dk,[o("h2",{class:"font-bold",style:st({fontFamily:"var(--lumina-font-heading)",fontSize:t.data.sizing==="container"?"var(--lumina-text-3xl)":"var(--lumina-text-5xl)",marginBottom:"var(--lumina-space-md)"})},te(t.data.title),5),t.data.description?(V(),z("p",{key:0,style:st({color:"var(--lumina-color-muted)",fontSize:t.data.sizing==="container"?"var(--lumina-text-sm)":"var(--lumina-text-xl)"})},te(t.data.description),5)):ie("",!0)]),o("div",{style:st({display:"grid",gridTemplateColumns:t.data.sizing==="container"?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",gap:t.data.sizing==="container"?"var(--lumina-space-md)":"var(--lumina-space-lg)"})},[(V(!0),z(Ee,null,et(t.data.features,(s,r)=>(V(),z("div",{key:r,class:"glass-panel reveal-card group",style:st({borderRadius:"var(--lumina-card-radius)",padding:t.data.sizing==="container"?"var(--lumina-space-lg)":"var(--lumina-card-padding)",borderTop:"1px solid var(--lumina-color-border-subtle)",transition:"all var(--lumina-transition-duration) var(--lumina-transition-easing)"})},[o("div",{class:"flex items-center justify-center group-hover:scale-110",style:st({color:"var(--lumina-color-primary)",backgroundColor:"rgba(var(--lumina-color-primary-rgb), 0.1)",width:t.data.sizing==="container"?"var(--lumina-space-xl)":"var(--lumina-space-2xl)",height:t.data.sizing==="container"?"var(--lumina-space-xl)":"var(--lumina-space-2xl)",borderRadius:"var(--lumina-radius-xl)",marginBottom:t.data.sizing==="container"?"var(--lumina-space-md)":"var(--lumina-space-lg)",fontSize:"var(--lumina-text-xl)",transition:"transform var(--lumina-transition-duration) var(--lumina-transition-easing)"})},[o("i",{class:ce(["fa-solid",(s.icon||"star").startsWith("fa-")?s.icon:`fa-${s.icon||"star"}`])},null,2)],4),o("h3",{class:"font-bold",style:st({color:"var(--lumina-color-text)",fontSize:t.data.sizing==="container"?"var(--lumina-text-lg)":"var(--lumina-text-2xl)",marginBottom:"var(--lumina-space-sm)"})},te(s.title),5),o("p",{style:st({color:"var(--lumina-color-muted)",fontSize:t.data.sizing==="container"?"var(--lumina-text-sm)":"var(--lumina-text-base)",lineHeight:"var(--lumina-leading-relaxed)"})},te(s.desc),5)],4))),128))],4)],2)]),_:1},8,["data"]))}}),fk={class:"text-center mb-16 reveal-up"},pk={class:"font-bold mb-4",style:{fontFamily:"var(--lumina-font-heading)",fontSize:"var(--lumina-text-5xl)",lineHeight:"var(--lumina-leading-tight)"}},mk={key:0,style:{color:"var(--lumina-color-muted)",fontSize:"var(--lumina-text-xl)",opacity:.8}},gk={class:"relative max-w-6xl mx-auto w-full"},bk={style:{display:"flex",flexDirection:"column",gap:"var(--lumina-space-2xl)"}},yk={class:"font-bold uppercase mb-1",style:{color:"var(--lumina-color-primary)",letterSpacing:"var(--lumina-tracking-widest)",fontSize:"var(--lumina-text-sm)"}},_k={class:"font-bold",style:{fontSize:"var(--lumina-text-2xl)"}},vk={class:"leading-relaxed",style:{color:"var(--lumina-color-muted)",fontSize:"var(--lumina-text-lg)",lineHeight:"var(--lumina-leading-relaxed)"}},xk=Ne({__name:"LayoutTimeline",props:{data:{}},setup(t){return(e,n)=>(V(),ct(yr,{data:t.data},{default:fn(()=>[o("div",{class:ce(["w-full flex flex-col justify-center",t.data.sizing==="container"?"min-h-full py-12 lg:py-16":"min-h-screen"]),style:{padding:"var(--lumina-space-xl) var(--lumina-space-3xl)"}},[o("div",fk,[o("h2",pk,te(t.data.title),1),t.data.subtitle?(V(),z("p",mk,te(t.data.subtitle),1)):ie("",!0)]),o("div",gk,[n[1]||(n[1]=o("div",{class:"absolute left-4 md:left-1/2 top-0 bottom-0 -translate-x-1/2 reveal-zoom origin-top",style:{width:"var(--lumina-timeline-line-width, 2px)",backgroundColor:"var(--lumina-timeline-line-color, var(--lumina-color-border))"}},null,-1)),o("div",bk,[(V(!0),z(Ee,null,et(t.data.timeline,(s,r)=>(V(),z("div",{key:r,class:ce(["relative flex flex-col md:flex-row gap-8 md:gap-0 items-start md:items-center reveal-card",r%2===0?"":"md:flex-row-reverse"])},[o("div",{class:ce(["w-full md:w-1/2 pl-12 md:pl-0 flex flex-col justify-center",r%2===0?"md:pr-12 md:text-right md:items-end":"md:pl-12 md:text-left md:items-start"])},[o("span",yk,te(s.date),1),o("h3",_k,te(s.title||s.t),1)],2),n[0]||(n[0]=o("div",{class:"absolute left-4 md:left-1/2 -translate-x-1/2 rounded-full z-10",style:{width:"var(--lumina-timeline-node-size, 1rem)",height:"var(--lumina-timeline-node-size, 1rem)",backgroundColor:"var(--lumina-timeline-node-color, var(--lumina-color-primary))",boxShadow:"0 0 var(--lumina-space-lg) rgba(var(--lumina-color-primary-rgb), 0.5)",border:"calc(var(--lumina-timeline-node-size, 1rem) * 0.25) solid var(--lumina-color-background)"}},null,-1)),o("div",{class:ce(["w-full md:w-1/2 pl-12 md:pl-0",r%2===0?"md:pl-12":"md:pr-12 md:text-right"])},[o("p",vk,te(s.description||s.desc),1)],2)],2))),128))])])],2)]),_:1},8,["data"]))}}),wk={class:"text-center reveal-up max-w-4xl mx-auto",style:{marginBottom:"var(--lumina-space-2xl)"}},Tk={class:"font-bold",style:{fontFamily:"var(--lumina-font-heading)",fontSize:"var(--lumina-text-5xl)",marginBottom:"var(--lumina-space-md)"}},Ek={key:0,style:{color:"var(--lumina-color-muted)",fontSize:"var(--lumina-text-xl)"}},Sk={style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"var(--lumina-space-xl)",maxWidth:"72rem",margin:"0 auto",width:"100%"}},Ik={style:{display:"flex",alignItems:"center",gap:"var(--lumina-space-md)",marginBottom:"var(--lumina-space-md)"}},kk={class:"flex items-center justify-center font-bold",style:{width:"var(--lumina-step-badge-size, 2.5rem)",height:"var(--lumina-step-badge-size, 2.5rem)",fontSize:"var(--lumina-step-font-size, 1rem)",background:"linear-gradient(135deg, var(--lumina-color-primary), var(--lumina-color-secondary))",color:"var(--lumina-color-text)",borderRadius:"var(--lumina-radius-xl)"}},Ck={class:"font-bold",style:{fontSize:"var(--lumina-text-xl)"}},Ak={key:0,style:{color:"var(--lumina-color-muted)",lineHeight:"var(--lumina-leading-relaxed)",fontSize:"var(--lumina-text-base)"}},Pk={key:1,class:"absolute top-4 right-4",style:{color:"var(--lumina-color-primary)",opacity:.1,fontSize:"var(--lumina-text-4xl)"}},Rk=Ne({__name:"LayoutSteps",props:{data:{}},setup(t){return(e,n)=>(V(),ct(yr,{data:t.data},{default:fn(()=>[o("div",{class:ce(["w-full flex flex-col justify-center",t.data.sizing==="container"?"min-h-full py-12 lg:py-16":"min-h-screen"]),style:{padding:"var(--lumina-space-xl) var(--lumina-space-3xl)"}},[o("div",wk,[o("h2",Tk,te(t.data.title),1),t.data.subtitle?(V(),z("p",Ek,te(t.data.subtitle),1)):ie("",!0)]),o("div",Sk,[(V(!0),z(Ee,null,et(t.data.steps,(s,r)=>(V(),z("div",{key:r,class:"glass-panel reveal-card group relative overflow-hidden",style:{borderRadius:"var(--lumina-card-radius)",padding:"var(--lumina-card-padding)"}},[o("div",Ik,[o("div",kk,te(s.step),1),o("h3",Ck,te(s.title),1)]),s.description?(V(),z("p",Ak,te(s.description),1)):ie("",!0),s.icon?(V(),z("div",Pk,[o("i",{class:ce(["fa-solid",s.icon.startsWith("fa-")?s.icon:`fa-${s.icon}`])},null,2)])):ie("",!0)]))),128))])],2)]),_:1},8,["data"]))}}),Ok=["src","alt"],Dk=Ne({__name:"FlexImage",props:{src:{},alt:{},fill:{type:Boolean},rounded:{},containerClass:{},containerStyle:{}},setup(t){const e=t,n=de(!1),s=()=>{n.value=!0},r=a=>{n.value=!0,a.target.src="https://placehold.co/800x600/1a1a1a/666?text=Image+Not+Found"},i=Ie(()=>e.fill!==!1&&!e.rounded?"":{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"}[e.rounded||"lg"]||"rounded-lg");return(a,l)=>(V(),z("div",{class:ce(t.containerClass),style:st(t.containerStyle)},[o("img",{src:t.src,alt:t.alt||"",class:ce(["w-full h-full transition-opacity duration-700",t.fill!==!1?"object-cover":"object-contain",i.value,n.value?"opacity-100":"opacity-0"]),onLoad:s,onError:r},null,42,Ok)],6))}}),Nk=Ne({__name:"LayoutFlex",props:{data:{}},emits:["action"],setup(t,{emit:e}){const n=t,s=e,r={none:"var(--lumina-space-none, 0)",xs:"var(--lumina-space-xs)",sm:"var(--lumina-space-sm)",md:"var(--lumina-space-md)",lg:"var(--lumina-space-lg)",xl:"var(--lumina-space-xl)","2xl":"var(--lumina-space-2xl)"},i={auto:"auto",quarter:"25%",third:"33.333%",half:"50%","two-thirds":"66.666%","three-quarters":"75%",full:"100%"},a={top:"flex-start",center:"center",bottom:"flex-end"},l={left:"flex-start",center:"center",right:"flex-end"},c=Ie(()=>({padding:r[n.data.padding||"none"]})),d=Ie(()=>n.data.direction==="vertical"?"flex-col":"flex-row"),h=Ie(()=>({gap:r[n.data.gap||"none"]})),m=E=>!E||E==="auto"?"flex-1":"",f=E=>{const C=E.size||"auto";return C==="auto"?{flex:"1 1 auto"}:{flex:`0 0 ${i[C]}`,maxWidth:n.data.direction!=="vertical"?i[C]:void 0,maxHeight:n.data.direction==="vertical"?i[C]:void 0}},g=E=>{const C=E.valign||"center",k=E.halign||"left",I=E.gap||"md",re=E.padding||"lg",me=E.size||"auto";return{flex:me==="auto"?"1 1 auto":`0 0 ${i[me]}`,justifyContent:a[C],alignItems:l[k],gap:r[I],padding:r[re]}},x=()=>({display:"flex",alignItems:"center",padding:r.lg}),v=(E,C)=>C!==!1&&!E?"w-full h-full":{none:"w-full h-full rounded-none",sm:"w-full h-full rounded-sm",md:"w-full h-full rounded-md",lg:"w-full h-full rounded-lg",xl:"w-full h-full rounded-xl",full:"w-full h-full rounded-full"}[E||"lg"]||"w-full h-full rounded-lg",A=E=>{s("action",E),Hs.emit("action",E)},O=Ne({props:["text","size","align"],setup(E){const k={lg:"var(--lumina-text-3xl)",xl:"var(--lumina-text-4xl)","2xl":"var(--lumina-text-5xl)","3xl":"var(--lumina-text-6xl)"}[E.size||"xl"]||"var(--lumina-text-4xl)",I=E.align||"left";return()=>qe("h2",{style:{fontFamily:"var(--lumina-font-heading)",fontWeight:"var(--lumina-font-weight-bold)",lineHeight:"var(--lumina-leading-tight)",fontSize:k,textAlign:I,width:"100%"}},E.text)}}),N=Ne({props:["text","align","muted"],setup(E){return()=>qe("p",{style:{fontSize:"var(--lumina-text-lg)",lineHeight:"var(--lumina-leading-relaxed)",color:E.muted?"var(--lumina-color-muted)":"var(--lumina-color-text-secondary)",opacity:E.muted?.6:.8,textAlign:E.align||"left",width:"100%"}},E.text)}}),$=Ne({props:["items"],setup(E){return()=>qe("ul",{style:{display:"flex",flexDirection:"column",gap:"var(--lumina-space-sm)",width:"100%"}},(E.items||[]).map(C=>qe("li",{style:{display:"flex",alignItems:"flex-start",gap:"var(--lumina-space-sm)",fontSize:"var(--lumina-text-lg)",color:"var(--lumina-color-text)",opacity:.8}},[qe("span",{style:{width:"var(--lumina-space-sm)",height:"var(--lumina-space-sm)",borderRadius:"var(--lumina-radius-full)",backgroundColor:"var(--lumina-color-primary)",marginTop:"var(--lumina-space-sm)",flexShrink:0,boxShadow:"0 0 var(--lumina-space-sm) rgba(var(--lumina-color-primary-rgb), 0.5)"}}),qe("span",{},C)])))}}),R=Ne({props:["items"],setup(E){return()=>qe("ol",{style:{display:"flex",flexDirection:"column",gap:"var(--lumina-space-sm)",width:"100%"}},(E.items||[]).map((C,k)=>qe("li",{style:{display:"flex",alignItems:"flex-start",gap:"var(--lumina-space-sm)",fontSize:"var(--lumina-text-lg)",opacity:.8}},[qe("span",{style:{width:"var(--lumina-space-xl)",height:"var(--lumina-space-xl)",borderRadius:"var(--lumina-radius-lg)",backgroundColor:"rgba(var(--lumina-color-text-rgb), 0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"var(--lumina-text-sm)",fontWeight:"var(--lumina-font-weight-bold)",flexShrink:0}},k+1),qe("span",{},C)])))}}),L=Ne({props:["label","action","variant","fullWidth"],emits:["action"],setup(E,{emit:C}){const k=re=>{const me={primary:{background:"linear-gradient(to right, var(--lumina-color-primary), var(--lumina-color-secondary))",color:"var(--lumina-color-text)",boxShadow:"0 var(--lumina-space-xs) var(--lumina-space-lg) var(--lumina-shadow-color)"},secondary:{backgroundColor:"rgba(var(--lumina-color-text-rgb), 0.1)",color:"var(--lumina-color-text)",border:"1px solid var(--lumina-color-border)"},outline:{backgroundColor:"transparent",color:"var(--lumina-color-text)",border:"2px solid var(--lumina-color-border)"},ghost:{backgroundColor:"transparent",color:"var(--lumina-color-muted)"}};return me[re]||me.primary},I=()=>{C("action",{type:"click",label:E.label,value:E.action||E.label,origin:"flex-button"})};return()=>qe("button",{style:{padding:"var(--lumina-button-padding)",borderRadius:"var(--lumina-button-radius)",fontWeight:"var(--lumina-button-font-weight)",fontSize:"var(--lumina-text-lg)",transition:"all var(--lumina-transition-duration) var(--lumina-transition-easing)",cursor:"pointer",width:E.fullWidth?"100%":"auto",...k(E.variant||"primary")},onClick:I},E.label)}}),F=Ne({props:["items","compact"],setup(E){return()=>qe("div",{style:{display:"flex",flexDirection:"column",gap:"var(--lumina-space-md)",width:"100%"}},(E.items||[]).map(C=>qe("div",{style:{display:"flex",gap:"var(--lumina-space-md)",alignItems:"flex-start",borderLeft:"var(--lumina-timeline-line-width) solid rgba(var(--lumina-color-primary-rgb), 0.3)",paddingLeft:"var(--lumina-space-md)"}},[qe("div",{style:{flexShrink:0,width:"calc(var(--lumina-timeline-node-size) * 0.75)",height:"calc(var(--lumina-timeline-node-size) * 0.75)",borderRadius:"var(--lumina-radius-full)",backgroundColor:"var(--lumina-color-primary)",marginLeft:"calc(-1 * var(--lumina-space-md) - var(--lumina-timeline-line-width) / 2 - var(--lumina-timeline-node-size) * 0.375)",marginTop:"var(--lumina-space-xs)",boxShadow:"0 0 var(--lumina-space-sm) rgba(var(--lumina-color-primary-rgb), 0.5)"}}),qe("div",{},[qe("span",{style:{fontSize:"var(--lumina-text-xs)",color:"var(--lumina-color-primary)",fontWeight:"var(--lumina-font-weight-bold)",textTransform:"uppercase",letterSpacing:"var(--lumina-tracking-wider)"}},C.date),qe("h4",{style:{fontWeight:"var(--lumina-font-weight-bold)",fontSize:"var(--lumina-text-lg)"}},C.title||C.t),qe("p",{style:{fontSize:"var(--lumina-text-sm)",color:"var(--lumina-color-muted)",opacity:.6}},C.description||C.desc)])])))}}),T=Ne({props:["items","compact"],setup(E){return()=>qe("div",{style:{display:"flex",flexDirection:"column",gap:"var(--lumina-space-md)",width:"100%"}},(E.items||[]).map(C=>qe("div",{style:{display:"flex",gap:"var(--lumina-space-md)",alignItems:"flex-start",padding:"var(--lumina-space-md)",borderRadius:"var(--lumina-radius-lg)",backgroundColor:"rgba(var(--lumina-color-text-rgb), 0.05)",border:"1px solid var(--lumina-color-border)"}},[qe("div",{style:{flexShrink:0,width:"var(--lumina-step-badge-size)",height:"var(--lumina-step-badge-size)",borderRadius:"var(--lumina-radius-lg)",background:"linear-gradient(135deg, rgba(var(--lumina-color-primary-rgb), 0.2), rgba(var(--lumina-color-secondary-rgb), 0.2))",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"var(--lumina-font-weight-bold)",color:"var(--lumina-color-primary)"}},C.step),qe("div",{},[qe("h4",{style:{fontWeight:"var(--lumina-font-weight-bold)"}},C.title||C.t),qe("p",{style:{fontSize:"var(--lumina-text-sm)",color:"var(--lumina-color-muted)",opacity:.6}},C.description||C.desc)])])))}}),w=Ne({props:["size"],setup(E){const C=r[E.size||"md"]||r.md;return()=>qe("div",{style:{height:C,width:"100%"}})}}),_=E=>({title:O,text:N,bullets:$,ordered:R,button:L,timeline:F,stepper:T,spacer:w})[E]||"div";return(E,C)=>(V(),ct(yr,{data:t.data},{default:fn(()=>[o("div",{class:"flex-layout w-full min-h-screen flex items-center justify-center",style:st(c.value)},[o("div",{class:ce(["flex w-full h-full max-w-7xl mx-auto",d.value]),style:st(h.value)},[(V(!0),z(Ee,null,et(t.data.elements,(k,I)=>(V(),z(Ee,{key:I},[k.type==="image"?(V(),ct(Dk,{key:0,src:k.src,alt:k.alt,fill:k.fill,rounded:k.rounded,"container-class":m(k.size),"container-style":f(k)},null,8,["src","alt","fill","rounded","container-class","container-style"])):k.type==="video"?(V(),z("div",{key:1,class:ce(m(k.size)),style:st(f(k))},[Te(nh,{class:ce(v(k.rounded,k.fill)),src:k.src,poster:k.poster,autoplay:k.autoplay??!1,loop:k.loop??!1,muted:k.muted??!1,controls:k.controls??!0,"object-fit":k.fill!==!1?"cover":"contain"},null,8,["class","src","poster","autoplay","loop","muted","controls","object-fit"])],6)):k.type==="content"?(V(),z("div",{key:2,class:ce(["flex flex-col",m(k.size)]),style:st(g(k))},[(V(!0),z(Ee,null,et(k.elements,(re,me)=>(V(),ct(pl(_(re.type)),_u({key:me,ref_for:!0},re,{onAction:A}),null,16))),128))],6)):(V(),z("div",{key:3,class:ce(m(k.size)),style:st(x())},[(V(),ct(pl(_(k.type)),_u({ref_for:!0},k,{onAction:A}),null,16))],6))],64))),128))],6)],4)]),_:1},8,["data"]))}}),Vk=Xr(Nk,[["__scopeId","data-v-d86b739b"]]),$k=Ne({__name:"LayoutAuto",props:{data:{}},emits:["action"],setup(t,{emit:e}){const n=t,s=Ie(()=>{var m,f,g,x;const r=n.data||{},i=Array.isArray(r.timeline)&&r.timeline.length>0,a=Array.isArray(r.steps)&&r.steps.length>0,l=Array.isArray(r.features)&&r.features.length>0,c=!!r.image,d=!!r.chartType&&!!((m=r.data)!=null&&m.datasets);let h="layout-statement";return d?h="layout-chart":i?h="layout-timeline":a?h="layout-steps":l?h="layout-features":c?h="layout-half":(((f=r.title)==null?void 0:f.length)||0)+(((g=r.subtitle)==null?void 0:g.length)||0)+(((x=r.paragraphs)==null?void 0:x.join("").length)||0),h});return(r,i)=>(V(),ct(pl(s.value),{data:t.data,onAction:i[0]||(i[0]=a=>r.$emit("action",a))},null,40,["data"]))}}),Lk=["innerHTML"],Mk=Ne({__name:"LayoutCustom",props:{data:{}},setup(t){const e=t,n=`custom-slide-${Math.random().toString(36).slice(2,10)}`;function s(){if(r(),!e.data.css)return;const a=document.createElement("style");a.id=n,a.textContent=e.data.css,document.head.appendChild(a)}function r(){const a=document.getElementById(n);a&&a.remove()}mn(()=>{s()}),Bn(()=>e.data.css,()=>{s()}),qn(()=>{r()});const i=Ie(()=>e.data.html?e.data.html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,""):"");return(a,l)=>(V(),ct(yr,{data:t.data},{default:fn(()=>[o("div",{class:ce(["custom-slide-wrapper relative w-full overflow-hidden",t.data.sizing==="container"?"h-full":"min-h-screen"])},[o("div",{class:"custom-html-content w-full h-full",innerHTML:i.value},null,8,Lk)],2)]),_:1},8,["data"]))}}),zk=Xr(Mk,[["__scopeId","data-v-b8b91621"]]),Fk="modulepreload",jk=function(t){return"/lumina-slides/"+t},Zp={},Bk=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=jk(c),c in Zp)return;Zp[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Fk,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((f,g)=>{m.addEventListener("load",f),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Uk={key:0,class:"text-center mb-8 reveal-up"},Hk={key:0,class:"text-4xl lg:text-5xl font-heading font-bold mb-3"},qk={key:1,class:"text-lg lg:text-xl opacity-60"},Zk={key:1,class:"flex-1 flex items-center justify-center"},Wk={key:2,class:"flex-1 flex items-center justify-center"},Gk={key:3,class:"flex-1 flex items-center justify-center reveal-zoom max-w-5xl mx-auto w-full"},Kk={class:"w-full h-full min-h-[300px] lg:min-h-[400px] relative"},Jk=Ne({__name:"LayoutChart",props:{data:{}},setup(t){let e=null;const n=de(null),s=de(!0),r=t,i=de(null);let a=null;const l=async()=>{try{const f=await Bk(()=>import("./chart-CXLAvRhu.js"),[]);return e=f.Chart,e.register(...f.registerables),s.value=!1,!0}catch{return n.value="Chart.js is required for chart slides. Install it with: npm install chart.js",s.value=!1,console.warn("[Lumina] chart.js not found. Install with: npm install chart.js"),!1}},c=(f,g)=>{if(!f){const x=["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"];return x[g%x.length]}switch(f){case"c:p":return getComputedStyle(document.documentElement).getPropertyValue("--lumina-colors-primary").trim()||"#3b82f6";case"c:s":return getComputedStyle(document.documentElement).getPropertyValue("--lumina-colors-secondary").trim()||"#10b981";case"c:m":return getComputedStyle(document.documentElement).getPropertyValue("--lumina-colors-muted").trim()||"#9ca3af";default:return f&&(f.startsWith("#")||f.startsWith("rgb")||f.startsWith("hsl"))||f&&/^[a-z]+$/i.test(f)?f:c(void 0,g)}},d=(f,g)=>{var v;const x=[];for(let A=0;A<g;A++)x.push(c((v=f[0])==null?void 0:v.color,A));return x},h=Ie(()=>{const{chartType:f,data:g}=r.data,x=f==="pie"||f==="doughnut";return{type:f,data:{labels:g.labels,datasets:g.datasets.map((v,A)=>({label:v.label,data:v.values,backgroundColor:x?d(g.datasets,g.labels.length):c(v.color,A),borderColor:x?"rgba(0, 0, 0, 0.2)":c(v.color,A),borderWidth:2,tension:f==="line"?.4:0,fill:f==="line"?!1:void 0}))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgba(255, 255, 255, 0.7)",padding:20,font:{family:"Inter, system-ui, sans-serif",size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"rgba(255, 255, 255, 0.8)",padding:12,cornerRadius:8,titleFont:{family:"Inter, system-ui, sans-serif",weight:"bold"},bodyFont:{family:"Inter, system-ui, sans-serif"}}},scales:x?{}:{x:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"rgba(255, 255, 255, 0.6)",font:{family:"Inter, system-ui, sans-serif"}}},y:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"rgba(255, 255, 255, 0.6)",font:{family:"Inter, system-ui, sans-serif"}}}}}}}),m=()=>{if(!i.value||!e)return;a&&a.destroy();const f=i.value.getContext("2d");f&&(a=new e(f,h.value))};return mn(async()=>{await l()&&setTimeout(m,50)}),qn(()=>{a&&(a.destroy(),a=null)}),Bn(()=>r.data,()=>{m()},{deep:!0}),(f,g)=>(V(),ct(yr,{data:t.data},{default:fn(()=>[o("div",{class:ce(["w-full flex flex-col justify-center p-8 lg:p-16",t.data.sizing==="container"?"min-h-full py-8":"min-h-screen"])},[t.data.title||t.data.subtitle?(V(),z("div",Uk,[t.data.title?(V(),z("h2",Hk,te(t.data.title),1)):ie("",!0),t.data.subtitle?(V(),z("p",qk,te(t.data.subtitle),1)):ie("",!0)])):ie("",!0),n.value?(V(),z("div",Zk,[...g[0]||(g[0]=[o("div",{class:"text-center p-8 bg-red-500/10 border border-red-500/30 rounded-xl max-w-lg"},[o("svg",{class:"w-12 h-12 mx-auto mb-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),o("p",{class:"text-red-300 font-medium mb-2"},"Chart.js Required"),o("code",{class:"text-sm bg-black/30 px-3 py-1 rounded text-red-200"},"npm install chart.js")],-1)])])):s.value?(V(),z("div",Wk,[...g[1]||(g[1]=[o("div",{class:"animate-pulse text-white/40"},"Loading chart...",-1)])])):(V(),z("div",Gk,[o("div",Kk,[o("canvas",{ref_key:"chartCanvas",ref:i},null,512)])]))],2)]),_:1},8,["data"]))}}),Qk={class:"h-full w-full flex items-center justify-center bg-black relative overflow-hidden group"},Yk={key:0,class:"absolute bottom-12 left-12 z-10 px-6 py-4 bg-black/50 backdrop-blur-md rounded-2xl border border-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},Xk={class:"text-white font-bold text-xl"},eC=Ne({__name:"LayoutVideo",props:{data:{type:Object,required:!0}},setup(t){return(e,n)=>(V(),z("div",Qk,[Te(nh,{class:"absolute inset-0 w-full h-full",src:t.data.video.src,poster:t.data.video.poster,autoplay:t.data.video.autoplay,loop:t.data.video.loop,muted:t.data.video.muted,controls:t.data.video.controls,"object-fit":"cover"},null,8,["src","poster","autoplay","loop","muted","controls"]),t.data.title?(V(),z("div",Yk,[o("h2",Xk,te(t.data.title),1)])):ie("",!0)]))}}),Wp={default:{colors:{primary:"#3b82f6",secondary:"#8b5cf6",accent:"#06b6d4",background:"#030303",surface:"#0a0a0a",text:"#ffffff",textSecondary:"#e5e7eb",muted:"#9ca3af",gradientFrom:"#3b82f6",gradientTo:"#8b5cf6"},typography:{fontFamily:{heading:"Inter, system-ui, sans-serif",body:"Inter, system-ui, sans-serif",mono:"ui-monospace, SFMono-Regular, monospace"}},effects:{useGradients:!0,useGlass:!0,useOrb:!0,useShadows:!0}},ocean:{colors:{primary:"#06b6d4",secondary:"#0ea5e9",accent:"#22d3ee",background:"#0f172a",surface:"#1e293b",text:"#f0f9ff",textSecondary:"#e0f2fe",muted:"#94a3b8",success:"#14b8a6",warning:"#fb923c",danger:"#f43f5e",info:"#38bdf8",border:"rgba(148, 163, 184, 0.2)",gradientFrom:"#06b6d4",gradientTo:"#0ea5e9"},typography:{fontFamily:{heading:"Outfit, Inter, sans-serif",body:"Inter, system-ui, sans-serif"}},effects:{orbOpacity:.3,glassOpacity:.05}},midnight:{colors:{primary:"#6366f1",secondary:"#8b5cf6",accent:"#a78bfa",background:"#000000",surface:"#0a0a0f",text:"#e0e7ff",textSecondary:"#c7d2fe",muted:"#6b7280",success:"#10b981",warning:"#fbbf24",danger:"#f87171",info:"#60a5fa",border:"rgba(99, 102, 241, 0.2)",gradientFrom:"#6366f1",gradientTo:"#a855f7"},effects:{orbOpacity:.5,shadowIntensity:"lg"}},forest:{colors:{primary:"#10b981",secondary:"#059669",accent:"#34d399",background:"#022c22",surface:"#064e3b",text:"#ecfdf5",textSecondary:"#d1fae5",muted:"#6ee7b7",success:"#22c55e",warning:"#fbbf24",danger:"#ef4444",info:"#38bdf8",border:"rgba(52, 211, 153, 0.2)",gradientFrom:"#10b981",gradientTo:"#059669"},effects:{orbOpacity:.35,orbBlur:"150px"}},cyber:{colors:{primary:"#f472b6",secondary:"#e879f9",accent:"#22d3ee",background:"#18181b",surface:"#27272a",text:"#ffffff",textSecondary:"#fafafa",muted:"#a1a1aa",success:"#4ade80",warning:"#facc15",danger:"#f87171",info:"#38bdf8",border:"rgba(244, 114, 182, 0.3)",gradientFrom:"#f472b6",gradientTo:"#e879f9"},typography:{fontFamily:{heading:"Orbitron, sans-serif",body:"Rajdhani, sans-serif"},letterSpacing:{widest:"0.15em"}},effects:{orbOpacity:.6,shadowIntensity:"xl",shadowColor:"rgba(244, 114, 182, 0.3)"},components:{cardRadius:"0.5rem",buttonRadius:"0.5rem"}},latte:{colors:{primary:"#d97706",secondary:"#ea580c",accent:"#f59e0b",background:"#fffbeb",surface:"#fef3c7",text:"#451a03",textSecondary:"#78350f",muted:"#92400e",success:"#16a34a",warning:"#ca8a04",danger:"#dc2626",info:"#2563eb",border:"rgba(146, 64, 14, 0.2)",shadow:"rgba(120, 53, 15, 0.1)",gradientFrom:"#d97706",gradientTo:"#ea580c"},typography:{fontFamily:{heading:"Playfair Display, Georgia, serif",body:"Lato, system-ui, sans-serif"}},effects:{useOrb:!1,glassOpacity:.5,glassBorderOpacity:.15,shadowColor:"rgba(120, 53, 15, 0.15)"},components:{cardBackground:"rgba(255, 255, 255, 0.7)"}},sunset:{colors:{primary:"#f97316",secondary:"#f43f5e",accent:"#fb7185",background:"#1c1917",surface:"#292524",text:"#fafaf9",textSecondary:"#e7e5e4",muted:"#a8a29e",gradientFrom:"#f97316",gradientTo:"#f43f5e"},effects:{orbOpacity:.45,gradientDirection:"to-br"}},monochrome:{colors:{primary:"#ffffff",secondary:"#a1a1aa",accent:"#d4d4d8",background:"#09090b",surface:"#18181b",text:"#fafafa",textSecondary:"#e4e4e7",muted:"#71717a",border:"rgba(255, 255, 255, 0.1)",gradientFrom:"#ffffff",gradientTo:"#a1a1aa"},effects:{useGradients:!1,orbOpacity:.2}}},Xc={colors:{primary:"#3b82f6",secondary:"#8b5cf6",accent:"#06b6d4",background:"#030303",surface:"#0a0a0a",text:"#ffffff",textSecondary:"#e5e7eb",muted:"#9ca3af",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",info:"#3b82f6",border:"rgba(255, 255, 255, 0.1)",borderSubtle:"rgba(255, 255, 255, 0.05)",shadow:"#000000",overlay:"rgba(0, 0, 0, 0.5)",highlight:"rgba(59, 130, 246, 0.2)",buttonPrimary:"#3b82f6",buttonPrimaryText:"#ffffff",buttonSecondary:"rgba(255, 255, 255, 0.1)",buttonSecondaryText:"#ffffff",link:"#3b82f6",linkHover:"#60a5fa",gradientFrom:"#3b82f6",gradientVia:void 0,gradientTo:"#8b5cf6"},typography:{fontFamily:{heading:"Inter, system-ui, sans-serif",body:"Inter, system-ui, sans-serif",mono:"ui-monospace, SFMono-Regular, monospace"},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800},lineHeight:{tight:"1.1",snug:"1.25",normal:"1.5",relaxed:"1.625",loose:"2"},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"}},spacing:{none:"0",xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem","4xl":"6rem"},borderRadius:{none:"0",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem","2xl":"1.5rem","3xl":"2rem",full:"9999px"},effects:{useGradients:!0,gradientDirection:"to-b",gradientFrom:void 0,gradientVia:void 0,gradientTo:void 0,useShadows:!0,shadowIntensity:"md",shadowColor:"rgba(0, 0, 0, 0.4)",useGlass:!0,glassOpacity:.03,glassBlur:"20px",glassBorderOpacity:.08,useOrb:!0,orbOpacity:.4,orbBlur:"120px",orbSize:"60vw",animationsEnabled:!0,transitionDuration:"0.3s",transitionEasing:"cubic-bezier(0.16, 1, 0.3, 1)",hoverScale:1.05},components:{buttonRadius:"9999px",buttonPadding:"0.75rem 1.5rem",buttonFontWeight:700,buttonTextTransform:"none",cardRadius:"1.5rem",cardPadding:"2rem",cardBorderWidth:"1px",cardBackground:void 0,timelineNodeSize:"1rem",timelineLineWidth:"2px",timelineNodeColor:void 0,timelineLineColor:void 0,stepBadgeSize:"2.5rem",stepFontSize:"1rem",progressHeight:"0.5rem",progressRadius:"9999px",progressBackground:"rgba(255, 255, 255, 0.1)",progressFill:void 0,tagPadding:"0.25rem 1rem",tagRadius:"9999px",tagFontSize:"0.75rem",inputRadius:"0.5rem",inputPadding:"0.75rem 1rem",inputBorder:void 0,inputFocusBorder:void 0},fonts:{}},Gp="lumina-theme-styles";function sl(t,e){const n={...t};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const r=e[s],i=t[s];r!=null&&typeof r=="object"&&!Array.isArray(r)&&typeof i=="object"&&!Array.isArray(i)?n[s]=sl(i,r):r!==void 0&&(n[s]=r)}return n}class Kp{static inject(e,n){var a;let s;if(typeof e=="string"){const l=Wp[e]||Wp.default;s=sl(Xc,l)}else s=sl(Xc,e);n&&(s=sl(s,n)),s.fonts&&!((a=s.typography)!=null&&a.fontFamily)&&(s.typography=s.typography||{},s.typography.fontFamily={heading:s.fonts.heading,body:s.fonts.body,mono:s.fonts.mono});let r=document.getElementById(Gp);r||(r=document.createElement("style"),r.id=Gp,document.head.appendChild(r));const i=this.generateVars(s);r.innerHTML=`:root { ${i} }`}static getDefaultTheme(){return Xc}static generateVars(e){var s,r,i,a;const n=[];if(e.colors){for(const[l,c]of Object.entries(e.colors))if(c){const d=this.camelToKebab(l);n.push(`--lumina-color-${d}: ${c};`);const h=this.hexToRgb(c);h&&n.push(`--lumina-color-${d}-rgb: ${h.r}, ${h.g}, ${h.b};`)}}if(e.typography){const l=e.typography;if(l.fontFamily)for(const[c,d]of Object.entries(l.fontFamily))d&&n.push(`--lumina-font-${c}: ${d};`);if(l.fontSize)for(const[c,d]of Object.entries(l.fontSize))d&&n.push(`--lumina-text-${c}: ${d};`);if(l.fontWeight)for(const[c,d]of Object.entries(l.fontWeight))d!==void 0&&n.push(`--lumina-font-weight-${c}: ${d};`);if(l.lineHeight)for(const[c,d]of Object.entries(l.lineHeight))d&&n.push(`--lumina-leading-${c}: ${d};`);if(l.letterSpacing)for(const[c,d]of Object.entries(l.letterSpacing))d&&n.push(`--lumina-tracking-${c}: ${d};`)}if(e.spacing)for(const[l,c]of Object.entries(e.spacing))c&&n.push(`--lumina-space-${l}: ${c};`);if(e.borderRadius)for(const[l,c]of Object.entries(e.borderRadius))c&&n.push(`--lumina-radius-${l}: ${c};`);if(e.effects){const l=e.effects;n.push(`--lumina-use-gradients: ${l.useGradients?1:0};`),n.push(`--lumina-use-shadows: ${l.useShadows?1:0};`),n.push(`--lumina-use-glass: ${l.useGlass?1:0};`),n.push(`--lumina-use-orb: ${l.useOrb?1:0};`),n.push(`--lumina-use-animations: ${l.animationsEnabled?1:0};`),l.gradientDirection&&n.push(`--lumina-gradient-direction: ${this.gradientDirectionToCSS(l.gradientDirection)};`),l.gradientFrom&&n.push(`--lumina-gradient-from: ${l.gradientFrom};`),l.gradientVia&&n.push(`--lumina-gradient-via: ${l.gradientVia};`),l.gradientTo&&n.push(`--lumina-gradient-to: ${l.gradientTo};`),l.shadowIntensity&&n.push(`--lumina-shadow-intensity: ${l.shadowIntensity};`),l.shadowColor&&n.push(`--lumina-shadow-color: ${l.shadowColor};`),l.glassOpacity!==void 0&&n.push(`--lumina-glass-opacity: ${l.glassOpacity};`),l.glassBlur&&n.push(`--lumina-glass-blur: ${l.glassBlur};`),l.glassBorderOpacity!==void 0&&n.push(`--lumina-glass-border-opacity: ${l.glassBorderOpacity};`),l.orbOpacity!==void 0&&n.push(`--lumina-orb-opacity: ${l.orbOpacity};`),l.orbBlur&&n.push(`--lumina-orb-blur: ${l.orbBlur};`),l.orbSize&&n.push(`--lumina-orb-size: ${l.orbSize};`),l.transitionDuration&&n.push(`--lumina-transition-duration: ${l.transitionDuration};`),l.transitionEasing&&n.push(`--lumina-transition-easing: ${l.transitionEasing};`),l.hoverScale!==void 0&&n.push(`--lumina-hover-scale: ${l.hoverScale};`)}if(e.components){const l=e.components;l.buttonRadius&&n.push(`--lumina-button-radius: ${l.buttonRadius};`),l.buttonPadding&&n.push(`--lumina-button-padding: ${l.buttonPadding};`),l.buttonFontWeight!==void 0&&n.push(`--lumina-button-font-weight: ${l.buttonFontWeight};`),l.buttonTextTransform&&n.push(`--lumina-button-text-transform: ${l.buttonTextTransform};`),l.cardRadius&&n.push(`--lumina-card-radius: ${l.cardRadius};`),l.cardPadding&&n.push(`--lumina-card-padding: ${l.cardPadding};`),l.cardBorderWidth&&n.push(`--lumina-card-border-width: ${l.cardBorderWidth};`),l.cardBackground&&n.push(`--lumina-card-background: ${l.cardBackground};`),l.timelineNodeSize&&n.push(`--lumina-timeline-node-size: ${l.timelineNodeSize};`),l.timelineLineWidth&&n.push(`--lumina-timeline-line-width: ${l.timelineLineWidth};`),l.timelineNodeColor&&n.push(`--lumina-timeline-node-color: ${l.timelineNodeColor};`),l.timelineLineColor&&n.push(`--lumina-timeline-line-color: ${l.timelineLineColor};`),l.stepBadgeSize&&n.push(`--lumina-step-badge-size: ${l.stepBadgeSize};`),l.stepFontSize&&n.push(`--lumina-step-font-size: ${l.stepFontSize};`),l.progressHeight&&n.push(`--lumina-progress-height: ${l.progressHeight};`),l.progressRadius&&n.push(`--lumina-progress-radius: ${l.progressRadius};`),l.progressBackground&&n.push(`--lumina-progress-background: ${l.progressBackground};`),l.progressFill&&n.push(`--lumina-progress-fill: ${l.progressFill};`),l.tagPadding&&n.push(`--lumina-tag-padding: ${l.tagPadding};`),l.tagRadius&&n.push(`--lumina-tag-radius: ${l.tagRadius};`),l.tagFontSize&&n.push(`--lumina-tag-font-size: ${l.tagFontSize};`),l.inputRadius&&n.push(`--lumina-input-radius: ${l.inputRadius};`),l.inputPadding&&n.push(`--lumina-input-padding: ${l.inputPadding};`),l.inputBorder&&n.push(`--lumina-input-border: ${l.inputBorder};`),l.inputFocusBorder&&n.push(`--lumina-input-focus-border: ${l.inputFocusBorder};`)}return(s=e.colors)!=null&&s.primary&&n.push(`--lumina-colors-primary: ${e.colors.primary};`),(r=e.colors)!=null&&r.background&&n.push(`--lumina-colors-background: ${e.colors.background};`),(i=e.colors)!=null&&i.text&&n.push(`--lumina-colors-text: ${e.colors.text};`),(a=e.colors)!=null&&a.muted&&n.push(`--lumina-colors-muted: ${e.colors.muted};`),n.join(" ")}static camelToKebab(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}static gradientDirectionToCSS(e){return{"to-t":"to top","to-b":"to bottom","to-l":"to left","to-r":"to right","to-tl":"to top left","to-tr":"to top right","to-bl":"to bottom left","to-br":"to bottom right"}[e]||"to bottom"}static hexToRgb(e){const n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(n,(r,i,a,l)=>i+i+a+a+l+l);const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null}}class Wr{constructor(e,n={}){Yt(this,"app");Yt(this,"store");Yt(this,"speakerWindow",null);Yt(this,"speakerChannel",null);Yt(this,"speakerChannelId");Yt(this,"speakerUnsubscribe",null);this.selector=e,this.speakerChannelId=`lumina-speaker-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,this.store=z2(n),n.theme&&Kp.inject(n.theme),this.app=wu(EI),this.app.provide(ya,this.store),this.app.provide("LuminaEngine",this),Bn(()=>this.store.state.currentIndex,(s,r)=>{var a;const i=(a=this.store.state.deck)==null?void 0:a.slides[s];i&&Hs.emit("slideChange",{index:s,previousIndex:r??0,slide:i})}),Bn(()=>{var s;return(s=this.store.state.deck)==null?void 0:s.meta},s=>{s&&((s.theme||s.themeConfig)&&Kp.inject(s.theme||"default",s.themeConfig),s.orbColor&&document.documentElement.style.setProperty("--lumina-colors-primary",s.orbColor))},{deep:!0}),this.app.component("layout-statement",GI),this.app.component("layout-half",uk),this.app.component("layout-features",hk),this.app.component("layout-timeline",xk),this.app.component("layout-steps",Rk),this.app.component("layout-flex",Vk),this.app.component("layout-auto",$k),this.app.component("layout-custom",zk),this.app.component("layout-chart",Jk),this.app.component("layout-video",eC),Hs.on("action",s=>{this.store.recordAction(s)}),this.app.mount(this.selector),this.syncSpeakerNotes()}load(e){this.store.loadDeck(e),Hs.emit("ready",e),this.syncSpeakerNotes()}patch(e){this.store.patchDeck(e),this.syncSpeakerNotes()}exportState(){const{currentIndex:e,deck:n,actionHistory:s}=this.store.state,r=n==null?void 0:n.slides[e],i=s.map(l=>`User ${l.type}ed on ${l.label||l.value}`).join(" -> "),a=s.length>5?"High Engagement":"Low Engagement";return Object.freeze({status:"active",currentSlide:{index:e,id:(r==null?void 0:r.id)||e,type:r==null?void 0:r.type,title:(r&&"title"in r?r.title:null)||"(No Title)"},narrative:`User is currently on slide ${e+1}. Session Flow: ${i||"Just started"}.`,engagementLevel:a,history:[...s]})}on(e,n){Hs.on(e,n)}off(e,n){Hs.off(e,n)}destroy(){this.closeSpeakerNotes(),this.app&&this.app.unmount(),Hs.clear()}get currentSlideIndex(){return this.store.state.currentIndex}goTo(e){this.store.goto(e),this.syncSpeakerNotes()}next(){this.store.next(),this.syncSpeakerNotes()}prev(){this.store.prev(),this.syncSpeakerNotes()}openSpeakerNotes(){if(this.speakerWindow&&!this.speakerWindow.closed)return this.speakerWindow.focus(),this.speakerWindow;if(!la.isSupported())return console.error("[Lumina] BroadcastChannel not supported."),null;const e=600,n=800,s=window.screenX+window.outerWidth,r=window.screenY;if(this.speakerWindow=window.open("about:blank",`lumina-speaker-notes-${this.speakerChannelId}`,`width=${e},height=${n},left=${s},top=${r},resizable=yes,scrollbars=yes`),!this.speakerWindow)return console.warn("[Lumina] Popup blocked."),null;const i=this.speakerWindow;return i.document.open(),i.document.write(`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <title>Speaker Notes - Lumina</title>
                <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
            </head>
            <body>
                <div id="speaker-notes-root"></div>
            </body>
            </html>
        `),i.document.close(),setTimeout(()=>{if(i.closed)return;Array.from(document.querySelectorAll('style, link[rel="stylesheet"]')).forEach(l=>{i.document.head.appendChild(l.cloneNode(!0))});const a=i.document.getElementById("speaker-notes-root");if(a){const l=wu(zI,{channelId:this.speakerChannelId});l.mount(a),i.addEventListener("unload",()=>l.unmount())}},0),this.initSpeakerChannel(),this.speakerWindow}closeSpeakerNotes(){this.speakerUnsubscribe&&(this.speakerUnsubscribe(),this.speakerUnsubscribe=null),this.speakerChannel&&(this.speakerChannel.notifyClose(),this.speakerChannel.destroy(),this.speakerChannel=null),this.speakerWindow&&!this.speakerWindow.closed&&this.speakerWindow.close(),this.speakerWindow=null}get isSpeakerNotesOpen(){return this.speakerWindow!==null&&!this.speakerWindow.closed}initSpeakerChannel(){this.speakerChannel=la.getInstance(this.speakerChannelId),this.speakerUnsubscribe=this.speakerChannel.subscribe(n=>{switch(n.action){case"next":this.next();break;case"prev":this.prev();break;case"goto":n.index!==void 0&&this.goTo(n.index);break;case"ping":this.syncSpeakerNotes();break}}),this.syncSpeakerNotes();const e=setInterval(()=>{var n;(n=this.speakerWindow)!=null&&n.closed&&(clearInterval(e),this.closeSpeakerNotes())},1e3)}syncSpeakerNotes(){if(!this.speakerChannel)return;const{currentIndex:e,deck:n}=this.store.state;if(!n)return;const s=n.slides[e],r=n.slides[e+1],i=a=>{if(a&&"title"in a&&typeof a.title=="string")return a.title};this.speakerChannel.send({action:"state",index:e,totalSlides:n.slides.length,currentNotes:s==null?void 0:s.notes,nextSlidePreview:r?{title:i(r),type:r.type}:void 0})}}const tC={class:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-4 md:px-8 py-4 bg-black/50 backdrop-blur-md border-b border-white/10"},nC=["href"],sC={class:"hidden md:flex items-center gap-8"},rC=["href"],iC=["href"],oC=["href"],aC=["href"],lC=["href"],cC={class:"flex items-center gap-4"},uC={key:0,class:"fixed inset-0 z-40 md:hidden"},dC={class:"absolute top-16 left-0 right-0 bg-[#0a0a0a] border-b border-white/10 p-6 flex flex-col gap-4"},hC=["href"],fC=["href"],pC=["href"],mC=["href"],gC=["href"],bC=Ne({__name:"SiteNavBar",props:{activePage:{}},emits:["navigate"],setup(t,{emit:e}){const n=e,s="/lumina-slides/",r=de(!1);function i(a){r.value=!1,n("navigate",a)}return(a,l)=>(V(),z(Ee,null,[o("nav",tC,[o("a",{href:Qe(s),class:"text-xl font-bold tracking-tighter text-white flex items-center gap-2",onClick:l[0]||(l[0]=tn(c=>a.$emit("navigate","home"),["prevent"]))},[...l[13]||(l[13]=[o("span",{class:"w-6 h-6 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500"},null,-1),y(" Lumina ",-1)])],8,nC),o("div",sC,[o("a",{href:Qe(s)+"?page=examples",onClick:l[1]||(l[1]=tn(c=>a.$emit("navigate","examples"),["prevent"])),class:ce(["text-sm font-medium transition",t.activePage==="examples"?"text-white":"text-white/60 hover:text-white"])},"Examples",10,rC),o("a",{href:Qe(s)+"?page=docs",onClick:l[2]||(l[2]=tn(c=>a.$emit("navigate","docs"),["prevent"])),class:ce(["text-sm font-medium transition",t.activePage==="docs"?"text-white":"text-white/60 hover:text-white"])},"Docs",10,iC),o("a",{href:Qe(s)+"?page=playground",onClick:l[3]||(l[3]=tn(c=>a.$emit("navigate","playground"),["prevent"])),class:ce(["text-sm font-medium transition",t.activePage==="playground"?"text-white":"text-white/60 hover:text-white"])},"Playground",10,oC),o("a",{href:Qe(s)+"?page=prompt-builder",onClick:l[4]||(l[4]=tn(c=>a.$emit("navigate","prompt-builder"),["prevent"])),class:ce(["text-sm font-medium transition",t.activePage==="prompt-builder"?"text-white":"text-white/60 hover:text-white"])},"Prompt Builder",10,aC),o("a",{href:Qe(s)+"?page=api",onClick:l[5]||(l[5]=tn(c=>a.$emit("navigate","api"),["prevent"])),class:ce(["text-sm font-medium transition",t.activePage==="api"?"text-white":"text-white/60 hover:text-white"])},"API",10,lC)]),o("div",cC,[l[14]||(l[14]=o("a",{href:"https://github.com/PailletJuanPablo/lumina-slides",target:"_blank",class:"px-4 py-2 rounded-full bg-white text-black text-sm font-bold hover:bg-gray-200 transition"}," GitHub ",-1)),o("button",{onClick:l[6]||(l[6]=c=>r.value=!r.value),class:"md:hidden w-10 h-10 flex items-center justify-center rounded-lg bg-white/5 hover:bg-white/10 transition"},[o("i",{class:ce(["fa-solid text-white",r.value?"fa-xmark":"fa-bars"])},null,2)])])]),Te(Qo,{name:"slide"},{default:fn(()=>[r.value?(V(),z("div",uC,[o("div",{class:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l[7]||(l[7]=c=>r.value=!1)}),o("div",dC,[o("a",{href:Qe(s)+"?page=examples",onClick:l[8]||(l[8]=tn(c=>i("examples"),["prevent"])),class:ce(["text-lg font-medium py-2 border-b border-white/5 transition",t.activePage==="examples"?"text-white":"text-white/60"])}," Examples ",10,hC),o("a",{href:Qe(s)+"?page=docs",onClick:l[9]||(l[9]=tn(c=>i("docs"),["prevent"])),class:ce(["text-lg font-medium py-2 border-b border-white/5 transition",t.activePage==="docs"?"text-white":"text-white/60"])}," Docs ",10,fC),o("a",{href:Qe(s)+"?page=playground",onClick:l[10]||(l[10]=tn(c=>i("playground"),["prevent"])),class:ce(["text-lg font-medium py-2 border-b border-white/5 transition",t.activePage==="playground"?"text-white":"text-white/60"])}," Playground ",10,pC),o("a",{href:Qe(s)+"?page=prompt-builder",onClick:l[11]||(l[11]=tn(c=>i("prompt-builder"),["prevent"])),class:ce(["text-lg font-medium py-2 border-b border-white/5 transition",t.activePage==="prompt-builder"?"text-white":"text-white/60"])}," Prompt Builder ",10,mC),o("a",{href:Qe(s)+"?page=api",onClick:l[12]||(l[12]=tn(c=>i("api"),["prevent"])),class:ce(["text-lg font-medium py-2 transition",t.activePage==="api"?"text-white":"text-white/60"])}," API ",10,gC)])])):ie("",!0)]),_:1})],64))}}),yC=Xr(bC,[["__scopeId","data-v-a7fad191"]]);function sh(t){let e=t.trim();e=e.replace(/,(\s*[}\]])/g,"$1");const n=[];let s=!1,r=!1;for(let i=0;i<e.length;i++){const a=e[i];if(s){a==="\\"?r=!r:a==='"'&&!r?s=!1:r=!1;continue}a==='"'?s=!0:a==="{"?n.push("}"):a==="["?n.push("]"):a==="}"?n[n.length-1]==="}"&&n.pop():a==="]"&&n[n.length-1]==="]"&&n.pop()}for(s&&(e+='"');n.length>0;)e+=n.pop();try{return JSON.parse(e)}catch{return null}}const _C=()=>{};var Jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},vC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},iy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,h=i>>2,m=(i&3)<<4|l>>4;let f=(l&15)<<2|d>>6,g=d&63;c||(g=64,a||(f=64)),s.push(n[h],n[m],n[f],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ry(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||d==null||m==null)throw new xC;const f=i<<2|l>>4;if(s.push(f),d!==64){const g=l<<4&240|d>>2;if(s.push(g),m!==64){const x=d<<6&192|m;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wC=function(t){const e=ry(t);return iy.encodeByteArray(e,!0)},Al=function(t){return wC(t).replace(/\./g,"")},TC=function(t){try{return iy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=()=>EC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof Jp>"u")return;const t=Jp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TC(t[1]);return e&&JSON.parse(e)},rh=()=>{try{return _C()||SC()||IC()||kC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CC=t=>{var e,n;return(n=(e=rh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},AC=t=>{const e=CC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},oy=()=>{var t;return(t=rh())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Al(JSON.stringify(n)),Al(JSON.stringify(a)),""].join(".")}const Lo={};function DC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?t.emulator.push(e):t.prod.push(e);return t}function NC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qp=!1;function VC(t,e){if(typeof window>"u"||typeof document>"u"||!ih(window.location.host)||Lo[t]===e||Lo[t]||Qp)return;Lo[t]=e;function n(f){return`__firebase__banner__${f}`}const s="__firebase__banner",i=DC().prod.length>0;function a(){const f=document.getElementById(s);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Qp=!0,a()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=NC(s),g=n("text"),x=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),A=document.getElementById(v)||document.createElement("a"),O=n("preprendIcon"),N=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const $=f.element;l($),h(A,v);const R=d();c(N,O),$.append(N,x,A,R),document.body.appendChild($)}i?(x.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LC(){var e;const t=(e=rh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MC(){return!LC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zC(){try{return typeof indexedDB=="object"}catch{return!1}}function FC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="FirebaseError";class Ji extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=jC,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ay.prototype.create)}}class ay{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?BC(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Ji(r,l,s)}}function BC(t,e){return t.replace(UC,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const UC=/\{\$([^}]+)}/g;function Pl(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(Yp(i)&&Yp(a)){if(!Pl(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Yp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){return t&&t._delegate?t._delegate:t}class ca{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new PC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WC(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZC(t){return t===Nr?void 0:t}function WC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const KC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},JC=Pe.INFO,QC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},YC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=QC[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=JC,this._logHandler=YC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const XC=(t,e)=>e.some(n=>t instanceof n);let Xp,em;function eA(){return Xp||(Xp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return em||(em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cy=new WeakMap,ju=new WeakMap,uy=new WeakMap,eu=new WeakMap,oh=new WeakMap;function nA(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Xs(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cy.set(n,t)}).catch(()=>{}),oh.set(e,t),e}function sA(t){if(ju.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});ju.set(t,e)}let Bu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ju.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rA(t){Bu=t(Bu)}function iA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(tu(this),e,...n);return uy.set(s,e.sort?e.sort():[e]),Xs(s)}:tA().includes(t)?function(...e){return t.apply(tu(this),e),Xs(cy.get(this))}:function(...e){return Xs(t.apply(tu(this),e))}}function oA(t){return typeof t=="function"?iA(t):(t instanceof IDBTransaction&&sA(t),XC(t,eA())?new Proxy(t,Bu):t)}function Xs(t){if(t instanceof IDBRequest)return nA(t);if(eu.has(t))return eu.get(t);const e=oA(t);return e!==t&&(eu.set(t,e),oh.set(e,t)),e}const tu=t=>oh.get(t);function aA(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=Xs(a);return s&&a.addEventListener("upgradeneeded",c=>{s(Xs(a.result),c.oldVersion,c.newVersion,Xs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const lA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],nu=new Map;function tm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nu.get(e))return nu.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=cA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||lA.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&c.done]))[0]};return nu.set(e,i),i}rA(t=>({...t,get:(e,n,s)=>tm(e,n)||t.get(e,n,s),has:(e,n)=>!!tm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uu="@firebase/app",nm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new ly("@firebase/app"),hA="@firebase/app-compat",fA="@firebase/analytics-compat",pA="@firebase/analytics",mA="@firebase/app-check-compat",gA="@firebase/app-check",bA="@firebase/auth",yA="@firebase/auth-compat",_A="@firebase/database",vA="@firebase/data-connect",xA="@firebase/database-compat",wA="@firebase/functions",TA="@firebase/functions-compat",EA="@firebase/installations",SA="@firebase/installations-compat",IA="@firebase/messaging",kA="@firebase/messaging-compat",CA="@firebase/performance",AA="@firebase/performance-compat",PA="@firebase/remote-config",RA="@firebase/remote-config-compat",OA="@firebase/storage",DA="@firebase/storage-compat",NA="@firebase/firestore",VA="@firebase/ai",$A="@firebase/firestore-compat",LA="firebase",MA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="[DEFAULT]",zA={[Uu]:"fire-core",[hA]:"fire-core-compat",[pA]:"fire-analytics",[fA]:"fire-analytics-compat",[gA]:"fire-app-check",[mA]:"fire-app-check-compat",[bA]:"fire-auth",[yA]:"fire-auth-compat",[_A]:"fire-rtdb",[vA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[wA]:"fire-fn",[TA]:"fire-fn-compat",[EA]:"fire-iid",[SA]:"fire-iid-compat",[IA]:"fire-fcm",[kA]:"fire-fcm-compat",[CA]:"fire-perf",[AA]:"fire-perf-compat",[PA]:"fire-rc",[RA]:"fire-rc-compat",[OA]:"fire-gcs",[DA]:"fire-gcs-compat",[NA]:"fire-fst",[$A]:"fire-fst-compat",[VA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new Map,FA=new Map,qu=new Map;function sm(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(qu.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;qu.set(e,t);for(const n of Rl.values())sm(n,t);for(const n of FA.values())sm(n,t);return!0}function jA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function BA(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new ay("app","Firebase",UA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=MA;function dy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Hu,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw er.create("bad-app-name",{appName:String(r)});if(n||(n=oy()),!n)throw er.create("no-options");const i=Rl.get(r);if(i){if(Pl(n,i.options)&&Pl(s,i.config))return i;throw er.create("duplicate-app",{appName:r})}const a=new GC(r);for(const c of qu.values())a.addComponent(c);const l=new HA(n,s,a);return Rl.set(r,l),l}function ZA(t=Hu){const e=Rl.get(t);if(!e&&t===Hu&&oy())return dy();if(!e)throw er.create("no-app",{appName:t});return e}function ki(t,e,n){let s=zA[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(a.join(" "));return}Ol(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebase-heartbeat-database",GA=1,ua="firebase-heartbeat-store";let su=null;function hy(){return su||(su=aA(WA,GA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw er.create("idb-open",{originalErrorMessage:t.message})})),su}async function KA(t){try{const n=(await hy()).transaction(ua),s=await n.objectStore(ua).get(fy(t));return await n.done,s}catch(e){if(e instanceof Ji)Cs.warn(e.message);else{const n=er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function rm(t,e){try{const s=(await hy()).transaction(ua,"readwrite");await s.objectStore(ua).put(e,fy(t)),await s.done}catch(n){if(n instanceof Ji)Cs.warn(n.message);else{const s=er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(s.message)}}}function fy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1024,QA=30;class YA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=im();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>QA){const a=tP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=im(),{heartbeatsToSend:s,unsentEntries:r}=XA(this._heartbeatsCache.heartbeats),i=Al(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Cs.warn(n),""}}}function im(){return new Date().toISOString().substring(0,10)}function XA(t,e=JA){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),om(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),om(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zC()?FC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function om(t){return Al(JSON.stringify({version:2,heartbeats:t})).length}function tP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){Ol(new ca("platform-logger",e=>new uA(e),"PRIVATE")),Ol(new ca("heartbeat",e=>new YA(e),"PRIVATE")),ki(Uu,nm,t),ki(Uu,nm,"esm2020"),ki("fire-js","")}nP("");var sP="firebase",rP="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(sP,rP,"app");var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,py;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function _(){}_.prototype=w.prototype,T.F=w.prototype,T.prototype=new _,T.prototype.constructor=T,T.D=function(E,C,k){for(var I=Array(arguments.length-2),re=2;re<arguments.length;re++)I[re-2]=arguments[re];return w.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,w,_){_||(_=0);const E=Array(16);if(typeof w=="string")for(var C=0;C<16;++C)E[C]=w.charCodeAt(_++)|w.charCodeAt(_++)<<8|w.charCodeAt(_++)<<16|w.charCodeAt(_++)<<24;else for(C=0;C<16;++C)E[C]=w[_++]|w[_++]<<8|w[_++]<<16|w[_++]<<24;w=T.g[0],_=T.g[1],C=T.g[2];let k=T.g[3],I;I=w+(k^_&(C^k))+E[0]+3614090360&4294967295,w=_+(I<<7&4294967295|I>>>25),I=k+(C^w&(_^C))+E[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=C+(_^k&(w^_))+E[2]+606105819&4294967295,C=k+(I<<17&4294967295|I>>>15),I=_+(w^C&(k^w))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=w+(k^_&(C^k))+E[4]+4118548399&4294967295,w=_+(I<<7&4294967295|I>>>25),I=k+(C^w&(_^C))+E[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=C+(_^k&(w^_))+E[6]+2821735955&4294967295,C=k+(I<<17&4294967295|I>>>15),I=_+(w^C&(k^w))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=w+(k^_&(C^k))+E[8]+1770035416&4294967295,w=_+(I<<7&4294967295|I>>>25),I=k+(C^w&(_^C))+E[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=C+(_^k&(w^_))+E[10]+4294925233&4294967295,C=k+(I<<17&4294967295|I>>>15),I=_+(w^C&(k^w))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=w+(k^_&(C^k))+E[12]+1804603682&4294967295,w=_+(I<<7&4294967295|I>>>25),I=k+(C^w&(_^C))+E[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=C+(_^k&(w^_))+E[14]+2792965006&4294967295,C=k+(I<<17&4294967295|I>>>15),I=_+(w^C&(k^w))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=w+(C^k&(_^C))+E[1]+4129170786&4294967295,w=_+(I<<5&4294967295|I>>>27),I=k+(_^C&(w^_))+E[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=C+(w^_&(k^w))+E[11]+643717713&4294967295,C=k+(I<<14&4294967295|I>>>18),I=_+(k^w&(C^k))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=w+(C^k&(_^C))+E[5]+3593408605&4294967295,w=_+(I<<5&4294967295|I>>>27),I=k+(_^C&(w^_))+E[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=C+(w^_&(k^w))+E[15]+3634488961&4294967295,C=k+(I<<14&4294967295|I>>>18),I=_+(k^w&(C^k))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=w+(C^k&(_^C))+E[9]+568446438&4294967295,w=_+(I<<5&4294967295|I>>>27),I=k+(_^C&(w^_))+E[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=C+(w^_&(k^w))+E[3]+4107603335&4294967295,C=k+(I<<14&4294967295|I>>>18),I=_+(k^w&(C^k))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=w+(C^k&(_^C))+E[13]+2850285829&4294967295,w=_+(I<<5&4294967295|I>>>27),I=k+(_^C&(w^_))+E[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=C+(w^_&(k^w))+E[7]+1735328473&4294967295,C=k+(I<<14&4294967295|I>>>18),I=_+(k^w&(C^k))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=w+(_^C^k)+E[5]+4294588738&4294967295,w=_+(I<<4&4294967295|I>>>28),I=k+(w^_^C)+E[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=C+(k^w^_)+E[11]+1839030562&4294967295,C=k+(I<<16&4294967295|I>>>16),I=_+(C^k^w)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=w+(_^C^k)+E[1]+2763975236&4294967295,w=_+(I<<4&4294967295|I>>>28),I=k+(w^_^C)+E[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=C+(k^w^_)+E[7]+4139469664&4294967295,C=k+(I<<16&4294967295|I>>>16),I=_+(C^k^w)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=w+(_^C^k)+E[13]+681279174&4294967295,w=_+(I<<4&4294967295|I>>>28),I=k+(w^_^C)+E[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=C+(k^w^_)+E[3]+3572445317&4294967295,C=k+(I<<16&4294967295|I>>>16),I=_+(C^k^w)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=w+(_^C^k)+E[9]+3654602809&4294967295,w=_+(I<<4&4294967295|I>>>28),I=k+(w^_^C)+E[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=C+(k^w^_)+E[15]+530742520&4294967295,C=k+(I<<16&4294967295|I>>>16),I=_+(C^k^w)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=w+(C^(_|~k))+E[0]+4096336452&4294967295,w=_+(I<<6&4294967295|I>>>26),I=k+(_^(w|~C))+E[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=C+(w^(k|~_))+E[14]+2878612391&4294967295,C=k+(I<<15&4294967295|I>>>17),I=_+(k^(C|~w))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=w+(C^(_|~k))+E[12]+1700485571&4294967295,w=_+(I<<6&4294967295|I>>>26),I=k+(_^(w|~C))+E[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=C+(w^(k|~_))+E[10]+4293915773&4294967295,C=k+(I<<15&4294967295|I>>>17),I=_+(k^(C|~w))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=w+(C^(_|~k))+E[8]+1873313359&4294967295,w=_+(I<<6&4294967295|I>>>26),I=k+(_^(w|~C))+E[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=C+(w^(k|~_))+E[6]+2734768916&4294967295,C=k+(I<<15&4294967295|I>>>17),I=_+(k^(C|~w))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=w+(C^(_|~k))+E[4]+4149444226&4294967295,w=_+(I<<6&4294967295|I>>>26),I=k+(_^(w|~C))+E[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=C+(w^(k|~_))+E[2]+718787259&4294967295,C=k+(I<<15&4294967295|I>>>17),I=_+(k^(C|~w))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+k&4294967295}s.prototype.v=function(T,w){w===void 0&&(w=T.length);const _=w-this.blockSize,E=this.C;let C=this.h,k=0;for(;k<w;){if(C==0)for(;k<=_;)r(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<w;)if(E[C++]=T.charCodeAt(k++),C==this.blockSize){r(this,E),C=0;break}}else for(;k<w;)if(E[C++]=T[k++],C==this.blockSize){r(this,E),C=0;break}}this.h=C,this.o+=w},s.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;w=this.o*8;for(var _=T.length-8;_<T.length;++_)T[_]=w&255,w/=256;for(this.v(T),T=Array(16),w=0,_=0;_<4;++_)for(let E=0;E<32;E+=8)T[w++]=this.g[_]>>>E&255;return T};function i(T,w){var _=l;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=w(T)}function a(T,w){this.h=w;const _=[];let E=!0;for(let C=T.length-1;C>=0;C--){const k=T[C]|0;E&&k==w||(_[C]=k,E=!1)}this.g=_}var l={};function c(T){return-128<=T&&T<128?i(T,function(w){return new a([w|0],w<0?-1:0)}):new a([T|0],T<0?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return A(d(-T));const w=[];let _=1;for(let E=0;T>=_;E++)w[E]=T/_|0,_*=4294967296;return new a(w,0)}function h(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return A(h(T.substring(1),w));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=d(Math.pow(w,8));let E=m;for(let k=0;k<T.length;k+=8){var C=Math.min(8,T.length-k);const I=parseInt(T.substring(k,k+C),w);C<8?(C=d(Math.pow(w,C)),E=E.j(C).add(d(I))):(E=E.j(_),E=E.add(d(I)))}return E}var m=c(0),f=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-A(this).m();let T=0,w=1;for(let _=0;_<this.g.length;_++){const E=this.i(_);T+=(E>=0?E:4294967296+E)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(v(this))return"-"+A(this).toString(T);const w=d(Math.pow(T,6));var _=this;let E="";for(;;){const C=R(_,w).g;_=O(_,C.j(w));let k=((_.g.length>0?_.g[0]:_.h)>>>0).toString(T);if(_=C,x(_))return k+E;for(;k.length<6;)k="0"+k;E=k+E}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(let w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=O(this,T),v(T)?-1:x(T)?0:1};function A(T){const w=T.g.length,_=[];for(let E=0;E<w;E++)_[E]=~T.g[E];return new a(_,~T.h).add(f)}t.abs=function(){return v(this)?A(this):this},t.add=function(T){const w=Math.max(this.g.length,T.g.length),_=[];let E=0;for(let C=0;C<=w;C++){let k=E+(this.i(C)&65535)+(T.i(C)&65535),I=(k>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);E=I>>>16,k&=65535,I&=65535,_[C]=I<<16|k}return new a(_,_[_.length-1]&-2147483648?-1:0)};function O(T,w){return T.add(A(w))}t.j=function(T){if(x(this)||x(T))return m;if(v(this))return v(T)?A(this).j(A(T)):A(A(this).j(T));if(v(T))return A(this.j(A(T)));if(this.l(g)<0&&T.l(g)<0)return d(this.m()*T.m());const w=this.g.length+T.g.length,_=[];for(var E=0;E<2*w;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(let C=0;C<T.g.length;C++){const k=this.i(E)>>>16,I=this.i(E)&65535,re=T.i(C)>>>16,me=T.i(C)&65535;_[2*E+2*C]+=I*me,N(_,2*E+2*C),_[2*E+2*C+1]+=k*me,N(_,2*E+2*C+1),_[2*E+2*C+1]+=I*re,N(_,2*E+2*C+1),_[2*E+2*C+2]+=k*re,N(_,2*E+2*C+2)}for(T=0;T<w;T++)_[T]=_[2*T+1]<<16|_[2*T];for(T=w;T<2*w;T++)_[T]=0;return new a(_,0)};function N(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function $(T,w){this.g=T,this.h=w}function R(T,w){if(x(w))throw Error("division by zero");if(x(T))return new $(m,m);if(v(T))return w=R(A(T),w),new $(A(w.g),A(w.h));if(v(w))return w=R(T,A(w)),new $(A(w.g),w.h);if(T.g.length>30){if(v(T)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var _=f,E=w;E.l(T)<=0;)_=L(_),E=L(E);var C=F(_,1),k=F(E,1);for(E=F(E,2),_=F(_,2);!x(E);){var I=k.add(E);I.l(T)<=0&&(C=C.add(_),k=I),E=F(E,1),_=F(_,1)}return w=O(T,C.j(w)),new $(C,w)}for(C=m;T.l(w)>=0;){for(_=Math.max(1,Math.floor(T.m()/w.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),k=d(_),I=k.j(w);v(I)||I.l(T)>0;)_-=E,k=d(_),I=k.j(w);x(k)&&(k=f),C=C.add(k),T=O(T,I)}return new $(C,T)}t.B=function(T){return R(this,T).h},t.and=function(T){const w=Math.max(this.g.length,T.g.length),_=[];for(let E=0;E<w;E++)_[E]=this.i(E)&T.i(E);return new a(_,this.h&T.h)},t.or=function(T){const w=Math.max(this.g.length,T.g.length),_=[];for(let E=0;E<w;E++)_[E]=this.i(E)|T.i(E);return new a(_,this.h|T.h)},t.xor=function(T){const w=Math.max(this.g.length,T.g.length),_=[];for(let E=0;E<w;E++)_[E]=this.i(E)^T.i(E);return new a(_,this.h^T.h)};function L(T){const w=T.g.length+1,_=[];for(let E=0;E<w;E++)_[E]=T.i(E)<<1|T.i(E-1)>>>31;return new a(_,T.h)}function F(T,w){const _=w>>5;w%=32;const E=T.g.length-_,C=[];for(let k=0;k<E;k++)C[k]=w>0?T.i(k+_)>>>w|T.i(k+_+1)<<32-w:T.i(k+_);return new a(C,T.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,py=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,tr=a}).apply(typeof am<"u"?am:typeof self<"u"?self:typeof window<"u"?window:{});var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var my,Eo,gy,rl,Zu,by,yy,_y;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ua=="object"&&Ua];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function r(u,p){if(p)e:{var b=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var M=u[S];if(!(M in b))break e;b=b[M]}u=u[u.length-1],S=b[u],p=p(S),p!=S&&p!=null&&e(b,u,{configurable:!0,writable:!0,value:p})}}r("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(u){return u||function(p){var b=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&b.push([S,p[S]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function c(u,p,b){return u.call.apply(u.bind,arguments)}function d(u,p,b){return d=c,d.apply(null,arguments)}function h(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function m(u,p){function b(){}b.prototype=p.prototype,u.Z=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,M,j){for(var X=Array(arguments.length-2),we=2;we<arguments.length;we++)X[we-2]=arguments[we];return p.prototype[M].apply(S,X)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function g(u){const p=u.length;if(p>0){const b=Array(p);for(let S=0;S<p;S++)b[S]=u[S];return b}return[]}function x(u,p){for(let S=1;S<arguments.length;S++){const M=arguments[S];var b=typeof M;if(b=b!="object"?b:M?Array.isArray(M)?"array":b:"null",b=="array"||b=="object"&&typeof M.length=="number"){b=u.length||0;const j=M.length||0;u.length=b+j;for(let X=0;X<j;X++)u[b+X]=M[X]}else u.push(M)}}class v{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function A(u){a.setTimeout(()=>{throw u},0)}function O(){var u=T;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class N{constructor(){this.h=this.g=null}add(p,b){const S=$.get();S.set(p,b),this.h?this.h.next=S:this.g=S,this.h=S}}var $=new v(()=>new R,u=>u.reset());class R{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,T=new N,w=()=>{const u=Promise.resolve(void 0);L=()=>{u.then(_)}};function _(){for(var u;u=O();){try{u.h.call(u.g)}catch(b){A(b)}var p=$;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}F=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,p),a.removeEventListener("test",b,p)}catch{}return u}();function I(u){return/^[\s\xa0]*$/.test(u)}function re(u,p){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}m(re,C),re.prototype.init=function(u,p){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),xe=0;function ge(u,p,b,S,M){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!S,this.ha=M,this.key=++xe,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function At(u,p,b){for(const S in u)p.call(b,u[S],S,u)}function Pn(u,p){for(const b in u)p.call(void 0,u[b],b,u)}function $t(u){const p={};for(const b in u)p[b]=u[b];return p}const ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Os(u,p){let b,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(b in S)u[b]=S[b];for(let j=0;j<ht.length;j++)b=ht[j],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function Lt(u){this.src=u,this.g={},this.h=0}Lt.prototype.add=function(u,p,b,S,M){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const X=ds(u,p,S,M);return X>-1?(p=u[X],b||(p.fa=!1)):(p=new ge(p,this.src,j,!!S,M),p.fa=b,u.push(p)),p};function bn(u,p){const b=p.type;if(b in u.g){var S=u.g[b],M=Array.prototype.indexOf.call(S,p,void 0),j;(j=M>=0)&&Array.prototype.splice.call(S,M,1),j&&(_e(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function ds(u,p,b,S){for(let M=0;M<u.length;++M){const j=u[M];if(!j.da&&j.listener==p&&j.capture==!!b&&j.ha==S)return M}return-1}var Ds="closure_lm_"+(Math.random()*1e6|0),_r={};function eo(u,p,b,S,M){if(Array.isArray(p)){for(let j=0;j<p.length;j++)eo(u,p[j],b,S,M);return null}return b=ee(b),u&&u[me]?u.J(p,b,l(S)?!!S.capture:!1,M):vr(u,p,b,!1,S,M)}function vr(u,p,b,S,M,j){if(!p)throw Error("Invalid event type");const X=l(M)?!!M.capture:!!M;let we=Z(u);if(we||(u[Ds]=we=new Lt(u)),b=we.add(p,b,S,X,j),b.proxy)return b;if(S=Rh(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)k||(M=X),M===void 0&&(M=!1),u.addEventListener(p.toString(),S,M);else if(u.attachEvent)u.attachEvent(B(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Rh(){function u(b){return p.call(u.src,u.listener,b)}const p=K;return u}function P(u,p,b,S,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)P(u,p[j],b,S,M);else S=l(S)?!!S.capture:!!S,b=ee(b),u&&u[me]?(u=u.i,j=String(p).toString(),j in u.g&&(p=u.g[j],b=ds(p,b,S,M),b>-1&&(_e(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete u.g[j],u.h--)))):u&&(u=Z(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ds(p,b,S,M)),(b=u>-1?p[u]:null)&&D(b))}function D(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[me])bn(p.i,u);else{var b=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(b,S,u.capture):p.detachEvent?p.detachEvent(B(b),S):p.addListener&&p.removeListener&&p.removeListener(S),(b=Z(p))?(bn(b,u),b.h==0&&(b.src=null,p[Ds]=null)):_e(u)}}}function B(u){return u in _r?_r[u]:_r[u]="on"+u}function K(u,p){if(u.da)u=!0;else{p=new re(p,this);const b=u.listener,S=u.ha||u.src;u.fa&&D(u),u=b.call(S,p)}return u}function Z(u){return u=u[Ds],u instanceof Lt?u:null}var W="__closure_events_fn_"+(Math.random()*1e9>>>0);function ee(u){return typeof u=="function"?u:(u[W]||(u[W]=function(p){return u.handleEvent(p)}),u[W])}function Q(){E.call(this),this.i=new Lt(this),this.M=this,this.G=null}m(Q,E),Q.prototype[me]=!0,Q.prototype.removeEventListener=function(u,p,b,S){P(this,u,p,b,S)};function J(u,p){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new C(p,u);else if(p instanceof C)p.target=p.target||u;else{var M=p;p=new C(S,u),Os(p,M)}M=!0;let j,X;if(b)for(X=b.length-1;X>=0;X--)j=p.g=b[X],M=G(j,S,!0,p)&&M;if(j=p.g=u,M=G(j,S,!0,p)&&M,M=G(j,S,!1,p)&&M,b)for(X=0;X<b.length;X++)j=p.g=b[X],M=G(j,S,!1,p)&&M}Q.prototype.N=function(){if(Q.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const b=u.g[p];for(let S=0;S<b.length;S++)_e(b[S]);delete u.g[p],u.h--}}this.G=null},Q.prototype.J=function(u,p,b,S){return this.i.add(String(u),p,!1,b,S)},Q.prototype.K=function(u,p,b,S){return this.i.add(String(u),p,!0,b,S)};function G(u,p,b,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let j=0;j<p.length;++j){const X=p[j];if(X&&!X.da&&X.capture==b){const we=X.listener,vt=X.ha||X.src;X.fa&&bn(u.i,X),M=we.call(vt,S)!==!1&&M}}return M&&!S.defaultPrevented}function ue(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:a.setTimeout(u,p||0)}function ne(u){u.g=ue(()=>{u.g=null,u.i&&(u.i=!1,ne(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class le extends E{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ne(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(u){E.call(this),this.h=u,this.g={}}m(he,E);var Se=[];function Me(u){At(u.g,function(p,b){this.g.hasOwnProperty(b)&&D(p)},u),u.g={}}he.prototype.N=function(){he.Z.N.call(this),Me(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=a.JSON.stringify,Mt=a.JSON.parse,zt=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function yn(){}function _n(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ti(){C.call(this,"d")}m(ti,C);function Pt(){C.call(this,"c")}m(Pt,C);var Et={},to=null;function xr(){return to=to||new Q}Et.Ia="serverreachability";function Oh(u){C.call(this,Et.Ia,u)}m(Oh,C);function no(u){const p=xr();J(p,new Oh(p))}Et.STAT_EVENT="statevent";function Dh(u,p){C.call(this,Et.STAT_EVENT,u),this.stat=p}m(Dh,C);function Qt(u){const p=xr();J(p,new Dh(p,u))}Et.Ja="timingevent";function Nh(u,p){C.call(this,Et.Ja,u),this.size=p}m(Nh,C);function so(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function ro(){this.g=!0}ro.prototype.ua=function(){this.g=!1};function x_(u,p,b,S,M,j){u.info(function(){if(u.g)if(j){var X="",we=j.split("&");for(let Fe=0;Fe<we.length;Fe++){var vt=we[Fe].split("=");if(vt.length>1){const St=vt[0];vt=vt[1];const Wn=St.split("_");X=Wn.length>=2&&Wn[1]=="type"?X+(St+"="+vt+"&"):X+(St+"=redacted&")}}}else X=null;else X=j;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+p+`
`+b+`
`+X})}function w_(u,p,b,S,M,j,X){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+p+`
`+b+`
`+j+" "+X})}function ni(u,p,b,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+E_(u,b)+(S?" "+S:"")})}function T_(u,p){u.info(function(){return"TIMEOUT: "+p})}ro.prototype.info=function(){};function E_(u,p){if(!u.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var b=j[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var M=S[0];if(M!="noop"&&M!="stop"&&M!="close")for(let X=1;X<S.length;X++)S[X]=""}}}}return Oe(j)}catch{return p}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vh={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$h;function bc(){}m(bc,yn),bc.prototype.g=function(){return new XMLHttpRequest},$h=new bc;function io(u){return encodeURIComponent(String(u))}function S_(u){var p=1;u=u.split(":");const b=[];for(;p>0&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function Ns(u,p,b,S){this.j=u,this.i=p,this.l=b,this.S=S||1,this.V=new he(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Lh}function Lh(){this.i=null,this.g="",this.h=!1}var Mh={},yc={};function _c(u,p,b){u.M=1,u.A=ka(Zn(p)),u.u=b,u.R=!0,zh(u,null)}function zh(u,p){u.F=Date.now(),Ia(u),u.B=Zn(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Yh(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Lh,u.g=bf(u.j,b?p:null,!u.u),u.P>0&&(u.O=new le(d(u.Y,u,u.g),u.P)),p=u.V,b=u.g,S=u.ba;var M="readystatechange";Array.isArray(M)||(M&&(Se[0]=M.toString()),M=Se);for(let j=0;j<M.length;j++){const X=eo(b,M[j],S||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=u.J?$t(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),no(),x_(u.i,u.v,u.B,u.l,u.S,u.u)}Ns.prototype.ba=function(u){u=u.target;const p=this.O;p&&Ls(u)==3?p.j():this.Y(u)},Ns.prototype.Y=function(u){try{if(u==this.g)e:{const we=Ls(this.g),vt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||of(this.g)))){this.K||we!=4||vt==7||(vt==8||Fe<=0?no(3):no(2)),vc(this);var p=this.g.ca();this.X=p;var b=I_(this);if(this.o=p==200,w_(this.i,this.v,this.B,this.l,this.S,we,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,M=this.g;if((S=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var j=S;break t}}j=null}if(u=j)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xc(this,u);else{this.o=!1,this.m=3,Qt(12),wr(this),oo(this);break e}}if(this.R){u=!0;let St;for(;!this.K&&this.C<b.length;)if(St=k_(this,b),St==yc){we==4&&(this.m=4,Qt(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Mh){this.m=4,Qt(15),ni(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,St,null),xc(this,St);if(Fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||b.length!=0||this.h.h||(this.m=1,Qt(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,b,"[Invalid Chunked Response]"),wr(this),oo(this);else if(b.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ac(X),X.P=!0,Qt(11))}}else ni(this.i,this.l,b,null),xc(this,b);we==4&&wr(this),this.o&&!this.K&&(we==4?ff(this.j,this):(this.o=!1,Ia(this)))}else j_(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),wr(this),oo(this)}}}catch{}finally{}};function I_(u){if(!Fh(u))return u.g.la();const p=of(u.g);if(p==="")return"";let b="";const S=p.length,M=Ls(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wr(u),oo(u),"";u.h.i=new a.TextDecoder}for(let j=0;j<S;j++)u.h.h=!0,b+=u.h.i.decode(p[j],{stream:!(M&&j==S-1)});return p.length=0,u.h.g+=b,u.C=0,u.h.g}function Fh(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function k_(u,p){var b=u.C,S=p.indexOf(`
`,b);return S==-1?yc:(b=Number(p.substring(b,S)),isNaN(b)?Mh:(S+=1,S+b>p.length?yc:(p=p.slice(S,S+b),u.C=S+b,p)))}Ns.prototype.cancel=function(){this.K=!0,wr(this)};function Ia(u){u.T=Date.now()+u.H,jh(u,u.H)}function jh(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=so(d(u.aa,u),p)}function vc(u){u.D&&(a.clearTimeout(u.D),u.D=null)}Ns.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(T_(this.i,this.B),this.M!=2&&(no(),Qt(17)),wr(this),this.m=2,oo(this)):jh(this,this.T-u)};function oo(u){u.j.I==0||u.K||ff(u.j,u)}function wr(u){vc(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Me(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function xc(u,p){try{var b=u.j;if(b.I!=0&&(b.g==u||wc(b.h,u))){if(!u.L&&wc(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Oa(b),Pa(b);else break e;Cc(b),Qt(18)}}else b.xa=M[1],0<b.xa-b.K&&M[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=so(d(b.Va,b),6e3));Hh(b.h)<=1&&b.ta&&(b.ta=void 0)}else Er(b,11)}else if((u.L||b.g==u)&&Oa(b),!I(p))for(M=b.Ba.g.parse(p),p=0;p<M.length;p++){let Fe=M[p];const St=Fe[0];if(!(St<=b.K))if(b.K=St,Fe=Fe[1],b.I==2)if(Fe[0]=="c"){b.M=Fe[1],b.ba=Fe[2];const Wn=Fe[3];Wn!=null&&(b.ka=Wn,b.j.info("VER="+b.ka));const Sr=Fe[4];Sr!=null&&(b.za=Sr,b.j.info("SVER="+b.za));const Ms=Fe[5];Ms!=null&&typeof Ms=="number"&&Ms>0&&(S=1.5*Ms,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const zs=u.g;if(zs){const Na=zs.g?zs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var j=S.h;j.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Tc(j,j.h),j.h=null))}if(S.G){const Pc=zs.g?zs.g.getResponseHeader("X-HTTP-Session-Id"):null;Pc&&(S.wa=Pc,Ke(S.J,S.G,Pc))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var X=u;if(S.na=gf(S,S.L?S.ba:null,S.W),X.L){qh(S.h,X);var we=X,vt=S.O;vt&&(we.H=vt),we.D&&(vc(we),Ia(we)),S.g=X}else df(S);b.i.length>0&&Ra(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Er(b,7);else b.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Er(b,7):kc(b):Fe[0]!="noop"&&b.l&&b.l.qa(Fe),b.A=0)}}no(4)}catch{}}var C_=class{constructor(u,p){this.g=u,this.map=p}};function Bh(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uh(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hh(u){return u.h?1:u.g?u.g.size:0}function wc(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Tc(u,p){u.g?u.g.add(p):u.h=p}function qh(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Bh.prototype.cancel=function(){if(this.i=Zh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zh(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const b of u.g.values())p=p.concat(b.G);return p}return g(u.i)}var Wh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A_(u,p){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let M,j=null;S>=0?(M=u[b].substring(0,S),j=u[b].substring(S+1)):M=u[b],p(M,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Vs(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Vs?(this.l=u.l,ao(this,u.j),this.o=u.o,this.g=u.g,lo(this,u.u),this.h=u.h,Ec(this,Xh(u.i)),this.m=u.m):u&&(p=String(u).match(Wh))?(this.l=!1,ao(this,p[1]||"",!0),this.o=co(p[2]||""),this.g=co(p[3]||"",!0),lo(this,p[4]),this.h=co(p[5]||"",!0),Ec(this,p[6]||"",!0),this.m=co(p[7]||"")):(this.l=!1,this.i=new ho(null,this.l))}Vs.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(uo(p,Gh,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(uo(p,Gh,!0),"@"),u.push(io(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(uo(b,b.charAt(0)=="/"?O_:R_,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",uo(b,N_)),u.join("")},Vs.prototype.resolve=function(u){const p=Zn(this);let b=!!u.j;b?ao(p,u.j):b=!!u.o,b?p.o=u.o:b=!!u.g,b?p.g=u.g:b=u.u!=null;var S=u.h;if(b)lo(p,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var M=p.h.lastIndexOf("/");M!=-1&&(S=p.h.slice(0,M+1)+S)}if(M=S,M==".."||M==".")S="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){S=M.lastIndexOf("/",0)==0,M=M.split("/");const j=[];for(let X=0;X<M.length;){const we=M[X++];we=="."?S&&X==M.length&&j.push(""):we==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),S&&X==M.length&&j.push("")):(j.push(we),S=!0)}S=j.join("/")}else S=M}return b?p.h=S:b=u.i.toString()!=="",b?Ec(p,Xh(u.i)):b=!!u.m,b&&(p.m=u.m),p};function Zn(u){return new Vs(u)}function ao(u,p,b){u.j=b?co(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function lo(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Ec(u,p,b){p instanceof ho?(u.i=p,V_(u.i,u.l)):(b||(p=uo(p,D_)),u.i=new ho(p,u.l))}function Ke(u,p,b){u.i.set(p,b)}function ka(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function co(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function uo(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,P_),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function P_(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gh=/[#\/\?@]/g,R_=/[#\?:]/g,O_=/[#\?]/g,D_=/[#\?@]/g,N_=/#/g;function ho(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Tr(u){u.g||(u.g=new Map,u.h=0,u.i&&A_(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}t=ho.prototype,t.add=function(u,p){Tr(this),this.i=null,u=si(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function Kh(u,p){Tr(u),p=si(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Jh(u,p){return Tr(u),p=si(u,p),u.g.has(p)}t.forEach=function(u,p){Tr(this),this.g.forEach(function(b,S){b.forEach(function(M){u.call(p,M,S,this)},this)},this)};function Qh(u,p){Tr(u);let b=[];if(typeof p=="string")Jh(u,p)&&(b=b.concat(u.g.get(si(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)b=b.concat(u[p]);return b}t.set=function(u,p){return Tr(this),this.i=null,u=si(this,u),Jh(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=Qh(this,u),u.length>0?String(u[0]):p):p};function Yh(u,p,b){Kh(u,p),b.length>0&&(u.i=null,u.g.set(si(u,p),g(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var b=p[S];const M=io(b);b=Qh(this,b);for(let j=0;j<b.length;j++){let X=M;b[j]!==""&&(X+="="+io(b[j])),u.push(X)}}return this.i=u.join("&")};function Xh(u){const p=new ho;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function si(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function V_(u,p){p&&!u.j&&(Tr(u),u.i=null,u.g.forEach(function(b,S){const M=S.toLowerCase();S!=M&&(Kh(this,S),Yh(this,M,b))},u)),u.j=p}function $_(u,p){const b=new ro;if(a.Image){const S=new Image;S.onload=h($s,b,"TestLoadImage: loaded",!0,p,S),S.onerror=h($s,b,"TestLoadImage: error",!1,p,S),S.onabort=h($s,b,"TestLoadImage: abort",!1,p,S),S.ontimeout=h($s,b,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function L_(u,p){const b=new ro,S=new AbortController,M=setTimeout(()=>{S.abort(),$s(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(j=>{clearTimeout(M),j.ok?$s(b,"TestPingServer: ok",!0,p):$s(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),$s(b,"TestPingServer: error",!1,p)})}function $s(u,p,b,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(b)}catch{}}function M_(){this.g=new zt}function Sc(u){this.i=u.Sb||null,this.h=u.ab||!1}m(Sc,yn),Sc.prototype.g=function(){return new Ca(this.i,this.h)};function Ca(u,p){Q.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ca,Q),t=Ca.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,po(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||a).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ef(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ef(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?fo(this):po(this),this.readyState==3&&ef(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,fo(this))},t.Na=function(u){this.g&&(this.response=u,fo(this))},t.ga=function(){this.g&&fo(this)};function fo(u){u.readyState=4,u.l=null,u.j=null,u.B=null,po(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function po(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function tf(u){let p="";return At(u,function(b,S){p+=S,p+=":",p+=b,p+=`\r
`}),p}function Ic(u,p,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=tf(b),typeof u=="string"?b!=null&&io(b):Ke(u,p,b))}function lt(u){Q.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(lt,Q);var z_=/^https?$/i,F_=["POST","PUT"];t=lt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$h.g(),this.g.onreadystatechange=f(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){nf(this,j);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)b.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())b.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(F_,p,void 0)>=0)||S||M||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,X]of b)this.g.setRequestHeader(j,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){nf(this,j)}};function nf(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,sf(u),Aa(u)}function sf(u){u.A||(u.A=!0,J(u,"complete"),J(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,J(this,"complete"),J(this,"abort"),Aa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Aa(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?rf(this):this.Xa())},t.Xa=function(){rf(this)};function rf(u){if(u.h&&typeof i<"u"){if(u.v&&Ls(u)==4)setTimeout(u.Ca.bind(u),0);else if(J(u,"readystatechange"),Ls(u)==4){u.h=!1;try{const j=u.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var S;if(S=j===0){let X=String(u.D).match(Wh)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),S=!z_.test(X?X.toLowerCase():"")}b=S}if(b)J(u,"complete"),J(u,"success");else{u.o=6;try{var M=Ls(u)>2?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.ca()+"]",sf(u)}}finally{Aa(u)}}}}function Aa(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,p||J(u,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ls(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Ls(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Mt(p)}};function of(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function j_(u){const p={};u=(u.g&&Ls(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(I(u[S]))continue;var b=S_(u[S]);const M=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const j=p[M]||[];p[M]=j,j.push(b)}Pn(p,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mo(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function af(u){this.za=0,this.i=[],this.j=new ro,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mo("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mo("baseRetryDelayMs",5e3,u),this.Za=mo("retryDelaySeedMs",1e4,u),this.Ta=mo("forwardChannelMaxRetries",2,u),this.va=mo("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Bh(u&&u.concurrentRequestLimit),this.Ba=new M_,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=af.prototype,t.ka=8,t.I=1,t.connect=function(u,p,b,S){Qt(0),this.W=u,this.H=p||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=gf(this,null,this.W),Ra(this)};function kc(u){if(lf(u),u.I==3){var p=u.V++,b=Zn(u.J);if(Ke(b,"SID",u.M),Ke(b,"RID",p),Ke(b,"TYPE","terminate"),go(u,b),p=new Ns(u,u.j,p),p.M=2,p.A=ka(Zn(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&a.Image&&(new Image().src=p.A,b=!0),b||(p.g=bf(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ia(p)}mf(u)}function Pa(u){u.g&&(Ac(u),u.g.cancel(),u.g=null)}function lf(u){Pa(u),u.v&&(a.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function Ra(u){if(!Uh(u.h)&&!u.m){u.m=!0;var p=u.Ea;L||w(),F||(L(),F=!0),T.add(p,u),u.D=0}}function B_(u,p){return Hh(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=so(d(u.Ea,u,p),pf(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const M=new Ns(this,this.j,u);let j=this.o;if(this.U&&(j?(j=$t(j),Os(j,this.U)):j=this.U),this.u!==null||this.R||(M.J=j,j=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=uf(this,M,p),b=Zn(this.J),Ke(b,"RID",u),Ke(b,"CVER",22),this.G&&Ke(b,"X-HTTP-Session-Id",this.G),go(this,b),j&&(this.R?p="headers="+io(tf(j))+"&"+p:this.u&&Ic(b,this.u,j)),Tc(this.h,M),this.Ra&&Ke(b,"TYPE","init"),this.S?(Ke(b,"$req",p),Ke(b,"SID","null"),M.U=!0,_c(M,b,null)):_c(M,b,p),this.I=2}}else this.I==3&&(u?cf(this,u):this.i.length==0||Uh(this.h)||cf(this))};function cf(u,p){var b;p?b=p.l:b=u.V++;const S=Zn(u.J);Ke(S,"SID",u.M),Ke(S,"RID",b),Ke(S,"AID",u.K),go(u,S),u.u&&u.o&&Ic(S,u.u,u.o),b=new Ns(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),p&&(u.i=p.G.concat(u.i)),p=uf(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Tc(u.h,b),_c(b,S,p)}function go(u,p){u.H&&At(u.H,function(b,S){Ke(p,S,b)}),u.l&&At({},function(b,S){Ke(p,S,b)})}function uf(u,p,b){b=Math.min(u.i.length,b);const S=u.l?d(u.l.Ka,u.l,u):null;e:{var M=u.i;let we=-1;for(;;){const vt=["count="+b];we==-1?b>0?(we=M[0].g,vt.push("ofs="+we)):we=0:vt.push("ofs="+we);let Fe=!0;for(let St=0;St<b;St++){var j=M[St].g;const Wn=M[St].map;if(j-=we,j<0)we=Math.max(0,M[St].g-100),Fe=!1;else try{j="req"+j+"_"||"";try{var X=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Sr,Ms]of X){let zs=Ms;l(Ms)&&(zs=Oe(Ms)),vt.push(j+Sr+"="+encodeURIComponent(zs))}}catch(Sr){throw vt.push(j+"type="+encodeURIComponent("_badmap")),Sr}}catch{S&&S(Wn)}}if(Fe){X=vt.join("&");break e}}X=void 0}return u=u.i.splice(0,b),p.G=u,X}function df(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;L||w(),F||(L(),F=!0),T.add(p,u),u.A=0}}function Cc(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=so(d(u.Da,u),pf(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,hf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=so(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),Pa(this),hf(this))};function Ac(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function hf(u){u.g=new Ns(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Zn(u.na);Ke(p,"RID","rpc"),Ke(p,"SID",u.M),Ke(p,"AID",u.K),Ke(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(p,"TO",u.ia),Ke(p,"TYPE","xmlhttp"),go(u,p),u.u&&u.o&&Ic(p,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ka(Zn(p)),b.u=null,b.R=!0,zh(b,u)}t.Va=function(){this.C!=null&&(this.C=null,Pa(this),Cc(this),Qt(19))};function Oa(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function ff(u,p){var b=null;if(u.g==p){Oa(u),Ac(u),u.g=null;var S=2}else if(wc(u.h,p))b=p.G,qh(u.h,p),S=1;else return;if(u.I!=0){if(p.o)if(S==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var M=u.D;S=xr(),J(S,new Nh(S,b)),Ra(u)}else df(u);else if(M=p.m,M==3||M==0&&p.X>0||!(S==1&&B_(u,p)||S==2&&Cc(u)))switch(b&&b.length>0&&(p=u.h,p.i=p.i.concat(b)),M){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function pf(u,p){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*p}function Er(u,p){if(u.j.info("Error code "+p),p==2){var b=d(u.bb,u),S=u.Ua;const M=!S;S=new Vs(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ao(S,"https"),ka(S),M?$_(S.toString(),b):L_(S.toString(),b)}else Qt(2);u.I=0,u.l&&u.l.pa(p),mf(u),lf(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function mf(u){if(u.I=0,u.ja=[],u.l){const p=Zh(u.h);(p.length!=0||u.i.length!=0)&&(x(u.ja,p),x(u.ja,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.oa()}}function gf(u,p,b){var S=b instanceof Vs?Zn(b):new Vs(b);if(S.g!="")p&&(S.g=p+"."+S.g),lo(S,S.u);else{var M=a.location;S=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const j=new Vs(null);S&&ao(j,S),p&&(j.g=p),M&&lo(j,M),b&&(j.h=b),S=j}return b=u.G,p=u.wa,b&&p&&Ke(S,b,p),Ke(S,"VER",u.ka),go(u,S),S}function bf(u,p,b){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new lt(new Sc({ab:b})):new lt(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yf(){}t=yf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Da(){}Da.prototype.g=function(u,p){return new vn(u,p)};function vn(u,p){Q.call(this),this.g=new af(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!I(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ri(this)}m(vn,Q),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){kc(this.g)},vn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Oe(u),u=b);p.i.push(new C_(p.Ya++,u)),p.I==3&&Ra(p)},vn.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,vn.Z.N.call(this)};function _f(u){ti.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}m(_f,ti);function vf(){Pt.call(this),this.status=1}m(vf,Pt);function ri(u){this.g=u}m(ri,yf),ri.prototype.ra=function(){J(this.g,"a")},ri.prototype.qa=function(u){J(this.g,new _f(u))},ri.prototype.pa=function(u){J(this.g,new vf)},ri.prototype.oa=function(){J(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,_y=function(){return new Da},yy=function(){return xr()},by=Et,Zu={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,rl=Sa,Vh.COMPLETE="complete",gy=Vh,_n.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Q.prototype.listen=Q.prototype.J,Eo=_n,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,my=lt}).apply(typeof Ua<"u"?Ua:typeof self<"u"?self:typeof window<"u"?window:{});const lm="@firebase/firestore",cm="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qi="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new ly("@firebase/firestore");function ci(){return Gr.logLevel}function se(t,...e){if(Gr.logLevel<=Pe.DEBUG){const n=e.map(ah);Gr.debug(`Firestore (${Qi}): ${t}`,...n)}}function As(t,...e){if(Gr.logLevel<=Pe.ERROR){const n=e.map(ah);Gr.error(`Firestore (${Qi}): ${t}`,...n)}}function zi(t,...e){if(Gr.logLevel<=Pe.WARN){const n=e.map(ah);Gr.warn(`Firestore (${Qi}): ${t}`,...n)}}function ah(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vy(t,s,n)}function vy(t,e,n){let s=`FIRESTORE (${Qi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw As(s),new Error(s)}function ot(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||vy(e,r,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class oP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aP{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string",31837,{l:s}),new xy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class lP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class um{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const s=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new um(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new um(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=dP(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function ke(t,e){return t<e?-1:t>e?1:0}function Wu(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return ru(r)===ru(i)?ke(r,i):ru(r)?1:-1}return ke(t.length,e.length)}const hP=55296,fP=57343;function ru(t){const e=t.charCodeAt(0);return e>=hP&&e<=fP}function Fi(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="__name__";class Yn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Yn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return ke(e.length,n.length)}static compareSegments(e,n){const s=Yn.isNumericId(e),r=Yn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Yn.extractNumericId(e).compare(Yn.extractNumericId(n)):Wu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}}class rt extends Yn{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const pP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Yn{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return pP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dm}static keyField(){return new rn([dm])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(rt.fromString(e))}static fromName(e){return new fe(rt.fromString(e).popFirst(5))}static empty(){return new fe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e,n){if(!n)throw new ae(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gP(t,e,n,s){if(e===!0&&s===!0)throw new ae(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hm(t){if(!fe.isDocumentKey(t))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yP(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve(12329,{type:typeof t})}function Gu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yP(t);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function va(t,e){if(!bP(t))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new ae(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=-62135596800,pm=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pm);return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fm)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pm}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(va(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:_t("string",yt._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new yt(0,0))}static max(){return new be(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=-1;function _P(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=be.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new ur(r,fe.empty(),e)}function vP(t){return new ur(t.readTime,t.key,da)}class ur{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ur(be.min(),fe.empty(),da)}static max(){return new ur(be.max(),fe.empty(),da)}}function xP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==wP)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,s)=>{n(e)})}static reject(e){return new H((n,s)=>{s(e)})}static waitFor(e){return new H((n,s)=>{let r=0,i=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},c=>s(c))}),a=!0,i===r&&n()})}static or(e){let n=H.resolve(!1);for(const s of e)n=n.next(r=>r?H.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new H((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&s(a)},h=>r(h))}})}static doWhile(e,n){return new H((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function EP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ac.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=-1;function lc(t){return t==null}function Ku(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="";function IP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mm(e)),e=kP(t.get(n),e);return mm(e)}function kP(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case wy:n+="";break;default:n+=i}}return n}function mm(t){return t+wy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}}class Ha{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=r??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Rt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Rt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bm(this.data.getIterator())}getIteratorFrom(e){return new bm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class bm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Gs([])}unionWith(e){let n=new wt(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fi(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Ty("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const AP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=AP.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hr(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="server_timestamp",Sy="__type__",Iy="__previous_value__",ky="__local_write_time__";function ch(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Sy])==null?void 0:s.stringValue)===Ey}function cc(t){const e=t.mapValue.fields[Iy];return ch(e)?cc(e):e}function ha(t){const e=dr(t.mapValue.fields[ky].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,s,r,i,a,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Dl="(default)";class fa{constructor(e,n){this.projectId=e,this.database=n||Dl}static empty(){return new fa("","")}get isDefaultDatabase(){return this.database===Dl}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="__type__",OP="__max__",qa={mapValue:{}},DP="__vector__",Ju="value";function fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ch(t)?4:VP(t)?9007199254740991:NP(t)?10:11:ve(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=fr(t);if(n!==fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ha(t).isEqual(ha(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=dr(r.timestampValue),l=dr(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return hr(r.bytesValue).isEqual(hr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return pt(r.geoPointValue.latitude)===pt(i.geoPointValue.latitude)&&pt(r.geoPointValue.longitude)===pt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pt(r.integerValue)===pt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=pt(r.doubleValue),l=pt(i.doubleValue);return a===l?Ku(a)===Ku(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Fi(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(gm(a)!==gm(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!ls(a[c],l[c])))return!1;return!0}(t,e);default:return ve(52216,{left:t})}}function pa(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function ji(t,e){if(t===e)return 0;const n=fr(t),s=fr(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=pt(i.integerValue||i.doubleValue),c=pt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ym(t.timestampValue,e.timestampValue);case 4:return ym(ha(t),ha(e));case 5:return Wu(t.stringValue,e.stringValue);case 6:return function(i,a){const l=hr(i),c=hr(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ke(l[d],c[d]);if(h!==0)return h}return ke(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=ke(pt(i.latitude),pt(a.latitude));return l!==0?l:ke(pt(i.longitude),pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _m(t.arrayValue,e.arrayValue);case 10:return function(i,a){var f,g,x,v;const l=i.fields||{},c=a.fields||{},d=(f=l[Ju])==null?void 0:f.arrayValue,h=(g=c[Ju])==null?void 0:g.arrayValue,m=ke(((x=d==null?void 0:d.values)==null?void 0:x.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return m!==0?m:_m(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===qa.mapValue&&a===qa.mapValue)return 0;if(i===qa.mapValue)return 1;if(a===qa.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const f=Wu(c[m],h[m]);if(f!==0)return f;const g=ji(l[c[m]],d[h[m]]);if(g!==0)return g}return ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function ym(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=dr(t),s=dr(e),r=ke(n.seconds,s.seconds);return r!==0?r:ke(n.nanos,s.nanos)}function _m(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=ji(n[r],s[r]);if(i)return i}return ke(n.length,s.length)}function Bi(t){return Qu(t)}function Qu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=dr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Qu(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${Qu(n.fields[a])}`;return r+"}"}(t.mapValue):ve(61005,{value:t})}function il(t){switch(fr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cc(t);return e?16+il(e):16;case 5:return 2*t.stringValue.length;case 6:return hr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+il(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return xa(s.fields,(i,a)=>{r+=i.length+il(a)}),r}(t.mapValue);default:throw ve(13486,{value:t})}}function Yu(t){return!!t&&"integerValue"in t}function uh(t){return!!t&&"arrayValue"in t}function vm(t){return!!t&&"nullValue"in t}function xm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iu(t){return!!t&&"mapValue"in t}function NP(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RP])==null?void 0:s.stringValue)===DP}function Mo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Mo(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mo(t.arrayValue.values[n]);return e}return{...t}}function VP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!iu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(n)}setAll(e){let n=rn.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Mo(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];iu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){xa(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new ns(Mo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ht(e,0,be.min(),be.min(),be.min(),ns.empty(),0)}static newFoundDocument(e,n,s,r){return new Ht(e,1,n,be.min(),s,r,0)}static newNoDocument(e,n){return new Ht(e,2,n,be.min(),be.min(),ns.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,be.min(),be.min(),ns.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.position=e,this.inclusive=n}}function wm(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=fe.comparator(fe.fromName(a.referenceValue),n.key):s=ji(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n="asc"){this.field=e,this.dir=n}}function $P(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{}class xt extends Cy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new MP(e,n,s):n==="array-contains"?new jP(e,s):n==="in"?new BP(e,s):n==="not-in"?new UP(e,s):n==="array-contains-any"?new HP(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zP(e,s):new FP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ji(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cs extends Cy{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cs(e,n)}matches(e){return Ay(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ay(t){return t.op==="and"}function Py(t){return LP(t)&&Ay(t)}function LP(t){for(const e of t.filters)if(e instanceof cs)return!1;return!0}function Xu(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Bi(t.value);if(Py(t))return t.filters.map(e=>Xu(e)).join(",");{const e=t.filters.map(n=>Xu(n)).join(",");return`${t.op}(${e})`}}function Ry(t,e){return t instanceof xt?function(s,r){return r instanceof xt&&s.op===r.op&&s.field.isEqual(r.field)&&ls(s.value,r.value)}(t,e):t instanceof cs?function(s,r){return r instanceof cs&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&Ry(a,r.filters[l]),!0):!1}(t,e):void ve(19439)}function Oy(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bi(n.value)}`}(t):t instanceof cs?function(n){return n.op.toString()+" {"+n.getFilters().map(Oy).join(" ,")+"}"}(t):"Filter"}class MP extends xt{constructor(e,n,s){super(e,n,s),this.key=fe.fromName(s.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class zP extends xt{constructor(e,n){super(e,"in",n),this.keys=Dy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FP extends xt{constructor(e,n){super(e,"not-in",n),this.keys=Dy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dy(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>fe.fromName(s.referenceValue))}class jP extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uh(n)&&pa(n.arrayValue,this.value)}}class BP extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pa(this.value.arrayValue,n)}}class UP extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pa(this.value.arrayValue,n)}}class HP extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>pa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Em(t,e=null,n=[],s=[],r=null,i=null,a=null){return new qP(t,e,n,s,r,i,a)}function dh(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Xu(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),lc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Bi(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Bi(s)).join(",")),e.Te=n}return e.Te}function hh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$P(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ry(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tm(t.startAt,e.startAt)&&Tm(t.endAt,e.endAt)}function ed(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZP(t,e,n,s,r,i,a,l){return new uc(t,e,n,s,r,i,a,l)}function fh(t){return new uc(t)}function Sm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WP(t){return t.collectionGroup!==null}function zo(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new wt(rn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Vl(i,s))}),n.has(rn.keyField().canonicalString())||e.Ie.push(new Vl(rn.keyField(),s))}return e.Ie}function os(t){const e=Re(t);return e.Ee||(e.Ee=GP(e,zo(t))),e.Ee}function GP(t,e){if(t.limitType==="F")return Em(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Vl(r.field,i)});const n=t.endAt?new Nl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Nl(t.startAt.position,t.startAt.inclusive):null;return Em(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function td(t,e,n){return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dc(t,e){return hh(os(t),os(e))&&t.limitType===e.limitType}function Ny(t){return`${dh(os(t))}|lt:${t.limitType}`}function ui(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>Oy(r)).join(", ")}]`),lc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Bi(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Bi(r)).join(",")),`Target(${s})`}(os(t))}; limitType=${t.limitType})`}function hc(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):fe.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of zo(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,c){const d=wm(a,l,c);return a.inclusive?d<=0:d<0}(s.startAt,zo(s),r)||s.endAt&&!function(a,l,c){const d=wm(a,l,c);return a.inclusive?d>=0:d>0}(s.endAt,zo(s),r))}(t,e)}function KP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vy(t){return(e,n)=>{let s=!1;for(const r of zo(t)){const i=JP(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function JP(t,e,n){const s=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?ji(c,d):ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return CP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new mt(fe.comparator);function pr(){return QP}const $y=new mt(fe.comparator);function So(...t){let e=$y;for(const n of t)e=e.insert(n.key,n);return e}function YP(t){let e=$y;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Lr(){return Fo()}function Ly(){return Fo()}function Fo(){return new ei(t=>t.toString(),(t,e)=>t.isEqual(e))}const XP=new wt(fe.comparator);function De(...t){let e=XP;for(const n of t)e=e.add(n);return e}const e3=new wt(ke);function t3(){return e3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function s3(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this._=void 0}}function r3(t,e,n){return t instanceof nd?function(r,i){const a={fields:{[Sy]:{stringValue:Ey},[ky]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ch(i)&&(i=cc(i)),i&&(a.fields[Iy]=i),{mapValue:a}}(n,e):t instanceof $l?My(t,e):t instanceof Ll?zy(t,e):function(r,i){const a=o3(r,i),l=Im(a)+Im(r.Ae);return Yu(a)&&Yu(r.Ae)?s3(l):n3(r.serializer,l)}(t,e)}function i3(t,e,n){return t instanceof $l?My(t,e):t instanceof Ll?zy(t,e):n}function o3(t,e){return t instanceof sd?function(s){return Yu(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class nd extends fc{}class $l extends fc{constructor(e){super(),this.elements=e}}function My(t,e){const n=Fy(e);for(const s of t.elements)n.some(r=>ls(r,s))||n.push(s);return{arrayValue:{values:n}}}class Ll extends fc{constructor(e){super(),this.elements=e}}function zy(t,e){let n=Fy(e);for(const s of t.elements)n=n.filter(r=>!ls(r,s));return{arrayValue:{values:n}}}class sd extends fc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Im(t){return pt(t.integerValue||t.doubleValue)}function Fy(t){return uh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a3(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof $l&&r instanceof $l||s instanceof Ll&&r instanceof Ll?Fi(s.elements,r.elements,ls):s instanceof sd&&r instanceof sd?ls(s.Ae,r.Ae):s instanceof nd&&r instanceof nd}(t.transform,e.transform)}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ol(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ph{}function jy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new c3(t.key,qr.none()):new mh(t.key,t.data,qr.none());{const n=t.data,s=ns.empty();let r=new wt(rn.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new pc(t.key,s,new Gs(r.toArray()),qr.none())}}function l3(t,e,n){t instanceof mh?function(r,i,a){const l=r.value.clone(),c=Cm(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof pc?function(r,i,a){if(!ol(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Cm(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(By(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function jo(t,e,n,s){return t instanceof mh?function(i,a,l,c){if(!ol(i.precondition,a))return l;const d=i.value.clone(),h=Am(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof pc?function(i,a,l,c){if(!ol(i.precondition,a))return l;const d=Am(i.fieldTransforms,c,a),h=a.data;return h.setAll(By(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(i,a,l){return ol(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function km(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Fi(s,r,(i,a)=>a3(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mh extends ph{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pc extends ph{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function By(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Cm(t,e,n){const s=new Map;ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,i3(a,l,n[r]))}return s}function Am(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,r3(i,a,e))}return s}class c3 extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&l3(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Ly();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=jy(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Fi(this.mutations,e.mutations,(n,s)=>km(n,s))&&Fi(this.baseMutations,e.baseMutations,(n,s)=>km(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ae;function Uy(t){if(t===void 0)return As("GRPC error has no .code"),Y.UNKNOWN;switch(t){case gt.OK:return Y.OK;case gt.CANCELLED:return Y.CANCELLED;case gt.UNKNOWN:return Y.UNKNOWN;case gt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case gt.INTERNAL:return Y.INTERNAL;case gt.UNAVAILABLE:return Y.UNAVAILABLE;case gt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case gt.NOT_FOUND:return Y.NOT_FOUND;case gt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case gt.ABORTED:return Y.ABORTED;case gt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case gt.DATA_LOSS:return Y.DATA_LOSS;default:return ve(39323,{code:t})}}(Ae=gt||(gt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new tr([4294967295,4294967295],0);function Pm(t){const e=f3().encode(t),n=new py;return n.update(e),new Uint8Array(n.digest())}function Rm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new tr([n,s],0),new tr([r,i],0)]}class gh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Io(`Invalid padding: ${n}`);if(s<0)throw new Io(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Io(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Io(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=tr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(tr.fromNumber(s)));return r.compare(p3)===1&&(r=new tr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Pm(e),[s,r]=Rm(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new gh(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Pm(e),[s,r]=Rm(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,wa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mc(be.min(),r,new mt(ke),pr(),De())}}class wa{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wa(s,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class Hy{constructor(e,n){this.targetId=e,this.Ce=n}}class qy{constructor(e,n,s=Vt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Om{constructor(){this.ve=0,this.Fe=Dm(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),s=De();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ve(38017,{changeType:i})}}),new wa(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Dm()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class m3{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=Za(),this.He=Za(),this.Ye=new mt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(ed(i))if(s===0){const a=new fe(i.path);this.et(n,a,Ht.newNoDocument(a,be.min()))}else ot(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=hr(s).toUint8Array()}catch(c){if(c instanceof Ty)return zi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new gh(a,r,i)}catch(c){return zi(c instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&ed(l.target)){const c=new fe(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Ht.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let s=De();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const r=new mc(e,n,this.Ye,this.je,s);return this.je=pr(),this.Je=Za(),this.He=Za(),this.Ye=new mt(ke),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Om,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new wt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new wt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Om),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Za(){return new mt(fe.comparator)}function Dm(){return new mt(fe.comparator)}const g3={asc:"ASCENDING",desc:"DESCENDING"},b3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y3={and:"AND",or:"OR"};class _3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rd(t,e){return t.useProto3Json||lc(e)?e:{value:e}}function v3(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ci(t){return ot(!!t,49232),be.fromTimestamp(function(n){const s=dr(n);return new yt(s.seconds,s.nanos)}(t))}function w3(t,e){return id(t,e).canonicalString()}function id(t,e){const n=function(r){return new rt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Zy(t){const e=rt.fromString(t);return ot(Qy(e),10190,{key:e.toString()}),e}function ou(t,e){const n=Zy(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(Gy(n))}function Wy(t,e){return w3(t.databaseId,e)}function T3(t){const e=Zy(t);return e.length===4?rt.emptyPath():Gy(e)}function Nm(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gy(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function E3(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ve(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ot(h===void 0||typeof h=="string",58123),Vt.fromBase64String(h||"")):(ot(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?Y.UNKNOWN:Uy(d.code);return new ae(h,d.message||"")}(a);n=new qy(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=ou(t,s.document.name),i=Ci(s.document.updateTime),a=s.document.createTime?Ci(s.document.createTime):be.min(),l=new ns({mapValue:{fields:s.document.fields}}),c=Ht.newFoundDocument(r,i,a,l),d=s.targetIds||[],h=s.removedTargetIds||[];n=new al(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=ou(t,s.document),i=s.readTime?Ci(s.readTime):be.min(),a=Ht.newNoDocument(r,i),l=s.removedTargetIds||[];n=new al([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=ou(t,s.document),i=s.removedTargetIds||[];n=new al([],i,r,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new h3(r,i),l=s.targetId;n=new Hy(l,a)}}return n}function S3(t,e){return{documents:[Wy(t,e.path)]}}function I3(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Wy(t,r);const i=function(d){if(d.length!==0)return Jy(cs.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(f){return{field:di(f.field),direction:A3(f.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=rd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function k3(t){let e=T3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){ot(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const f=Ky(m);return f instanceof cs&&Py(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(f=>function(x){return new Vl(hi(x.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(m){let f;return f=typeof m=="object"?m.value:m,lc(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(m){const f=!!m.before,g=m.values||[];return new Nl(g,f)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const f=!m.before,g=m.values||[];return new Nl(g,f)}(n.endAt)),ZP(e,r,a,i,l,"F",c,d)}function C3(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ky(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=hi(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=hi(n.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hi(n.unaryFilter.field);return xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hi(n.unaryFilter.field);return xt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return xt.create(hi(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cs.create(n.compositeFilter.filters.map(s=>Ky(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(n.compositeFilter.op))}(t):ve(30097,{filter:t})}function A3(t){return g3[t]}function P3(t){return b3[t]}function R3(t){return y3[t]}function di(t){return{fieldPath:t.canonicalString()}}function hi(t){return rn.fromServerFormat(t.fieldPath)}function Jy(t){return t instanceof xt?function(n){if(n.op==="=="){if(xm(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NAN"}};if(vm(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xm(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NOT_NAN"}};if(vm(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:di(n.field),op:P3(n.op),value:n.value}}}(t):t instanceof cs?function(n){const s=n.getFilters().map(r=>Jy(r));return s.length===1?s[0]:{compositeFilter:{op:R3(n.op),filters:s}}}(t):ve(54877,{filter:t})}function Qy(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,s,r,i=be.min(),a=be.min(),l=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.yt=e}}function D3(t){const e=k3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.Cn=new V3}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ur.min())}updateCollectionGroup(e,n,s){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class V3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new wt(rt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new wt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yy=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Yy,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ui(0)}static cr(){return new Ui(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="LruGarbageCollector",$3=1048576;function Lm([t,e],[n,s]){const r=ke(t,n);return r===0?ke(e,s):r}class L3{constructor(e){this.Ir=e,this.buffer=new wt(Lm),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Lm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se($m,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yi(n)?se($m,"Ignoring IndexedDB error during garbage collection: ",n):await oc(n)}await this.Vr(3e5)})}}class z3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return H.resolve(ac.ce);const s=new L3(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Vm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vm):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,a,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,a=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(s=m,l=Date.now(),this.removeTargets(e,s,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(d=Date.now(),ci()<=Pe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:m})))}}function F3(t,e){return new z3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.changes=new ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?H.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&jo(s.mutation,r,Gs.empty(),yt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,De()).next(()=>s))}getLocalViewOfDocuments(e,n,s=De()){const r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let a=So();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=Lr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,De()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let i=pr();const a=Fo(),l=function(){return Fo()}();return n.forEach((c,d)=>{const h=s.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof pc)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),jo(h.mutation,d,h.mutation.getFieldMask(),yt.now())):a.set(d.key,Gs.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>l.set(d,new B3(h,a.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=Fo();let r=new mt((a,l)=>a-l),i=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||Gs.empty();h=l.applyToLocalView(d,h),s.set(c,h);const m=(r.get(l.batchId)||De()).add(c);r=r.insert(l.batchId,m)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=Ly();h.forEach(f=>{if(!i.has(f)){const g=jy(n.get(f),s.get(f));g!==null&&m.set(f,g),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):H.resolve(Lr());let l=da,c=i;return a.next(d=>H.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,De())).next(h=>({batchId:l,changes:YP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(s=>{let r=So();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=So();return this.indexManager.getCollectionParents(e,i).next(l=>H.forEach(l,c=>{const d=function(m,f){return new uc(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(h=>{h.forEach((m,f)=>{a=a.insert(m,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,Ht.newInvalidDocument(h)))});let l=So();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&jo(h.mutation,d,Gs.empty(),yt.now()),hc(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ci(r.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:D3(r.bundledQuery),readTime:Ci(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.overlays=new mt(fe.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Lr();return H.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),H.resolve()}getOverlaysForCollection(e,n,s){const r=Lr(),i=n.length+1,a=new fe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return H.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new mt((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=i.get(d.largestBatchId);h===null&&(h=Lr(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Lr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=r)););return H.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new d3(n,s));let i=this.qr.get(n);i===void 0&&(i=De(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.Qr=new wt(It.$r),this.Ur=new wt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new It(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new fe(new rt([])),s=new It(n,e),r=new It(n,e+1),i=[];return this.Ur.forEachInRange([s,r],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new rt([])),s=new It(n,e),r=new It(n,e+1);let i=De();return this.Ur.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new It(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new wt(It.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new u3(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new It(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?SP:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new It(n,0),r=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],a=>{const l=this.Xr(a.Yr);i.push(l)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new wt(ke);return n.forEach(r=>{const i=new It(r,0),a=new It(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{s=s.add(l.Yr)})}),H.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;fe.isDocumentKey(i)||(i=i.child(""));const a=new It(new fe(i),0);let l=new wt(ke);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(c.Yr)),!0)},a),H.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return H.forEach(n.mutations,r=>{const i=new It(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new It(n,0),r=this.Zr.firstAfterOrEqual(s);return H.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.ri=e,this.docs=function(){return new mt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return H.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Ht.newInvalidDocument(r))}),H.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=pr();const a=n.path,l=new fe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||xP(vP(h),s)<=0||(r.has(h.key)||hc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,s,r){ve(9500)}ii(e,n){return H.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new K3(this)}getSize(e){return H.resolve(this.size)}}class K3 extends j3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.persistence=e,this.si=new ei(n=>dh(n),hh),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new bh,this.targetCount=0,this.ai=Ui.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ui(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),H.waitFor(i).next(()=>r)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return H.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),H.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(e,a))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return H.resolve(s)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.ui={},this.overlays={},this.ci=new ac(0),this.li=!1,this.li=!0,this.hi=new Z3,this.referenceDelegate=e(this),this.Pi=new J3(this),this.indexManager=new N3,this.remoteDocumentCache=function(r){return new G3(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new O3(n),this.Ii=new H3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new W3(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const r=new Q3(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class Q3 extends TP{constructor(e){super(),this.currentSequenceNumber=e}}class yh{constructor(e){this.persistence=e,this.Ri=new bh,this.Vi=null}static mi(e){return new yh(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),H.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,s=>{const r=fe.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ml{constructor(e,n){this.persistence=e,this.pi=new ei(s=>IP(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=F3(this,n)}static mi(e,n){return new Ml(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?H.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,i.removeEntry(a,be.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=il(e.data.value)),n}br(e,n,s){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return H.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=De(),r=De();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _h(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return MC()?8:EP($C())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new Y3;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(ci()<=Pe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(ci()<=Pe.DEBUG&&se("QueryEngine","Query:",ui(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(ci()<=Pe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(n))):H.resolve())}ys(e,n){if(Sm(n))return H.resolve(null);let s=os(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=td(n,null,"F"),s=os(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const a=De(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,a,c.readTime)?this.ys(e,td(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,s,r){return Sm(n)||r.isEqual(be.min())?H.resolve(null):this.ps.getDocuments(e,s).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,s,r)?H.resolve(null):(ci()<=Pe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ui(n)),this.vs(e,a,n,_P(r,da)).next(l=>l))})}Ds(e,n){let s=new wt(Vy(e));return n.forEach((r,i)=>{hc(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return ci()<=Pe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",ui(n)),this.ps.getDocumentsMatchingQuery(e,n,ur.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="LocalStore",e5=3e8;class t5{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new mt(ke),this.xs=new ei(i=>dh(i),hh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function n5(t,e,n,s){return new t5(t,e,n,s)}async function e_(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let c=De();for(const d of r){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:l}))})})}function t_(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function s5(t,e){const n=Re(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((h,m)=>{const f=r.get(m);if(!f)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,m)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Vt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,s)),r=r.insert(m,g),function(v,A,O){return v.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=e5?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(f,g,h)&&l.push(n.Pi.updateTargetData(i,g))});let c=pr(),d=De();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(r5(i,a,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!s.isEqual(be.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(h)}return H.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=r,i))}function r5(t,e,n){let s=De(),r=De();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let a=pr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):se(vh,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:a,qs:r}})}function i5(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,H.resolve(r)):n.Pi.allocateTargetId(s).next(a=>(r=new Ks(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function od(t,e,n){const s=Re(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Yi(a))throw a;se(vh,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Mm(t,e,n){const s=Re(t);let r=be.min(),i=De();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const m=Re(c),f=m.xs.get(h);return f!==void 0?H.resolve(m.Ms.get(f)):m.Pi.getTargetData(d,h)}(s,a,os(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:be.min(),n?i:De())).next(l=>(o5(s,KP(e),l),{documents:l,Qs:i})))}function o5(t,e,n){let s=t.Os.get(e)||be.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class zm{constructor(){this.activeTargetIds=t3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a5{constructor(){this.Mo=new zm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="ConnectivityMonitor";class jm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(Fm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(Fm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa=null;function ad(){return Wa===null?Wa=function(){return 268435456+Math.round(2147483648*Math.random())}():Wa++,"0x"+Wa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="RestConnection",c5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Dl?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const a=ad(),l=this.zo(e,n.toUriEncodedString());se(au,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,i);const{host:d}=new URL(l),h=ih(d);return this.Jo(e,l,c,s,h).then(m=>(se(au,`Received RPC '${e}' ${a}: `,m),m),m=>{throw zi(au,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",s),m})}Ho(e,n,s,r,i,a){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=c5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class h5 extends u5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const a=ad();return new Promise((l,c)=>{const d=new my;d.setWithCredentials(!0),d.listenOnce(gy.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case rl.NO_ERROR:const m=d.getResponseJson();se(Ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case rl.TIMEOUT:se(Ft,`RPC '${e}' ${a} timed out`),c(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case rl.HTTP_ERROR:const f=d.getStatus();if(se(Ft,`RPC '${e}' ${a} failed with status:`,f,"response text:",d.getResponseText()),f>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const v=function(O){const N=O.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(N)>=0?N:Y.UNKNOWN}(x.status);c(new ae(v,x.message))}else c(new ae(Y.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{se(Ft,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(r);se(Ft,`RPC '${e}' ${a} sending request:`,r),d.send(n,"POST",h,s,15)})}T_(e,n,s){const r=ad(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_y(),l=yy(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=i.join("");se(Ft,`Creating RPC '${e}' stream ${r}: ${h}`,c);const m=a.createWebChannel(h,c);this.I_(m);let f=!1,g=!1;const x=new d5({Yo:A=>{g?se(Ft,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(f||(se(Ft,`Opening RPC '${e}' stream ${r} transport.`),m.open(),f=!0),se(Ft,`RPC '${e}' stream ${r} sending:`,A),m.send(A))},Zo:()=>m.close()}),v=(A,O,N)=>{A.listen(O,$=>{try{N($)}catch(R){setTimeout(()=>{throw R},0)}})};return v(m,Eo.EventType.OPEN,()=>{g||(se(Ft,`RPC '${e}' stream ${r} transport opened.`),x.o_())}),v(m,Eo.EventType.CLOSE,()=>{g||(g=!0,se(Ft,`RPC '${e}' stream ${r} transport closed`),x.a_(),this.E_(m))}),v(m,Eo.EventType.ERROR,A=>{g||(g=!0,zi(Ft,`RPC '${e}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),x.a_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),v(m,Eo.EventType.MESSAGE,A=>{var O;if(!g){const N=A.data[0];ot(!!N,16349);const $=N,R=($==null?void 0:$.error)||((O=$[0])==null?void 0:O.error);if(R){se(Ft,`RPC '${e}' stream ${r} received error:`,R);const L=R.status;let F=function(_){const E=gt[_];if(E!==void 0)return Uy(E)}(L),T=R.message;F===void 0&&(F=Y.INTERNAL,T="Unknown error status: "+L+" with message "+R.message),g=!0,x.a_(new ae(F,T)),m.close()}else se(Ft,`RPC '${e}' stream ${r} received:`,N),x.u_(N)}}),v(l,by.STAT_EVENT,A=>{A.stat===Zu.PROXY?se(Ft,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===Zu.NOPROXY&&se(Ft,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function lu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){return new _3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="PersistentStream";class f5{constructor(e,n,s,r,i,a,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new ae(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se(Bm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se(Bm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p5 extends f5{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E3(this.serializer,e),s=function(i){if(!("targetChange"in i))return be.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?Ci(a.readTime):be.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Nm(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=ed(c)?{documents:S3(i,c)}:{query:I3(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=x3(i,a.resumeToken);const d=rd(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(be.min())>0){l.readTime=v3(i,a.snapshotVersion.toTimestamp());const d=rd(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=C3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Nm(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{}class g5 extends m5{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,id(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(Y.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,id(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(Y.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class b5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="RemoteStore";class y5{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{Ea(this)&&(se(Hi,"Restarting streams for network reachability change."),await async function(c){const d=Re(c);d.Ea.add(4),await Ta(d),d.Ra.set("Unknown"),d.Ea.delete(4),await gc(d)}(this))})}),this.Ra=new b5(s,r)}}async function gc(t){if(Ea(t))for(const e of t.da)await e(!0)}async function Ta(t){for(const e of t.da)await e(!1)}function r_(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Eh(n)?Th(n):Xi(n).O_()&&wh(n,e))}function xh(t,e){const n=Re(t),s=Xi(n);n.Ia.delete(e),s.O_()&&i_(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Ra.set("Unknown"))}function wh(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xi(t).Y_(e)}function i_(t,e){t.Va.Ue(e),Xi(t).Z_(e)}function Th(t){t.Va=new m3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xi(t).start(),t.Ra.ua()}function Eh(t){return Ea(t)&&!Xi(t).x_()&&t.Ia.size>0}function Ea(t){return Re(t).Ea.size===0}function o_(t){t.Va=void 0}async function _5(t){t.Ra.set("Online")}async function v5(t){t.Ia.forEach((e,n)=>{wh(t,e)})}async function x5(t,e){o_(t),Eh(t)?(t.Ra.ha(e),Th(t)):t.Ra.set("Unknown")}async function w5(t,e,n){if(t.Ra.set("Online"),e instanceof qy&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){se(Hi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Um(t,s)}else if(e instanceof al?t.Va.Ze(e):e instanceof Hy?t.Va.st(e):t.Va.tt(e),!n.isEqual(be.min()))try{const s=await t_(t.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),i_(i,c);const m=new Ks(h.target,c,d,h.sequenceNumber);wh(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){se(Hi,"Failed to raise snapshot:",s),await Um(t,s)}}async function Um(t,e,n){if(!Yi(e))throw e;t.Ea.add(1),await Ta(t),t.Ra.set("Offline"),n||(n=()=>t_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Hi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gc(t)})}async function Hm(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),se(Hi,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await Ta(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gc(n)}async function T5(t,e){const n=Re(t);e?(n.Ea.delete(2),await gc(n)):e||(n.Ea.add(2),await Ta(n),n.Ra.set("Unknown"))}function Xi(t){return t.ma||(t.ma=function(n,s,r){const i=Re(n);return i.sa(),new p5(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:_5.bind(null,t),t_:v5.bind(null,t),r_:x5.bind(null,t),H_:w5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Eh(t)?Th(t):t.Ra.set("Unknown")):(await t.ma.stop(),o_(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new Sh(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(t,e){if(As("AsyncQueue",`${e}: ${t}`),Yi(t))return new ae(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{static emptySet(e){return new Ai(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||fe.comparator(n.key,s.key):(n,s)=>fe.comparator(n.key,s.key),this.keyedMap=So(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ai;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.ga=new mt(fe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class qi{constructor(e,n,s,r,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new qi(e,n,Ai.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class S5{constructor(){this.queries=Zm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Re(n),i=r.queries;r.queries=Zm(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function Zm(){return new ei(t=>Ny(t),dc)}async function I5(t,e){const n=Re(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new E5,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=a_(a,`Initialization of query '${ui(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Ih(n)}async function k5(t,e){const n=Re(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function C5(t,e){const n=Re(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(r)&&(s=!0);a.wa=r}}s&&Ih(n)}function A5(t,e,n){const s=Re(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Ih(t){t.Ca.forEach(e=>{e.next()})}var ld,Wm;(Wm=ld||(ld={})).Ma="default",Wm.Cache="cache";class P5{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new qi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.key=e}}class c_{constructor(e){this.key=e}}class R5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=Vy(e),this.tu=new Ai(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new qm,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,m)=>{const f=r.get(h),g=hc(this.query,m)?m:null,x=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;f&&g?f.data.isEqual(g.data)?x!==v&&(s.track({type:3,doc:g}),A=!0):this.su(f,g)||(s.track({type:2,doc:g}),A=!0,(c&&this.eu(g,c)>0||d&&this.eu(g,d)<0)&&(l=!0)):!f&&g?(s.track({type:0,doc:g}),A=!0):f&&!g&&(s.track({type:1,doc:f}),A=!0,(c||d)&&(l=!0)),A&&(g?(a=a.add(g),i=v?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{tu:a,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,m)=>function(g,x){const v=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:A})}};return v(g)-v(x)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new qi(this.query,e.tu,i,a,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new c_(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new l_(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kh="SyncEngine";class O5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class D5{constructor(e){this.key=e,this.hu=!1}}class N5{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ei(l=>Ny(l),dc),this.Iu=new Map,this.Eu=new Set,this.du=new mt(fe.comparator),this.Au=new Map,this.Ru=new bh,this.Vu={},this.mu=new Map,this.fu=Ui.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V5(t,e,n=!0){const s=p_(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await u_(s,e,n,!0),r}async function $5(t,e){const n=p_(t);await u_(n,e,!0,!1)}async function u_(t,e,n,s){const r=await i5(t.localStore,os(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await L5(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&r_(t.remoteStore,r),l}async function L5(t,e,n,s,r){t.pu=(m,f,g)=>async function(v,A,O,N){let $=A.view.ru(O);$.Cs&&($=await Mm(v.localStore,A.query,!1).then(({documents:T})=>A.view.ru(T,$)));const R=N&&N.targetChanges.get(A.targetId),L=N&&N.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges($,v.isPrimaryClient,R,L);return Km(v,A.targetId,F.au),F.snapshot}(t,m,f,g);const i=await Mm(t.localStore,e,!0),a=new R5(e,i.Qs),l=a.ru(i.documents),c=wa.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=a.applyChanges(l,t.isPrimaryClient,c);Km(t,n,d.au);const h=new O5(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function M5(t,e,n){const s=Re(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(a=>!dc(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await od(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&xh(s.remoteStore,r.targetId),cd(s,r.targetId)}).catch(oc)):(cd(s,r.targetId),await od(s.localStore,r.targetId,!0))}async function z5(t,e){const n=Re(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xh(n.remoteStore,s.targetId))}async function d_(t,e){const n=Re(t);try{const s=await s5(n.localStore,e);e.targetChanges.forEach((r,i)=>{const a=n.Au.get(i);a&&(ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?ot(a.hu,14607):r.removedDocuments.size>0&&(ot(a.hu,42227),a.hu=!1))}),await f_(n,s,e)}catch(s){await oc(s)}}function Gm(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=Re(a);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const f of m.Sa)f.va(l)&&(d=!0)}),d&&Ih(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function F5(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new mt(fe.comparator);a=a.insert(i,Ht.newNoDocument(i,be.min()));const l=De().add(i),c=new mc(be.min(),new Map,new mt(ke),a,l);await d_(s,c),s.du=s.du.remove(i),s.Au.delete(e),Ch(s)}else await od(s.localStore,e,!1).then(()=>cd(s,e,n)).catch(oc)}function cd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||h_(t,s)})}function h_(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ch(t))}function Km(t,e,n){for(const s of n)s instanceof l_?(t.Ru.addReference(s.key,e),j5(t,s)):s instanceof c_?(se(kh,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||h_(t,s.key)):ve(19791,{wu:s})}function j5(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(se(kh,"New document in limbo: "+n),t.Eu.add(s),Ch(t))}function Ch(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new fe(rt.fromString(e)),s=t.fu.next();t.Au.set(s,new D5(n)),t.du=t.du.insert(n,s),r_(t.remoteStore,new Ks(os(fh(n.path)),s,"TargetPurposeLimboResolution",ac.ce))}}async function f_(t,e,n){const s=Re(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{a.push(s.pu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){r.push(d);const m=_h.As(c.targetId,d);i.push(m)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(c,d){const h=Re(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,f=>H.forEach(f.Es,g=>h.persistence.referenceDelegate.addReference(m,f.targetId,g)).next(()=>H.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(m,f.targetId,g)))))}catch(m){if(!Yi(m))throw m;se(vh,"Failed to update sequence numbers: "+m)}for(const m of d){const f=m.targetId;if(!m.fromCache){const g=h.Ms.get(f),x=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(f,v)}}}(s.localStore,i))}async function B5(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){se(kh,"User change. New user:",e.toKey());const s=await e_(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new ae(Y.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await f_(n,s.Ls)}}function U5(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return De().add(s.key);{let r=De();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function p_(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F5.bind(null,e),e.Pu.H_=C5.bind(null,e.eventManager),e.Pu.yu=A5.bind(null,e.eventManager),e}class zl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=n_(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return n5(this.persistence,new X3,e.initialUser,this.serializer)}Cu(e){return new Xy(yh.mi,this.serializer)}Du(e){return new a5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zl.provider={build:()=>new zl};class H5 extends zl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof Ml,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new M3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Xy(s=>Ml.mi(s,n),this.serializer)}}class ud{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B5.bind(null,this.syncEngine),await T5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S5}()}createDatastore(e){const n=n_(e.databaseInfo.databaseId),s=function(i){return new h5(i)}(e.databaseInfo);return function(i,a,l,c){return new g5(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,a,l){return new y5(s,r,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Gm(this.syncEngine,n,0),function(){return jm.v()?new jm:new l5}())}createSyncEngine(e,n){return function(r,i,a,l,c,d,h){const m=new N5(r,i,a,l,c,d);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=Re(r);se(Hi,"RemoteStore shutting down."),i.Ea.add(5),await Ta(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ud.provider={build:()=>new ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class Z5{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Bt.UNAUTHENTICATED,this.clientId=lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{se(mr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(se(mr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=a_(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function cu(t,e){t.asyncQueue.verifyOperationInProgress(),se(mr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await e_(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W5(t);se(mr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Hm(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Hm(e.remoteStore,r)),t._onlineComponents=e}async function W5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(mr,"Using user provided OfflineComponentProvider");try{await cu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===Y.FAILED_PRECONDITION||r.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;zi("Error using user provided cache. Falling back to memory cache: "+n),await cu(t,new zl)}}else se(mr,"Using default OfflineComponentProvider"),await cu(t,new H5(void 0));return t._offlineComponents}async function G5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(mr,"Using user provided OnlineComponentProvider"),await Jm(t,t._uninitializedComponentsProvider._online)):(se(mr,"Using default OnlineComponentProvider"),await Jm(t,new ud))),t._onlineComponents}async function K5(t){const e=await G5(t),n=e.eventManager;return n.onListen=V5.bind(null,e.syncEngine),n.onUnlisten=M5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z5.bind(null,e.syncEngine),n}function J5(t,e,n={}){const s=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new q5({next:f=>{h.Nu(),a.enqueueAndForget(()=>k5(i,m));const g=f.docs.has(l);!g&&f.fromCache?d.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?d.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),m=new P5(fh(l.path),h,{includeMetadataChanges:!0,qa:!0});return I5(i,m)}(await K5(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="firestore.googleapis.com",Ym=!0;class Xm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g_,this.ssl=Ym}else this.host=e.host,this.ssl=e.ssl??Ym;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$3)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m_(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iP;switch(s.type){case"firstParty":return new cP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Qm.get(n);s&&(se("ComponentProvider","Removing Datastore"),Qm.delete(n),s.terminate())}(this),Promise.resolve()}}function Q5(t,e,n,s={}){var d;t=Gu(t,Ah);const r=ih(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(RC(`https://${l}`),VC("Firestore",!0)),i.host!==g_&&i.host!==l&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:r,emulatorOptions:s};if(!Pl(c,a)&&(t._setSettings(c),s.mockUserToken)){let h,m;if(typeof s.mockUserToken=="string")h=s.mockUserToken,m=Bt.MOCK_USER;else{h=OC(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const f=s.mockUserToken.sub||s.mockUserToken.user_id;if(!f)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Bt(f)}t._authCredentials=new oP(new xy(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ph(this.firestore,e,this._query)}}class on{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(va(n,on._jsonSchema))return new on(e,s||null,new fe(rt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:_t("string",on._jsonSchemaVersion),referencePath:_t("string")};class ma extends Ph{constructor(e,n,s){super(e,n,fh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new fe(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Y5(t,e,...n){if(t=HC(t),arguments.length===1&&(e=lh.newId()),mP("doc","path",e),t instanceof Ah){const s=rt.fromString(e,...n);return hm(s),new on(t,null,new fe(s))}{if(!(t instanceof on||t instanceof ma))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return hm(s),new on(t.firestore,t instanceof ma?t.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="AsyncQueue";class tg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s_(this,"async_queue_retry"),this._c=()=>{const s=lu();s&&se(eg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=lu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Hr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yi(e))throw e;se(eg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",ng(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Sh.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&ve(47125,{Pc:ng(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ng(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class b_ extends Ah{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new tg,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tg(e),this._firestoreClient=void 0,await e}}}function X5(t,e){const n=typeof t=="object"?t:ZA(),s=typeof t=="string"?t:Dl,r=jA(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=AC("firestore");i&&Q5(r,...i)}return r}function eR(t){if(t._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tR(t),t._firestoreClient}function tR(t){var s,r,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new PP(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,m_(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Z5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ss(Vt.fromBase64String(e))}catch(n){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ss(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ss._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(va(e,ss._jsonSchema))return ss.fromBase64String(e.bytes)}}ss._jsonSchemaVersion="firestore/bytes/1.0",ss._jsonSchema={type:_t("string",ss._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(va(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:_t("string",nr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(va(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new sr(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:_t("string",sr._jsonSchemaVersion),vectorValues:_t("object")};const nR=new RegExp("[~\\*/\\[\\]]");function sR(t,e,n){if(e.search(nR)>=0)throw sg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new y_(...e.split("."))._internalPath}catch{throw sg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function sg(t,e,n,s,r){let i=`Function ${e}() called with invalid data`;i+=". ";let a="";return new ae(Y.INVALID_ARGUMENT,i+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rR extends __{data(){return super.data()}}function v_(t,e){return typeof e=="string"?sR(t,e):e instanceof y_?e._internalPath:e._delegate._internalPath}class iR{convertValue(e,n="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xa(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Ju].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>pt(a.doubleValue));return new sr(n)}convertGeoPoint(e){return new nr(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ha(e));default:return null}}convertTimestamp(e){const n=dr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);ot(Qy(s),9688,{name:e});const r=new fa(s.get(1),s.get(3)),i=new fe(s.popFirst(5));return r.isEqual(n)||As(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zr extends __{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(v_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:_t("string",Zr._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class ll extends Zr{data(e={}){return super.data(e)}}class Bo{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ko(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ll(this._firestore,this._userDataWriter,s.key,s,new ko(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new ll(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ko(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new ll(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ko(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:oR(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){t=Gu(t,on);const e=Gu(t.firestore,b_);return J5(eR(e),t._key).then(n=>cR(e,t,n))}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:_t("string",Bo._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class lR extends iR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ss(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function cR(t,e,n){const s=n.docs.get(e._key),r=new lR(t);return new Zr(t,r,e._key,s,new ko(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Qi=r})(qA),Ol(new ca("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new b_(new aP(s.getProvider("auth-internal")),new uP(a,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(d.options.projectId,h)}(a,r),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ki(lm,cm,e),ki(lm,cm,"esm2020")})();let Ga,dd;const uR=t=>(Ga||(Ga=dy(t),dd=X5(Ga)),Ga),dR=async t=>{if(!dd)throw new Error("Firebase not initialized. Call initFirebase first.");try{const e=Y5(dd,"decks",t),n=await aR(e);if(n.exists()){const s=n.data();return{meta:s.meta,slides:s.slides}}else return console.log("No such document!"),null}catch(e){throw console.error("Error getting document: ",e),e}},hR={key:0,class:"w-full h-screen bg-black overflow-hidden relative z-[9999]"},fR={key:0,class:"absolute inset-0 flex items-center justify-center bg-black z-50"},pR={key:1,class:"absolute inset-0 flex items-center justify-center bg-black z-50"},mR={class:"text-center max-w-md px-6"},gR={class:"text-white/50 mb-6"},bR={key:1,class:"min-h-screen pt-24 px-8 flex flex-col items-center justify-center text-center relative overflow-hidden"},yR={class:"flex flex-col md:flex-row gap-6 mb-24 relative z-10"},_R={id:"home-demo",class:"w-full max-w-[1400px] mx-auto relative z-10 mb-32 text-left px-8"},vR={class:"bg-[#050505] border border-white/10 rounded-3xl overflow-hidden shadow-2xl flex flex-col h-[700px] relative group ring-1 ring-white/5"},xR={class:"flex-1 flex flex-col md:flex-row overflow-hidden relative"},wR={class:"w-full md:w-3/4 h-full relative bg-black border-r border-white/10 order-2 md:order-1"},TR={key:0,class:"absolute inset-0 flex items-center justify-center text-white/10 pointer-events-none"},ER={class:"w-full md:w-1/4 h-48 md:h-full flex flex-col bg-[#080808] order-1 md:order-2"},SR={class:"px-4 py-3 text-[10px] font-bold text-blue-400/50 flex justify-between items-center border-b border-white/5 bg-blue-500/5 shrink-0"},IR={key:0,class:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"},rg=`{
  "meta": { "title": "Home Demo" },
  "slides": [
    {
      "type": "half",
      "sizing": "container",
      "meta": {
        "orbColor": "#8b5cf6"
      },
      "imageSide": "left",
      "image": "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2000",
      "tag": "Left Aligned",
      "title": "Image on Left",
      "paragraphs": [
        "The classic split screen. Image on the left, content on the right.",
        "Perfect for introducing a product or feature where the visual context leads the narrative."
      ],
      "cta": "Explore Left"
    },
    {
      "type": "statement",
      "sizing": "container",
      "meta": {
        "orbColor": "#ec4899"
      },
      "tag": "Minimal",
      "title": "Impactful Headlines",
      "subtitle": "The standard statement slide allows for massive typography to drive a point home."
    },
    {
      "type": "features",
      "sizing": "container",
      "title": "Grid System",
      "description": "The features layout automatically arranges cards into a responsive grid.",
      "features": [
        { "title": "Card One", "desc": "Standard card with an icon.", "icon": "fa-bolt" },
        { "title": "Card Two", "desc": "Cards scale on hover.", "icon": "fa-star" },
        { "title": "Card Three", "desc": "Fully responsive on mobile.", "icon": "fa-mobile" }
      ]
    },
    {
      "type": "timeline",
      "sizing": "container",
      "title": "Project History",
      "subtitle": "A visual journey through our milestones.",
      "timeline": [
        { "date": "Q1 2023", "title": "Inception", "description": "The initial concept was drafted." },
        { "date": "Q3 2023", "title": "Prototype", "description": "First functional MVP released." },
        { "date": "Q1 2024", "title": "Beta Launch", "description": "Public beta opened to users." }
      ]
    }
  ]
}`,kR=Ne({__name:"SiteHome",emits:["navigate"],setup(t){const e=de(""),n=de(!1);let s=null,r=null;const i=de(!1),a=de(!1),l=de(null),c={apiKey:"AIzaSyBdXdSj1HVd84vZrwxUVON5FAIWsRuWZNo",authDomain:"lumina-slides.firebaseapp.com",projectId:"lumina-slides",storageBucket:"lumina-slides.firebasestorage.app",messagingSenderId:"308455940060",appId:"1:308455940060:web:6f346ae1c4a19dcf773919"};function d(){const f=document.getElementById("home-demo");f&&f.scrollIntoView({behavior:"smooth"})}async function h(){if(e.value="",n.value=!0,!s){const x=document.getElementById("home-demo-container");x&&(x.innerHTML=""),await Ss(),s=new Wr("#home-demo-container",{ui:{visible:!0,showControls:!0},keyboard:!1,animation:{enabled:!0,durationIn:.5}})}let f=0;const g=setInterval(()=>{e.value+=rg[f],f++,f>=rg.length&&clearInterval(g)},15)}Bn(e,f=>{if(!s)return;const g=sh(f);if(g)if(g.slides&&Array.isArray(g.slides)){g.slides.forEach(v=>v.sizing="container"),s.load(g);const x=g.slides.filter(v=>v.title||v.type);if(x.length>0){const v=x.length-1;v>s.currentSlideIndex&&s.goTo(v)}}else s.load({meta:{title:"Demo"},slides:[{...g,sizing:"container"}]})});const m=async f=>{i.value=!0;try{uR(c);const g=await dR(f);g?(a.value=!0,await Ss(),setTimeout(()=>{r=new Wr("#deck-viewer",{loop:!0,navigation:!0,keyboard:!0,ui:{visible:!0,showControls:!0,showProgressBar:!0,showSlideCount:!0}}),r.load(g),document.body.classList.add("viewing-deck")},100)):l.value="The presentation could not be found. It may have been deleted."}catch(g){console.error(g),l.value="Failed to load presentation. Please try again later."}finally{i.value=!1}};return mn(()=>{const g=new URLSearchParams(window.location.search).get("id");g&&m(g)}),qn(()=>{s&&s.destroy(),r&&r.destroy(),document.body.classList.remove("viewing-deck")}),(f,g)=>i.value||a.value?(V(),z("div",hR,[g[6]||(g[6]=o("div",{id:"deck-viewer",class:"w-full h-full"},null,-1)),i.value?(V(),z("div",fR,[...g[2]||(g[2]=[o("div",{class:"text-center"},[o("i",{class:"fa-solid fa-circle-notch fa-spin text-4xl text-blue-500 mb-4"}),o("p",{class:"text-white/50 animate-pulse"},"Loading presentation...")],-1)])])):ie("",!0),l.value?(V(),z("div",pR,[o("div",mR,[g[3]||(g[3]=o("i",{class:"fa-solid fa-triangle-exclamation text-4xl text-red-500 mb-4"},null,-1)),g[4]||(g[4]=o("h3",{class:"text-xl font-bold text-white mb-2"},"Presentation Not Found",-1)),o("p",gR,te(l.value),1),g[5]||(g[5]=o("a",{href:"./",class:"px-6 py-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition"}," Go Home ",-1))])])):ie("",!0)])):(V(),z("div",bR,[g[12]||(g[12]=Ya('<div class="absolute top-0 left-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-[100px] pointer-events-none"></div><div class="absolute bottom-0 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-[100px] pointer-events-none"></div><h1 class="text-6xl md:text-8xl font-heading font-bold mb-6 tracking-tight relative z-10"> The Interface Layer<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400">for the Agentic Era.</span></h1><p class="text-xl md:text-2xl text-white/60 max-w-2xl mb-12 leading-relaxed relative z-10"> Turn text into high-performance UI. A deterministic, declarative engine specifically designed for LLM output. </p>',4)),o("div",yR,[o("button",{onClick:g[0]||(g[0]=x=>f.$emit("navigate","docs")),class:"px-8 py-4 rounded-full bg-white text-black text-lg font-bold hover:scale-105 transition duration-300 shadow-xl shadow-white/10"}," Read the Protocol "),o("button",{onClick:d,class:"px-8 py-4 rounded-full bg-white/10 border border-white/20 hover:bg-white/20 text-white text-lg font-bold backdrop-blur-md transition duration-300"}," Try the Demo ")]),o("div",_R,[o("div",vR,[o("div",{class:"h-12 bg-[#0A0A0A] border-b border-white/5 flex items-center px-4 justify-between shrink-0"},[g[8]||(g[8]=Ya('<div class="flex gap-2"><div class="w-3 h-3 rounded-full bg-red-500/20"></div><div class="w-3 h-3 rounded-full bg-yellow-500/20"></div><div class="w-3 h-3 rounded-full bg-green-500/20"></div></div><div class="text-xs font-mono text-white/20 uppercase tracking-widest hidden md:block">Agent Preview Environment</div>',2)),o("button",{onClick:h,class:"px-4 py-1.5 rounded-full bg-blue-500 hover:bg-blue-400 text-white font-bold text-[10px] uppercase tracking-wide shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2"},[...g[7]||(g[7]=[o("i",{class:"fa-solid fa-play"},null,-1),y(" Simulate Stream ",-1)])])]),o("div",xR,[o("div",wR,[g[10]||(g[10]=o("div",{id:"home-demo-container",class:"w-full h-full"},null,-1)),n.value?ie("",!0):(V(),z("div",TR,[...g[9]||(g[9]=[o("div",{class:"text-center"},[o("i",{class:"fa-solid fa-layer-group text-6xl mb-6 opacity-50"}),o("p",{class:"text-lg font-light"},"Waiting for Agent...")],-1)])]))]),o("div",ER,[o("div",SR,[g[11]||(g[11]=o("span",null,"INCOMING JSON STREAM",-1)),n.value?(V(),z("div",IR)):ie("",!0)]),Zi(o("textarea",{"onUpdate:modelValue":g[1]||(g[1]=x=>e.value=x),class:"flex-1 bg-transparent p-4 font-mono text-xs text-green-400 resize-none focus:outline-none leading-relaxed",placeholder:"// Waiting for LLM output...",spellcheck:"false"},null,512),[[Wi,e.value]])])])])]),g[13]||(g[13]=Ya('<div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl w-full text-left pb-24 relative z-10"><div class="p-8 rounded-3xl bg-white/5 border border-white/10 hover:border-blue-500/30 transition duration-500 group"><div class="w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center mb-6 text-blue-400 group-hover:scale-110 transition"><i class="fa-solid fa-bolt text-xl"></i></div><h3 class="text-xl font-bold mb-3 text-white">Zero Hallucinations</h3><p class="text-white/50 leading-relaxed">Stop hoping the LLM generates valid HTML/CSS. Give it a strict schema and get pixel-perfect results every time.</p></div><div class="p-8 rounded-3xl bg-white/5 border border-white/10 hover:border-purple-500/30 transition duration-500 group"><div class="w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center mb-6 text-purple-400 group-hover:scale-110 transition"><i class="fa-solid fa-brain text-xl"></i></div><h3 class="text-xl font-bold mb-3">Semantic Layouts</h3><p class="text-white/50 leading-relaxed">Agents don&#39;t need to be designers. They just choose &quot;Timeline&quot; or &quot;Features&quot;, and the engine handles the aesthetics.</p></div><div class="p-8 rounded-3xl bg-white/5 border border-white/10 hover:border-green-500/30 transition duration-500 group"><div class="w-12 h-12 rounded-xl bg-green-500/10 flex items-center justify-center mb-6 text-green-400 group-hover:scale-110 transition"><i class="fa-solid fa-tower-broadcast text-xl"></i></div><h3 class="text-xl font-bold mb-3">Realtime Streaming</h3><p class="text-white/50 leading-relaxed">Our partial JSON parser renders UI frames <i>while</i> the LLM is still typing. No loading spinners.</p></div></div>',1))]))}}),CR={class:"min-h-screen pt-32 px-8 max-w-7xl mx-auto"},AR={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},PR=["href","onClick"],RR={class:"aspect-video bg-gradient-to-br from-gray-800 to-black group-hover:scale-105 transition duration-700 flex items-center justify-center"},OR={class:"text-4xl"},DR={class:"p-6 relative z-10 bg-black/80 backdrop-blur-sm -mt-2"},NR={class:"text-xl font-bold mb-2"},VR={class:"text-sm text-white/60 mb-4 h-10"},$R=Ne({__name:"SiteExamples",emits:["select-deck"],setup(t){const e=[{id:"deck",title:"Feature Showcase",description:"A comprehensive tour of all major features.",icon:""},{id:"layout-statement",title:"Statement Layout",description:"Bold typography for impactful messages.",icon:""},{id:"layout-half",title:"Split Layout",description:"Classic text and image pairing.",icon:""},{id:"layout-features",title:"Feature Grid",description:"Responsive grids for feature lists.",icon:""},{id:"layout-timeline",title:"Timeline",description:"Vertical chronological sequence.",icon:""},{id:"layout-steps",title:"Process Steps",description:"Horizontal sequential flow.",icon:""},{id:"layout-flex-demo",title:"Flex Layout",description:"Flow-based composition for LLMs.",icon:""},{id:"layout-video",title:"Video & Media",description:"Cinematic backgrounds and video elements.",icon:""},{id:"layout-chart",title:"Chart Layout",description:"Data visualization with Chart.js.",icon:""},{id:"layout-custom",title:"Custom HTML",description:"Full control with raw HTML/CSS.",icon:""},{id:"layout-embedded",title:"Embedded Widget",description:"Container-sized, perfect for embedding.",icon:""},{id:"theme-default",title:"Theme: Default",description:"Clean blue on dark. Professional.",icon:""},{id:"theme-ocean",title:"Theme: Ocean",description:"Cyan on slate. Calm and professional.",icon:""},{id:"theme-midnight",title:"Theme: Midnight",description:"Indigo on black. Bold and dramatic.",icon:""},{id:"theme-forest",title:"Theme: Forest",description:"Emerald greens for eco-friendly vibes.",icon:""},{id:"theme-cyber",title:"Theme: Cyber",description:"Neon pink futuristic with sci-fi fonts.",icon:""},{id:"theme-latte",title:"Theme: Latte",description:"Light mode with warm amber accents.",icon:""},{id:"theme-sunset",title:"Theme: Sunset",description:"Orange to rose gradient warmth.",icon:""},{id:"theme-monochrome",title:"Theme: Monochrome",description:"Pure black and white elegance.",icon:""},{id:"theme-custom-example",title:"Custom Theme",description:"Full ThemeConfig with 80+ options.",icon:""}],n="/lumina-slides/";return(s,r)=>(V(),z("div",CR,[r[1]||(r[1]=o("h2",{class:"text-4xl font-bold mb-12 text-center"},"Interactive Examples",-1)),o("div",AR,[(V(),z(Ee,null,et(e,i=>o("a",{key:i.id,href:Qe(n)+"?deck="+i.id,class:"group relative rounded-2xl overflow-hidden border border-white/10 bg-white/5 hover:border-blue-500/50 transition duration-500 cursor-pointer",onClick:tn(a=>s.$emit("select-deck",i.id),["prevent"])},[o("div",RR,[o("span",OR,te(i.icon),1)]),o("div",DR,[o("h3",NR,te(i.title),1),o("p",VR,te(i.description),1),r[0]||(r[0]=o("div",{class:"flex items-center text-blue-400 text-sm font-bold uppercase tracking-wider group-hover:translate-x-2 transition"},[y(" View Demo "),o("span",{class:"ml-2"},"")],-1))])],8,PR)),64))])]))}}),LR={class:"flex flex-col lg:flex-row gap-6 h-[600px] lg:h-[400px] not-prose"},MR={class:"w-full lg:w-1/3 flex flex-col bg-[#0f0f0f] border border-white/10 rounded-xl overflow-hidden"},zR={class:"bg-white/5 px-4 py-2 border-b border-white/10 flex justify-between items-center"},FR={key:0,class:"text-xs text-red-400"},jt=Ne({__name:"LivePreview",props:{initialCode:{}},setup(t){const e=t,n=de(e.initialCode),s=de(null),r=`preview-${Math.random().toString(36).substr(2,9)}`;let i=null;function a(){i&&i.destroy();const d=document.getElementById(r);d&&(d.innerHTML=""),i=new Wr(`#${r}`,{ui:{visible:!0,showControls:!0,showProgressBar:!1},keyboard:!1,animation:{enabled:!0,durationIn:.5}}),l()}function l(){if(i)try{const d=sh(n.value);d&&typeof d=="object"&&(Array.isArray(d.slides)?(d.slides.forEach(h=>h.sizing="container"),i.load(d)):i.load({meta:{title:"Preview"},slides:[{...d,sizing:"container"}]}),s.value=null)}catch{}}function c(){n.value=e.initialCode}return Bn(n,()=>{l()}),mn(()=>{setTimeout(()=>{a()},100)}),qn(()=>{i&&i.destroy()}),(d,h)=>(V(),z("div",LR,[o("div",MR,[o("div",zR,[h[1]||(h[1]=o("span",{class:"text-xs font-bold text-white/50 uppercase tracking-wider"},"JSON Editor",-1)),s.value?(V(),z("span",FR,te(s.value),1)):ie("",!0)]),Zi(o("textarea",{"onUpdate:modelValue":h[0]||(h[0]=m=>n.value=m),class:"flex-1 bg-transparent p-4 font-mono text-xs text-blue-300 resize-none focus:outline-none leading-relaxed",spellcheck:"false"},null,512),[[Wi,n.value]])]),o("div",{class:"w-full lg:w-2/3 bg-black border border-white/10 rounded-xl overflow-hidden relative group"},[o("div",{id:r,class:"w-full h-full"}),o("button",{onClick:c,class:"absolute top-4 right-4 px-3 py-1.5 bg-black/50 hover:bg-black/80 text-white/50 hover:text-white text-xs rounded-lg backdrop-blur-sm border border-white/10 transition opacity-0 group-hover:opacity-100"},[...h[2]||(h[2]=[o("i",{class:"fa-solid fa-rotate-left mr-1"},null,-1),y(" Reset ",-1)])])])]))}}),jR={class:"min-h-screen pt-32 px-6 md:px-12 max-w-8xl mx-auto flex flex-col md:flex-row gap-16"},BR={class:"w-full md:w-64 flex-shrink-0 hidden md:block"},UR={class:"sticky top-32 space-y-10"},HR={class:"text-xs font-bold uppercase tracking-widest text-white/30 mb-4 pl-3"},qR={class:"space-y-1 relative border-l border-white/5"},ZR=["onClick"],WR={class:"flex-1 w-full min-w-0 pb-32"},GR={key:0},KR={class:"my-8"},JR={class:"my-6"},QR={class:"my-6"},YR={key:1},XR={key:2},e6={key:3},t6={key:4},n6={key:5},s6={key:6},r6={key:7},i6={key:8},o6={key:9},a6={key:10},l6={key:11},c6={key:12},u6={key:13},d6={class:"not-prose my-12"},h6={class:"bg-[#050505] border border-white/10 rounded-2xl overflow-hidden shadow-2xl flex flex-col h-[800px] relative group"},f6={class:"w-full h-48 flex flex-col bg-gray-900 border-b border-white/10 relative z-10"},p6={class:"bg-white/5 px-4 py-2 text-xs font-bold text-white/50 flex justify-between items-center"},m6={key:0,class:"text-xs text-white/20 mr-32"},g6={class:"w-full flex-1 relative bg-black min-h-[300px]"},b6={key:0,class:"absolute inset-0 flex items-center justify-center text-white/20"},y6={key:14},_6={class:"space-y-12 mt-12"},v6={class:"bg-[#0A0A0A] border border-white/10 rounded-xl overflow-hidden p-6"},x6={class:"flex justify-between items-center mb-4"},w6={class:"!mb-0 !bg-black/50"},T6={class:"bg-[#0A0A0A] border border-white/10 rounded-xl overflow-hidden p-6"},E6={class:"flex justify-between items-center mb-4"},S6={class:"!mb-0 !bg-black/50"},I6={class:"bg-[#0A0A0A] border border-white/10 rounded-xl overflow-hidden p-6"},k6={class:"flex justify-between items-center mb-4"},C6={class:"!mb-0 !bg-black/50"},A6={key:15},P6={key:16},R6={key:17},O6={class:"my-8"},D6={key:18},N6={class:"my-8"},V6={key:19},$6={class:"my-8"},L6={key:20},M6={class:"my-8"},z6={key:21},F6={class:"my-8"},j6={key:22},B6={class:"my-8"},U6={key:23},H6={class:"my-12"},q6={class:"space-y-12"},Z6={class:"p-6 rounded-2xl bg-white/[0.02] border border-white/5"},W6={class:"p-6 rounded-2xl bg-white/[0.02] border border-white/5"},G6={class:"p-6 rounded-2xl bg-white/[0.02] border border-white/5"},K6={class:"p-6 rounded-2xl bg-white/[0.02] border border-white/5"},J6={class:"my-12"},Q6={key:24},Y6={class:"my-8"},X6={key:25},eO={class:"my-8"},ig=`{
  "meta": { "title": "Lumina Demo" },
  "slides": [
    {
      "type": "half",
      "sizing": "container",
      "meta": {
        "orbColor": "#8b5cf6"
      },
      "imageSide": "left",
      "image": "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2000",
      "tag": "Left Aligned",
      "title": "Image on Left",
      "paragraphs": [
        "The classic split screen. Image on the left, content on the right.",
        "Perfect for introducing a product or feature where the visual context leads the narrative."
      ],
      "cta": "Explore Left"
    },
    {
      "type": "statement",
      "sizing": "container",
      "meta": {
        "orbColor": "#ec4899"
      },
      "tag": "Minimal",
      "title": "Impactful Headlines",
      "subtitle": "The standard statement slide allows for massive typography to drive a point home."
    },
    {
      "type": "features",
      "sizing": "container",
      "title": "Grid System",
      "description": "The features layout automatically arranges cards into a responsive grid.",
      "features": [
        { "title": "Card One", "desc": "Standard card with an icon.", "icon": "fa-bolt" },
        { "title": "Card Two", "desc": "Cards scale on hover.", "icon": "fa-star" },
        { "title": "Card Three", "desc": "Fully responsive on mobile.", "icon": "fa-mobile" }
      ]
    },
    {
      "type": "timeline",
      "sizing": "container",
      "title": "Project History",
      "subtitle": "A visual journey through our milestones.",
      "timeline": [
        { "date": "Q1 2023", "title": "Inception", "description": "The initial concept was drafted." },
        { "date": "Q3 2023", "title": "Prototype", "description": "First functional MVP released." },
        { "date": "Q1 2024", "title": "Beta Launch", "description": "Public beta opened to users." }
      ]
    }
  ]
}`,tO=Ne({__name:"SiteDocs",setup(t){const e=de("intro"),n=de(""),s=de(!1);let r=null;async function i(){if(n.value="",s.value=!0,!r){const g=document.getElementById("streaming-demo-container");g&&(g.innerHTML=""),Ss(()=>{r=new Wr("#streaming-demo-container",{ui:{visible:!0,showControls:!0},keyboard:!1,animation:{enabled:!0,durationIn:.5}})})}let m=0;const f=setInterval(()=>{n.value+=ig[m],m++,m>=ig.length&&clearInterval(f)},10)}function a(m){e.value="agents-streaming",window.scrollTo({top:0,behavior:"smooth"}),n.value="",s.value=!0,setTimeout(()=>{if(!r){const x=document.getElementById("streaming-demo-container");x&&(x.innerHTML=""),r=new Wr("#streaming-demo-container",{ui:{visible:!0},keyboard:!1,animation:{enabled:!0,durationIn:.5}})}let f=0;const g=setInterval(()=>{n.value+=m[f],f++,f>=m.length&&clearInterval(g)},5)},100)}const l={statement:`{
  "type": "statement",
  "sizing": "container",
  "t": "Big Impact",
  "s": "Created instantly from JSON.",
  "meta": { "variant": "v:g" }
}`,features:`{
  "type": "features",
  "sizing": "container",
  "t": "Core Capabilities",
  "fs": [
    { "t": "Fast", "desc": "60fps", "icon": "bolt" },
    { "t": "AI", "desc": "Native", "icon": "robot" },
    { "t": "Typed", "desc": "TS", "icon": "code" }
  ]
}`,timeline:`{
  "type": "timeline",
  "sizing": "container",
  "t": "Product Roadmap",
  "tl": [
    { "date": "Q1", "t": "Alpha", "desc": "Core Engine" },
    { "date": "Q2", "t": "Beta", "desc": "Public API" },
    { "date": "Q3", "t": "Launch", "desc": "Global Scale" }
  ]
}`,half:`{
  "type": "half",
  "sizing": "container",
  "imageSide": "left",
  "image": "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2000",
  "t": "Split Layout",
  "tag": "Visual",
  "paragraphs": ["Image on left, text on right."]
}`,steps:`{
  "type": "steps",
  "sizing": "container",
  "t": "Process Flow",
  "steps": [
    { "step": "01", "t": "Install", "desc": "npm install" },
    { "step": "02", "t": "Import", "desc": "import { Lumina }..." },
    { "step": "03", "t": "Launch", "desc": "new Lumina(...)" }
  ]
}`,flex:`{
  "type": "flex",
  "sizing": "container",
  "direction": "horizontal",
  "elements": [
    { "type": "image", "src": "./brains.png", "size": "half", "fill": true },
    { "type": "content", "size": "half", "valign": "center", "padding": "xl", "gap": "md", "elements": [
      { "type": "title", "text": "Visual Story", "size": "2xl" },
      { "type": "bullets", "items": ["Image fills height", "Content centered", "No coordinates"] },
      { "type": "button", "label": "Learn More", "variant": "primary" }
    ]}
  ]
}`,video:`{
  "type": "statement",
  "sizing": "container",
  "meta": { "orbColor": "#ec4899" },
  "background": {
    "type": "video",
    "src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",
    "opacity": 0.4
  },
  "tag": "Cinematic",
  "title": "Video Backgrounds",
  "subtitle": "Immersive support."
}`,video_half:`{
  "type": "half",
  "sizing": "container",
  "video": {
    "type": "video",
    "src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",
    "autoplay": true,
    "muted": true
  },
  "title": "Watch This"
}`,video_flex:`{
  "type": "flex",
  "sizing": "container",
  "elements": [
    { 
      "type": "video", 
      "src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
      "controls": true,
      "size": "half"
    }
  ]
}`};Bn(n,m=>{if(!r)return;const f=sh(m);if(f)if(f.slides&&Array.isArray(f.slides)){f.slides.forEach(v=>v.sizing="container"),r.load(f);const x=f.slides.filter(v=>v.title||v.type).length-1;x>r.currentSlideIndex&&r.goTo(x)}else r.load({meta:{title:"Demo"},slides:[{...f,sizing:"container"}]})}),qn(()=>{r&&r.destroy()});const c=[{title:"Getting Started",items:[{id:"intro",label:"Introduction"},{id:"install",label:"Installation"},{id:"setup",label:"Quick Start"},{id:"theming",label:"Theming & Presets"}]},{title:"Concepts",items:[{id:"deck",label:"Deck Structure"},{id:"slides",label:"Slide Layouts"},{id:"media",label:"Media & Video"},{id:"sizing",label:"Embedding & Sizing"},{id:"agents-intro",label:"Agent Protocol"},{id:"agents-tokens",label:"Token Optimization"}]},{title:"Layouts",items:[{id:"ref-statement",label:"Statement"},{id:"ref-half",label:"Half / Split"},{id:"ref-features",label:"Features"},{id:"ref-timeline",label:"Timeline"},{id:"ref-steps",label:"Steps"},{id:"ref-flex",label:"Flex"},{id:"ref-chart",label:"Chart"},{id:"ref-custom",label:"Custom HTML"},{id:"ref-auto",label:"Auto Strategy"}]},{title:"AI & LLM Integration",items:[{id:"agents-streaming",label:"Streaming & Realtime"},{id:"agents-intro",label:"Agent Protocol"},{id:"agents-tokens",label:"Token Optimization"}]},{title:"Advanced",items:[{id:"config",label:"Configuration"},{id:"events",label:"Events & API"},{id:"sizing",label:"Embedding"},{id:"speaker-notes",label:"Speaker Notes"}]}];function d(m){Ss(()=>{const f=document.getElementById(m);f&&f.scrollIntoView({behavior:"smooth",block:"center"})})}function h(){window.scrollTo({top:0,behavior:"smooth"})}return(m,f)=>(V(),z("div",jR,[o("aside",BR,[o("div",UR,[(V(),z(Ee,null,et(c,(g,x)=>o("div",{key:x},[o("h3",HR,te(g.title),1),o("ul",qR,[(V(!0),z(Ee,null,et(g.items,v=>(V(),z("li",{key:v.id},[o("button",{onClick:A=>{e.value=v.id,h()},class:ce(["group w-full text-left px-4 py-2 text-sm transition-all duration-300 border-l-2 -ml-[1px]",e.value===v.id?"border-blue-500 text-white font-medium bg-blue-500/5":"border-transparent text-white/50 hover:text-white hover:border-white/20"])},te(v.label),11,ZR)]))),128))])])),64))])]),o("main",WR,[Te(Qo,{name:"fade",mode:"out-in"},{default:fn(()=>[(V(),z("div",{key:e.value,class:"doc-content max-w-6xl"},[e.value==="media"?(V(),z("div",GR,[f[5]||(f[5]=o("h1",null,"Media & Video",-1)),f[6]||(f[6]=o("p",{class:"lead"},"Lumina supports rich media experiences, including full-screen video backgrounds and inline video elements.",-1)),f[7]||(f[7]=o("h2",null,"Video Backgrounds",-1)),f[8]||(f[8]=o("p",null,[y("You can add a cinematic feel to any slide by using a video background. This works on "),o("strong",null,"all layouts"),y(". ")],-1)),o("div",KR,[Te(jt,{"initial-code":l.video},null,8,["initial-code"])]),f[9]||(f[9]=o("h2",null,"Video Elements",-1)),f[10]||(f[10]=o("p",null,"In 'Flex' and 'Half' layouts, you can use video instead of images.",-1)),f[11]||(f[11]=o("h3",null,"In Half Layout",-1)),o("div",JR,[Te(jt,{"initial-code":l.video_half},null,8,["initial-code"])]),f[12]||(f[12]=o("h3",null,"In Flex Layout",-1)),o("div",QR,[Te(jt,{"initial-code":l.video_flex},null,8,["initial-code"])])])):e.value==="intro"?(V(),z("div",YR,[...f[13]||(f[13]=[o("h1",null,"Introduction",-1),o("p",{class:"lead text-2xl text-white font-light"}," Lumina is a high-performance, Universal Presentation Engine. ",-1),o("p",null,[y(" Unlike traditional tools that trap your content in proprietary file formats, Lumina defines presentations as "),o("strong",null,"pure JSON data"),y(". This approach enables programmatic generation, easy version control, and dynamic storytelling experiences. ")],-1),o("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6 my-12 not-prose"},[o("div",{class:"group p-8 bg-white/[0.02] hover:bg-white/[0.04] rounded-2xl border border-white/5 hover:border-white/10 transition-all duration-500 hover:-translate-y-1 shadow-lg hover:shadow-2xl hover:shadow-blue-500/5"},[o("div",{class:"w-12 h-12 rounded-full bg-yellow-500/10 flex items-center justify-center mb-6"},[o("i",{class:"fa-solid fa-bolt text-xl text-yellow-400"})]),o("h3",{class:"text-xl font-bold mb-2 text-white group-hover:text-yellow-400 transition-colors"}," Fast by default"),o("p",{class:"text-sm text-white/50 leading-relaxed"},"Bundles Vue 3 and GSAP internally to ensure instant load times and buttery smooth 60fps animations.")]),o("div",{class:"group p-8 bg-white/[0.02] hover:bg-white/[0.04] rounded-2xl border border-white/5 hover:border-white/10 transition-all duration-500 hover:-translate-y-1 shadow-lg hover:shadow-2xl hover:shadow-blue-500/5"},[o("div",{class:"w-12 h-12 rounded-full bg-blue-500/10 flex items-center justify-center mb-6"},[o("i",{class:"fa-solid fa-code text-xl text-blue-400"})]),o("h3",{class:"text-xl font-bold mb-2 text-white group-hover:text-blue-400 transition-colors"}," Declarative JSON"),o("p",{class:"text-sm text-white/50 leading-relaxed"},"Manage your content as code. Git-diff your presentations. Generate decks from APIs.")])],-1)])])):e.value==="install"?(V(),z("div",XR,[...f[14]||(f[14]=[o("h1",null,"Installation",-1),o("p",null,"Lumina is available as a Universal NPM package. It works in any JavaScript environment (Vanilla, React, Vue, Svelte, etc.) without external dependencies.",-1),o("div",{class:"not-prose my-8"},[o("div",{class:"bg-[#0f0f0f] border border-white/10 rounded-xl overflow-hidden shadow-2xl"},[o("div",{class:"flex items-center px-4 py-2 border-b border-white/5 bg-white/[0.02]"},[o("div",{class:"flex gap-1.5"},[o("div",{class:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),o("div",{class:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),o("div",{class:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]),o("div",{class:"ml-4 text-xs text-white/30 font-mono"},"Terminal")]),o("div",{class:"p-6 overflow-x-auto"},[o("code",{class:"font-mono text-sm"},[o("span",{class:"text-purple-400"},"npm"),y(" install lumina-slides ")])])])],-1),o("h3",null,"Requirements",-1),o("ul",null,[o("li",null,[o("strong",null,"Node.js 18+"),y(" (For development)")]),o("li",null,[o("strong",null,"That's it!"),y(" (Vue and GSAP are bundled)")])],-1)])])):e.value==="setup"?(V(),z("div",e6,[...f[15]||(f[15]=[o("h1",null,"Quick Start",-1),o("p",null,"Import the stylesheet and initialize the engine in your main entry file. ",-1),o("pre",{class:"language-js"},[o("code",null,[o("span",{class:"text-purple-400"},"import"),y(" { Lumina } "),o("span",{class:"text-purple-400"},"from"),y(` 'lumina-slides';
`),o("span",{class:"text-purple-400"},"import"),y(` 'lumina-slides/dist/style.css';

`),o("span",{class:"text-gray-500"},"// Initialize seamlessly in any app"),y(`
`),o("span",{class:"text-blue-400"},"const"),y(" engine = "),o("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
    loop: `),o("span",{class:"text-yellow-400"},"true"),y(`,
    theme: 'ocean' 
});

`),o("span",{class:"text-gray-500"},"// Load your deck"),y(`
engine.load(myDeckData);`)])],-1)])])):e.value==="deck"?(V(),z("div",t6,[...f[16]||(f[16]=[o("h1",null,"Deck Structure",-1),o("p",null,'A "Deck" is a simple JSON object containing metadata and an array of slides.',-1),o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"meta"'),y(`: {
    `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"My Awesome Presentation"'),y(`,
    `),o("span",{class:"text-blue-400"},'"author"'),y(": "),o("span",{class:"text-green-400"},'"Dev Team"'),y(`
  },
  `),o("span",{class:"text-blue-400"},'"slides"'),y(`: [
     `),o("span",{class:"text-gray-500"},"// Slide objects go here..."),y(`
  ]
}`)])],-1)])])):e.value==="slides"?(V(),z("div",n6,[...f[17]||(f[17]=[o("h1",null,"Slide Layouts",-1),o("p",null,"Lumina comes with several built-in responsive layouts to handle common presentation scenarios handled elegantly.",-1),o("div",{class:"grid grid-cols-1 gap-12 mt-12 not-prose"},[o("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[o("div",{class:"flex items-center gap-4 mb-6"},[o("div",{class:"w-10 h-10 rounded-lg bg-blue-500/20 text-blue-400 flex items-center justify-center font-bold text-lg"}," 1"),o("div",null,[o("h2",{class:"text-2xl font-bold text-white mb-1"},"Statement"),o("p",{class:"text-sm text-white/50"},"High impact text for big ideas. Ideal for section headers or punchlines.")])]),o("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"statement"'),y(`,
  `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Hello World"'),y(`,
  `),o("span",{class:"text-blue-400"},'"subtitle"'),y(": "),o("span",{class:"text-green-400"},'"This is a statement slide."'),y(`
}`)])])])]),o("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[o("div",{class:"flex items-center gap-4 mb-6"},[o("div",{class:"w-10 h-10 rounded-lg bg-purple-500/20 text-purple-400 flex items-center justify-center font-bold text-lg"}," 2"),o("div",null,[o("h2",{class:"text-2xl font-bold text-white mb-1"},"Half / Split"),o("p",{class:"text-sm text-white/50"},[y("Image on one side, content on the other. Supports "),o("code",null,"left"),y(" or "),o("code",null,"right"),y(" alignment.")])])]),o("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"half"'),y(`,
  `),o("span",{class:"text-blue-400"},'"imageSide"'),y(": "),o("span",{class:"text-green-400"},'"right"'),y(`,
  `),o("span",{class:"text-blue-400"},'"image"'),y(": "),o("span",{class:"text-green-400"},'"/assets/demo.jpg"'),y(`,
  `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Split Layout"'),y(`,
  `),o("span",{class:"text-blue-400"},'"paragraphs"'),y(": ["),o("span",{class:"text-green-400"},'"Content goes here."'),y(`]
}`)])])])]),o("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[o("div",{class:"flex items-center gap-4 mb-6"},[o("div",{class:"w-10 h-10 rounded-lg bg-yellow-500/20 text-yellow-400 flex items-center justify-center font-bold text-lg"}," 3"),o("div",null,[o("h2",{class:"text-2xl font-bold text-white mb-1"},"Features"),o("p",{class:"text-sm text-white/50"},"A balanced grid of feature cards with icons. ")])]),o("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"features"'),y(`,
  `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Core Features"'),y(`,
  `),o("span",{class:"text-blue-400"},'"features"'),y(`: [
    { `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Fast"'),y(", "),o("span",{class:"text-blue-400"},'"icon"'),y(": "),o("span",{class:"text-green-400"},'"fa-bolt"'),y(", "),o("span",{class:"text-blue-400"},'"desc"'),y(": "),o("span",{class:"text-green-400"},'"60fps"'),y(` }
  ]
}`)])])])]),o("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[o("div",{class:"flex items-center gap-4 mb-6"},[o("div",{class:"w-10 h-10 rounded-lg bg-green-500/20 text-green-400 flex items-center justify-center font-bold text-lg"}," 4"),o("div",null,[o("h2",{class:"text-2xl font-bold text-white mb-1"},"Timeline"),o("p",{class:"text-sm text-white/50"},"Displays chronological events in a horizontal scrolling view.")])]),o("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"timeline"'),y(`,
  `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"History"'),y(`,
  `),o("span",{class:"text-blue-400"},'"timeline"'),y(`: [
    { `),o("span",{class:"text-blue-400"},'"date"'),y(": "),o("span",{class:"text-green-400"},'"2024"'),y(", "),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Launch"'),y(", "),o("span",{class:"text-blue-400"},'"description"'),y(": "),o("span",{class:"text-green-400"},'"V1 Released"'),y(` }
  ]
}`)])])])]),o("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[o("div",{class:"flex items-center gap-4 mb-6"},[o("div",{class:"w-10 h-10 rounded-lg bg-cyan-500/20 text-cyan-400 flex items-center justify-center font-bold text-lg"}," 5"),o("div",null,[o("h2",{class:"text-2xl font-bold text-white mb-1"},"Grid"),o("p",{class:"text-sm text-white/50"},"Flexible grid-based layout. Position elements with row/col. LLM-friendly.")])]),o("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"grid"'),y(`,
  `),o("span",{class:"text-blue-400"},'"gridSize"'),y(": "),o("span",{class:"text-yellow-400"},"4"),y(`,
  `),o("span",{class:"text-blue-400"},'"elements"'),y(`: [
    { `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"title"'),y(", "),o("span",{class:"text-blue-400"},'"text"'),y(": "),o("span",{class:"text-green-400"},'"Hello"'),y(", "),o("span",{class:"text-blue-400"},'"row"'),y(": "),o("span",{class:"text-yellow-400"},"1"),y(", "),o("span",{class:"text-blue-400"},'"col"'),y(": "),o("span",{class:"text-yellow-400"},"1"),y(", "),o("span",{class:"text-blue-400"},'"colSpan"'),y(": "),o("span",{class:"text-yellow-400"},"4"),y(` }
  ]
}`)])])])])],-1)])])):e.value==="sizing"?(V(),z("div",s6,[...f[18]||(f[18]=[o("h1",null,"Embedding & Sizing",-1),o("p",null,[y("By default, Lumina slides take up the full viewport height ("),o("code",null,"100vh"),y(") to create an immersive experience.")],-1),o("p",null,"However, if you want to embed a slide inside a smaller container (e.g., a dashboard widget or a blog post card), you can change the sizing mode.",-1),o("h3",null,"Container Mode",-1),o("p",null,[y("Set the "),o("code",null,"sizing"),y(" property to "),o("code",null,"'container'"),y(" in your slide data. This tells the engine to respect the parent container's height instead of forcing full screen. ")],-1),o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"timeline"'),y(`,
  `),o("span",{class:"text-blue-400"},'"sizing"'),y(": "),o("span",{class:"text-green-400"},'"container"'),y(", "),o("span",{class:"text-gray-500"},'// Default is "viewport"'),y(`
  `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Project History"'),y(`,
  `),o("span",{class:"text-blue-400"},'"timeline"'),y(`: [...]
}`)])],-1),o("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[o("h4",{class:"text-yellow-400 font-bold mb-2"},[o("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tip ")]),o("p",{class:"text-sm text-yellow-200/80 m-0"},[y("When using 'container' mode, ensure the parent element has a defined height (e.g., "),o("code",null,"h-96"),y(" or fixed pixels), otherwise the slide content might collapse or expand unexpectedly.")])],-1)])])):e.value==="config"?(V(),z("div",r6,[...f[19]||(f[19]=[o("h1",null,"Configuration",-1),o("p",null,[y("Pass these options to the "),o("code",null,"new Lumina()"),y(" constructor to customize behavior.")],-1),o("div",{class:"mt-12 space-y-12"},[o("div",null,[o("h2",{class:"text-white text-2xl font-bold mb-4"},"Animation Options"),o("pre",null,[o("code",null,[y(`animation: {
    `),o("span",{class:"text-blue-400"},"enabled"),y(": "),o("span",{class:"text-yellow-400"},"true"),y(`,
    `),o("span",{class:"text-blue-400"},"type"),y(": "),o("span",{class:"text-green-400"},"'cascade'"),y(", "),o("span",{class:"text-gray-500"},"// fade, slide, zoom, cascade"),y(`
    `),o("span",{class:"text-blue-400"},"durationIn"),y(": "),o("span",{class:"text-yellow-400"},"0.8"),y(`,
    `),o("span",{class:"text-blue-400"},"stagger"),y(": "),o("span",{class:"text-yellow-400"},"0.1"),y(`
}`)])])]),o("div",null,[o("h2",{class:"text-white text-2xl font-bold mb-4"},"UI Options"),o("pre",null,[o("code",null,[y(`ui: {
    `),o("span",{class:"text-blue-400"},"visible"),y(": "),o("span",{class:"text-yellow-400"},"true"),y(`,
    `),o("span",{class:"text-blue-400"},"showProgressBar"),y(": "),o("span",{class:"text-yellow-400"},"true"),y(`,
    `),o("span",{class:"text-blue-400"},"showControls"),y(": "),o("span",{class:"text-yellow-400"},"false"),y(),o("span",{class:"text-gray-500"},"// Hide arrows"),y(`
}`)])])])],-1)])])):e.value==="events"?(V(),z("div",i6,[...f[20]||(f[20]=[o("h1",null,"Events & API",-1),o("p",null,"Lumina emits events you can listen to for building custom interactivity or analytics.",-1),o("pre",null,[o("code",null,[y(`const engine = new Lumina(...);

`),o("span",{class:"text-gray-500"},"// Listen for slide changes"),y(`
engine.`),o("span",{class:"text-yellow-400"},"on"),y(`('slideChange', (payload) => {
    console.log(\`Now on slide \${payload.index}\`);
});

`),o("span",{class:"text-gray-500"},"// Listen for button clicks inside slides"),y(`
engine.`),o("span",{class:"text-yellow-400"},"on"),y(`('action', (payload) => {
    if (payload.type === 'cta') {
        window.open(payload.value, '_blank');
    }
});`)])],-1)])])):e.value==="theming"?(V(),z("div",o6,[...f[21]||(f[21]=[o("h1",null,"Theming",-1),o("p",{class:"lead"},"Customize colors, fonts, and visual style with built-in presets or create your own theme.",-1),o("div",{class:"my-12"},[o("h2",{class:"text-2xl font-bold text-white mb-6"},"Built-in Presets"),o("p",{class:"text-white/60 mb-8"},"Lumina comes with 8 beautiful theme presets. Pass the preset name as a string to instantly apply a complete look."),o("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 not-prose"},[o("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-blue-500/50 transition-all duration-300"},[o("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#030303"}},[o("span",{class:"text-2xl font-bold",style:{color:"#3b82f6"}},"Lumina")]),o("div",{class:"p-4 bg-black/50"},[o("div",{class:"flex items-center justify-between mb-2"},[o("h3",{class:"font-bold text-white"},"default"),o("div",{class:"flex gap-1"},[o("span",{class:"w-4 h-4 rounded-full",style:{background:"#3b82f6"}}),o("span",{class:"w-4 h-4 rounded-full",style:{background:"#030303"}})])]),o("p",{class:"text-xs text-white/50"},"Clean blue on dark. Professional and modern. ")])]),o("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-cyan-500/50 transition-all duration-300"},[o("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#0f172a"}},[o("span",{class:"text-2xl font-bold",style:{color:"#06b6d4"}},"Lumina")]),o("div",{class:"p-4 bg-black/50"},[o("div",{class:"flex items-center justify-between mb-2"},[o("h3",{class:"font-bold text-white"},"ocean"),o("div",{class:"flex gap-1"},[o("span",{class:"w-4 h-4 rounded-full",style:{background:"#06b6d4"}}),o("span",{class:"w-4 h-4 rounded-full",style:{background:"#0f172a"}})])]),o("p",{class:"text-xs text-white/50"},"Cyan accents on slate. Calm and focused.")])]),o("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-indigo-500/50 transition-all duration-300"},[o("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#000000"}},[o("span",{class:"text-2xl font-bold",style:{color:"#6366f1"}},"Lumina")]),o("div",{class:"p-4 bg-black/50"},[o("div",{class:"flex items-center justify-between mb-2"},[o("h3",{class:"font-bold text-white"},"midnight"),o("div",{class:"flex gap-1"},[o("span",{class:"w-4 h-4 rounded-full",style:{background:"#6366f1"}}),o("span",{class:"w-4 h-4 rounded-full",style:{background:"#000000"}})])]),o("p",{class:"text-xs text-white/50"},"Indigo on pure black. Bold and dramatic.")])]),o("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-emerald-500/50 transition-all duration-300"},[o("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#022c22"}},[o("span",{class:"text-2xl font-bold",style:{color:"#10b981"}},"Lumina")]),o("div",{class:"p-4 bg-black/50"},[o("div",{class:"flex items-center justify-between mb-2"},[o("h3",{class:"font-bold text-white"},"forest"),o("div",{class:"flex gap-1"},[o("span",{class:"w-4 h-4 rounded-full",style:{background:"#10b981"}}),o("span",{class:"w-4 h-4 rounded-full",style:{background:"#022c22"}})])]),o("p",{class:"text-xs text-white/50"},"Emerald green tones. Natural and fresh.")])]),o("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-pink-500/50 transition-all duration-300"},[o("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#18181b"}},[o("span",{class:"text-2xl font-bold",style:{color:"#f472b6","font-family":"'Orbitron', sans-serif"}},"Lumina")]),o("div",{class:"p-4 bg-black/50"},[o("div",{class:"flex items-center justify-between mb-2"},[o("h3",{class:"font-bold text-white"},"cyber"),o("div",{class:"flex gap-1"},[o("span",{class:"w-4 h-4 rounded-full",style:{background:"#f472b6"}}),o("span",{class:"w-4 h-4 rounded-full",style:{background:"#18181b"}})])]),o("p",{class:"text-xs text-white/50"},"Neon pink futuristic. Sci-fi vibes.")])]),o("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-amber-500/50 transition-all duration-300"},[o("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#fffbeb"}},[o("span",{class:"text-2xl font-bold",style:{color:"#d97706","font-family":"'Playfair Display', serif"}},"Lumina")]),o("div",{class:"p-4 bg-black/50"},[o("div",{class:"flex items-center justify-between mb-2"},[o("h3",{class:"font-bold text-white"},"latte"),o("div",{class:"flex gap-1"},[o("span",{class:"w-4 h-4 rounded-full",style:{background:"#d97706"}}),o("span",{class:"w-4 h-4 rounded-full",style:{background:"#fffbeb"}})])]),o("p",{class:"text-xs text-white/50"},"Light mode with warm amber. Elegant.")])]),o("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-orange-500/50 transition-all duration-300"},[o("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"linear-gradient(135deg, #1c1917 0%, #292524 100%)"}},[o("span",{class:"text-2xl font-bold",style:{background:"linear-gradient(to right, #f97316, #f43f5e)","-webkit-background-clip":"text","-webkit-text-fill-color":"transparent"}},"Lumina")]),o("div",{class:"p-4 bg-black/50"},[o("div",{class:"flex items-center justify-between mb-2"},[o("h3",{class:"font-bold text-white"},"sunset"),o("div",{class:"flex gap-1"},[o("span",{class:"w-4 h-4 rounded-full",style:{background:"#f97316"}}),o("span",{class:"w-4 h-4 rounded-full",style:{background:"#f43f5e"}})])]),o("p",{class:"text-xs text-white/50"},"Orange to rose gradient. Warm and vibrant.")])]),o("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-white/50 transition-all duration-300"},[o("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#000000"}},[o("span",{class:"text-2xl font-bold",style:{color:"#ffffff"}},"Lumina")]),o("div",{class:"p-4 bg-black/50"},[o("div",{class:"flex items-center justify-between mb-2"},[o("h3",{class:"font-bold text-white"},"monochrome"),o("div",{class:"flex gap-1"},[o("span",{class:"w-4 h-4 rounded-full",style:{background:"#ffffff"}}),o("span",{class:"w-4 h-4 rounded-full",style:{background:"#000000"}})])]),o("p",{class:"text-xs text-white/50"},"Pure black and white. Timeless elegance.")])])])],-1),o("div",{class:"my-12"},[o("h2",{class:"text-2xl font-bold text-white mb-6"},"Using a Preset"),o("p",{class:"text-white/60 mb-4"},[y("Pass the preset name as a string to the "),o("code",null,"theme"),y(" option:")]),o("pre",null,[o("code",null,[o("span",{class:"text-blue-400"},"const"),y(" engine = "),o("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
  theme: `),o("span",{class:"text-green-400"},"'ocean'"),y("  "),o("span",{class:"text-gray-500"},"// 'midnight', 'forest', 'cyber', 'latte', 'sunset', 'monochrome'"),y(`
});

engine.load(myDeck);`)])])],-1),o("div",{class:"my-12"},[o("h2",{class:"text-2xl font-bold text-white mb-6"},"Complete Theme Configuration"),o("p",{class:"text-white/60 mb-8"},[y("Lumina v9 introduces 80+ CSS custom properties for full visual customization. Configure via "),o("code",null,"themeConfig"),y(" in your deck JSON or engine options.")]),o("div",{class:"mb-12"},[o("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[o("span",{class:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400"},""),y(" Colors (25+ tokens) ")]),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"CSS Variable"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{colspan:"3",class:"p-2 text-xs text-blue-400 bg-blue-500/5 font-bold"},"Core Colors")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"primary"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-primary"),o("td",{class:"p-3"},"Main brand/accent color")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"secondary"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-secondary"),o("td",{class:"p-3"},"Complementary brand color")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"accent"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-accent"),o("td",{class:"p-3"},"Tertiary/accent highlights")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"background"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-background"),o("td",{class:"p-3"},"Main slide background")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"surface"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-surface"),o("td",{class:"p-3"},"Cards, panels, elevated surfaces")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"text"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-text"),o("td",{class:"p-3"},"Primary text color")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"textSecondary"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-text-secondary "),o("td",{class:"p-3"},"Secondary body text")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"muted"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-muted"),o("td",{class:"p-3"},"Subdued text, captions")]),o("tr",null,[o("td",{colspan:"3",class:"p-2 text-xs text-yellow-400 bg-yellow-500/5 font-bold"}," Semantic Colors")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"success"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-success"),o("td",{class:"p-3"},"Positive actions (#22c55e)")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"warning"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-warning"),o("td",{class:"p-3"},"Caution states (#eab308)")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"danger"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-danger"),o("td",{class:"p-3"},"Errors, destructive (#ef4444)")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"info"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-info"),o("td",{class:"p-3"},"Informational highlights")]),o("tr",null,[o("td",{colspan:"3",class:"p-2 text-xs text-purple-400 bg-purple-500/5 font-bold"},"UI Colors")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"border"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-border"),o("td",{class:"p-3"},"Default border color")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"borderSubtle"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-color-border-subtle "),o("td",{class:"p-3"},"Subtle/light borders")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"shadow"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-shadow-color"),o("td",{class:"p-3"},"Shadow color for elevation")]),o("tr",null,[o("td",{colspan:"3",class:"p-2 text-xs text-pink-400 bg-pink-500/5 font-bold"},"Gradient Colors")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"gradientFrom"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-gradient-from"),o("td",{class:"p-3"},"Gradient start color")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"gradientVia"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-gradient-via"),o("td",{class:"p-3"},"Gradient middle (optional)")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"gradientTo"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-gradient-to"),o("td",{class:"p-3"},"Gradient end color")])])])])]),o("div",{class:"mb-12"},[o("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[o("span",{class:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center text-purple-400"},""),y(" Effects ")]),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Values"),o("th",{class:"p-3 border-b border-white/10"},"Default")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{colspan:"4",class:"p-2 text-xs text-pink-400 bg-pink-500/5 font-bold"},"Gradients ")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"useGradients"),o("td",{class:"p-3 text-purple-400"},"boolean"),o("td",{class:"p-3"},"true / false"),o("td",{class:"p-3"},"true")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"gradientDirection"),o("td",{class:"p-3 text-purple-400"},"enum"),o("td",{class:"p-3 font-mono text-xs"},"'to-t' | 'to-b' | 'to-l' | 'to-r' | 'to-tl' | 'to-tr' | 'to-bl' | 'to-br'"),o("td",{class:"p-3"},"'to-br'")]),o("tr",null,[o("td",{colspan:"4",class:"p-2 text-xs text-blue-400 bg-blue-500/5 font-bold"},"Shadows ")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"useShadows"),o("td",{class:"p-3 text-purple-400"},"boolean"),o("td",{class:"p-3"},"true / false"),o("td",{class:"p-3"},"true")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"shadowIntensity"),o("td",{class:"p-3 text-purple-400"},"enum"),o("td",{class:"p-3 font-mono text-xs"},"'none' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'"),o("td",{class:"p-3"},"'md'")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"shadowColor"),o("td",{class:"p-3 text-purple-400"},"string"),o("td",{class:"p-3"},"Any CSS color (rgba works best)"),o("td",{class:"p-3"},"rgba(0,0,0,0.25)")]),o("tr",null,[o("td",{colspan:"4",class:"p-2 text-xs text-cyan-400 bg-cyan-500/5 font-bold"}," Glassmorphism")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"useGlass"),o("td",{class:"p-3 text-purple-400"},"boolean"),o("td",{class:"p-3"},"true / false (frosted glass panels)"),o("td",{class:"p-3"},"true")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"glassOpacity"),o("td",{class:"p-3 text-purple-400"},"number"),o("td",{class:"p-3"},"0 to 1 (panel background opacity)"),o("td",{class:"p-3"},"0.03")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"glassBlur"),o("td",{class:"p-3 text-purple-400"},"string"),o("td",{class:"p-3"},"CSS blur value (e.g., '20px')"),o("td",{class:"p-3"},"'20px'")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"glassBorderOpacity"),o("td",{class:"p-3 text-purple-400"},"number"),o("td",{class:"p-3"},"0 to 1 (subtle border opacity)"),o("td",{class:"p-3"},"0.05")]),o("tr",null,[o("td",{colspan:"4",class:"p-2 text-xs text-orange-400 bg-orange-500/5 font-bold"}," Ambient Orb")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"useOrb"),o("td",{class:"p-3 text-purple-400"},"boolean"),o("td",{class:"p-3"},"true / false (background glow)"),o("td",{class:"p-3"},"true")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"orbOpacity"),o("td",{class:"p-3 text-purple-400"},"number"),o("td",{class:"p-3"},"0 to 1"),o("td",{class:"p-3"},"0.4")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"orbBlur"),o("td",{class:"p-3 text-purple-400"},"string"),o("td",{class:"p-3"},"CSS blur value"),o("td",{class:"p-3"},"'120px'")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"orbSize"),o("td",{class:"p-3 text-purple-400"},"string"),o("td",{class:"p-3"},"CSS size (vw, vh, px, %)"),o("td",{class:"p-3"},"'60vw'")]),o("tr",null,[o("td",{colspan:"4",class:"p-2 text-xs text-green-400 bg-green-500/5 font-bold"}," Animations")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"animationsEnabled"),o("td",{class:"p-3 text-purple-400"},"boolean"),o("td",{class:"p-3"},"Master toggle for all animations"),o("td",{class:"p-3"},"true")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"transitionDuration"),o("td",{class:"p-3 text-purple-400"},"string"),o("td",{class:"p-3"},"CSS duration (e.g., '0.3s')"),o("td",{class:"p-3"},"'0.3s'")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"transitionEasing"),o("td",{class:"p-3 text-purple-400"},"string"),o("td",{class:"p-3"},"CSS easing function"),o("td",{class:"p-3"},"cubic-bezier(0.16,1,0.3,1)")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"hoverScale"),o("td",{class:"p-3 text-purple-400"},"number"),o("td",{class:"p-3"},"Scale on hover (1.0 = no scale)"),o("td",{class:"p-3"},"1.05")])])])])]),o("div",{class:"mb-12"},[o("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[o("span",{class:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400"},""),y(" Component Tokens ")]),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"CSS Variable"),o("th",{class:"p-3 border-b border-white/10"},"Default")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{colspan:"3",class:"p-2 text-xs text-blue-400 bg-blue-500/5 font-bold"},"Buttons ")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"buttonRadius"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-button-radius"),o("td",{class:"p-3"},"9999px (pill)")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"buttonPadding"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-button-padding"),o("td",{class:"p-3"},"0.75rem 1.5rem")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"buttonFontWeight"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-button-font-weight"),o("td",{class:"p-3"},"700")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"buttonTextTransform"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-button-text-transform "),o("td",{class:"p-3"},"none")]),o("tr",null,[o("td",{colspan:"3",class:"p-2 text-xs text-purple-400 bg-purple-500/5 font-bold"},"Cards ")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"cardRadius"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-card-radius"),o("td",{class:"p-3"},"1.5rem")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"cardPadding"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-card-padding"),o("td",{class:"p-3"},"2rem")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"cardBorderWidth"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-card-border-width"),o("td",{class:"p-3"},"1px")]),o("tr",null,[o("td",{colspan:"3",class:"p-2 text-xs text-cyan-400 bg-cyan-500/5 font-bold"},"Timeline ")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"timelineNodeSize"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-timeline-node-size"),o("td",{class:"p-3"},"1rem")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"timelineLineWidth"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-timeline-line-width "),o("td",{class:"p-3"},"2px")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"timelineNodeColor"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-timeline-node-color "),o("td",{class:"p-3"},"(uses primary)")]),o("tr",null,[o("td",{colspan:"3",class:"p-2 text-xs text-pink-400 bg-pink-500/5 font-bold"}," Tags/Badges")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"tagPadding"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-tag-padding"),o("td",{class:"p-3"},"0.25rem 1rem")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"tagRadius"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-tag-radius"),o("td",{class:"p-3"},"9999px")]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"tagFontSize"),o("td",{class:"p-3 font-mono text-white/50"},"--lumina-tag-font-size"),o("td",{class:"p-3"},"0.75rem")])])])])]),o("div",{class:"mb-12"},[o("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[o("span",{class:"w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center text-yellow-400"},""),y(" Typography ")]),o("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[o("div",{class:"border border-white/10 rounded-lg p-4"},[o("h4",{class:"text-white font-bold mb-3"},"Font Families"),o("div",{class:"space-y-2 text-sm"},[o("div",null,[o("code",{class:"text-green-400"},"heading"),y(": "),o("span",{class:"text-white/60"},"Headings (default: Inter)")]),o("div",null,[o("code",{class:"text-green-400"},"body"),y(": "),o("span",{class:"text-white/60"},"Body text (default: Inter)")]),o("div",null,[o("code",{class:"text-green-400"},"mono"),y(": "),o("span",{class:"text-white/60"},"Code (default: monospace)")])])]),o("div",{class:"border border-white/10 rounded-lg p-4"},[o("h4",{class:"text-white font-bold mb-3"},"Font Sizes (--lumina-text-*)"),o("div",{class:"space-y-1 text-sm text-white/60"},[o("div",null,"xs: 0.75rem | sm: 0.875rem | base: 1rem"),o("div",null,"lg: 1.125rem | xl: 1.25rem | 2xl: 1.5rem"),o("div",null,"3xl: 1.875rem | 4xl: 2.25rem | 5xl: 3rem"),o("div",null,"6xl: 3.75rem | 7xl: 4.5rem")])]),o("div",{class:"border border-white/10 rounded-lg p-4"},[o("h4",{class:"text-white font-bold mb-3"},"Font Weights (--lumina-font-weight-*)"),o("div",{class:"space-y-1 text-sm text-white/60"},[o("div",null,"light: 300 | normal: 400 | medium: 500"),o("div",null,"semibold: 600 | bold: 700 | extrabold: 800")])]),o("div",{class:"border border-white/10 rounded-lg p-4"},[o("h4",{class:"text-white font-bold mb-3"},"Line Heights (--lumina-leading-*)"),o("div",{class:"space-y-1 text-sm text-white/60"},[o("div",null,"tight: 1.1 | snug: 1.25 | normal: 1.5"),o("div",null,"relaxed: 1.625 | loose: 2")])])])]),o("div",{class:"mb-12"},[o("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[o("span",{class:"w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center text-cyan-400"},""),y(" Spacing & Border Radius ")]),o("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[o("div",{class:"border border-white/10 rounded-lg p-4"},[o("h4",{class:"text-white font-bold mb-3"},"Spacing (--lumina-space-*)"),o("div",{class:"space-y-1 text-sm text-white/60"},[o("div",null,"none: 0 | xs: 0.25rem | sm: 0.5rem"),o("div",null,"md: 1rem | lg: 1.5rem | xl: 2rem"),o("div",null,"2xl: 3rem | 3xl: 4rem | 4xl: 6rem")])]),o("div",{class:"border border-white/10 rounded-lg p-4"},[o("h4",{class:"text-white font-bold mb-3"},"Border Radius (--lumina-radius-*)"),o("div",{class:"space-y-1 text-sm text-white/60"},[o("div",null,"none: 0 | sm: 0.25rem | md: 0.5rem"),o("div",null,"lg: 0.75rem | xl: 1rem | 2xl: 1.5rem"),o("div",null,"3xl: 2rem | full: 9999px")])])])]),o("div",{class:"mt-8"},[o("h3",{class:"text-xl font-bold text-white mb-4"},"Full themeConfig Example"),o("pre",null,[o("code",null,[o("span",{class:"text-gray-500"},"// In your deck JSON"),y(`
{
  `),o("span",{class:"text-blue-400"},'"meta"'),y(`: {
    `),o("span",{class:"text-blue-400"},'"theme"'),y(": "),o("span",{class:"text-green-400"},'"default"'),y(`,
    `),o("span",{class:"text-blue-400"},'"themeConfig"'),y(`: {
      `),o("span",{class:"text-blue-400"},'"colors"'),y(`: {
        `),o("span",{class:"text-blue-400"},'"primary"'),y(": "),o("span",{class:"text-green-400"},'"#8b5cf6"'),y(`,
        `),o("span",{class:"text-blue-400"},'"secondary"'),y(": "),o("span",{class:"text-green-400"},'"#ec4899"'),y(`,
        `),o("span",{class:"text-blue-400"},'"gradientFrom"'),y(": "),o("span",{class:"text-green-400"},'"#8b5cf6"'),y(`,
        `),o("span",{class:"text-blue-400"},'"gradientTo"'),y(": "),o("span",{class:"text-green-400"},'"#ec4899"'),y(`
      },
      `),o("span",{class:"text-blue-400"},'"effects"'),y(`: {
        `),o("span",{class:"text-blue-400"},'"useGradients"'),y(": "),o("span",{class:"text-yellow-400"},"true"),y(`,
        `),o("span",{class:"text-blue-400"},'"useGlass"'),y(": "),o("span",{class:"text-yellow-400"},"true"),y(`,
        `),o("span",{class:"text-blue-400"},'"glassOpacity"'),y(": "),o("span",{class:"text-yellow-400"},"0.05"),y(`,
        `),o("span",{class:"text-blue-400"},'"useOrb"'),y(": "),o("span",{class:"text-yellow-400"},"true"),y(`,
        `),o("span",{class:"text-blue-400"},'"orbOpacity"'),y(": "),o("span",{class:"text-yellow-400"},"0.4"),y(`
      },
      `),o("span",{class:"text-blue-400"},'"components"'),y(`: {
        `),o("span",{class:"text-blue-400"},'"cardRadius"'),y(": "),o("span",{class:"text-green-400"},'"1.5rem"'),y(`,
        `),o("span",{class:"text-blue-400"},'"buttonRadius"'),y(": "),o("span",{class:"text-green-400"},'"9999px"'),y(`
      }
    }
  }
}`)])])])],-1),o("div",{class:"my-12"},[o("h2",{class:"text-2xl font-bold text-white mb-6"},"Custom Theme Configuration"),o("p",{class:"text-white/60 mb-4"},"Pass a configuration object for full control over colors and fonts:"),o("pre",null,[o("code",null,[o("span",{class:"text-blue-400"},"const"),y(" engine = "),o("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
  theme: {
    colors: {
      primary: `),o("span",{class:"text-green-400"},"'#ec4899'"),y(",      "),o("span",{class:"text-gray-500"},"// Pink accent"),y(`
      background: `),o("span",{class:"text-green-400"},"'#1a1a2e'"),y(",  "),o("span",{class:"text-gray-500"},"// Dark purple bg"),y(`
      text: `),o("span",{class:"text-green-400"},"'#eaeaea'"),y(",        "),o("span",{class:"text-gray-500"},"// Light text"),y(`
      muted: `),o("span",{class:"text-green-400"},"'#888888'"),y("        "),o("span",{class:"text-gray-500"},"// Subdued text"),y(`
    },
    fonts: {
      heading: `),o("span",{class:"text-green-400"},"'Outfit, sans-serif'"),y(`,
      body: `),o("span",{class:"text-green-400"},"'Inter, sans-serif'"),y(`,
      mono: `),o("span",{class:"text-green-400"},"'Fira Code, monospace'"),y(`
    }
  }
});`)])])],-1),o("div",{class:"my-12"},[o("h2",{class:"text-2xl font-bold text-white mb-6"},"Partial Overrides"),o("p",{class:"text-white/60 mb-4"},"You don't need to specify every property. Lumina merges your values with the default theme:"),o("pre",null,[o("code",null,[o("span",{class:"text-gray-500"},"// Only change the primary color"),y(`
`),o("span",{class:"text-blue-400"},"const"),y(" engine = "),o("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
  theme: {
    colors: {
      primary: `),o("span",{class:"text-green-400"},"'#f59e0b'"),y("  "),o("span",{class:"text-gray-500"},"// Amber accent"),y(`
    }
  }
});

`),o("span",{class:"text-gray-500"},"// Everything else uses defaults!")])])],-1),o("div",{class:"my-12"},[o("h2",{class:"text-2xl font-bold text-white mb-6"},"Custom Fonts"),o("p",{class:"text-white/60 mb-4"},"For custom fonts, load them via Google Fonts or your own stylesheet first:"),o("pre",{class:"language-html"},[o("code",null,[o("span",{class:"text-gray-500"},"<!-- In your HTML head -->"),y(`
`),o("span",{class:"text-blue-400"},"<link"),y(" rel="),o("span",{class:"text-green-400"},'"preconnect"'),y(" href="),o("span",{class:"text-green-400"},'"https://fonts.googleapis.com"'),o("span",{class:"text-blue-400"},">"),y(`
`),o("span",{class:"text-blue-400"},"<link"),y(" href="),o("span",{class:"text-green-400"},'"https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&family=Rajdhani&display=swap"'),y(" rel="),o("span",{class:"text-green-400"},'"stylesheet"'),o("span",{class:"text-blue-400"},">")])]),o("p",{class:"text-white/60 mt-4 mb-4"},"Then reference them in your theme config:"),o("pre",null,[o("code",null,[o("span",{class:"text-blue-400"},"const"),y(" engine = "),o("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
  theme: {
    fonts: {
      heading: `),o("span",{class:"text-green-400"},"'Outfit, sans-serif'"),y(`,
      body: `),o("span",{class:"text-green-400"},"'Rajdhani, sans-serif'"),y(`
    }
  }
});`)])])],-1),o("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[o("h4",{class:"text-yellow-400 font-bold mb-2"},[o("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tips")]),o("ul",{class:"text-sm text-yellow-200/80 space-y-2 m-0 list-none"},[o("li",null,[y(" "),o("strong",null,"Brand colors:"),y(" Set "),o("code",null,"primary"),y(" to your brand color for instant recognition")]),o("li",null,[y(" "),o("strong",null,"Dark vs Light:"),y(" Use "),o("code",null,"latte"),y(" preset for light mode presentations")]),o("li",null,[y(" "),o("strong",null,"Accessibility:"),y(" Ensure sufficient contrast between "),o("code",null,"text"),y(" and "),o("code",null,"background")]),o("li",null,[y(" "),o("strong",null,"Performance:"),y(" Only load font weights you actually use (400, 700) ")])])],-1)])])):e.value==="speaker-notes"?(V(),z("div",a6,[...f[22]||(f[22]=[o("h1",null,"Speaker Notes",-1),o("p",{class:"lead"},"Open a separate presenter view with notes, timer, and bidirectional navigation controls.",-1),o("h2",null,"Adding Notes to Slides",-1),o("p",null,[y("Add the "),o("code",null,"notes"),y(" property to any slide. Notes are only visible in the presenter view, not on the main display.")],-1),o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"statement"'),y(`,
  `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Welcome"'),y(`,
  `),o("span",{class:"text-blue-400"},'"subtitle"'),y(": "),o("span",{class:"text-green-400"},'"An introduction to our platform"'),y(`,
  `),o("span",{class:"text-blue-400"},'"notes"'),y(": "),o("span",{class:"text-green-400"},'"Greet the audience. Mention key stakeholders. Time: 2 minutes."'),y(`
}`)])],-1),o("h2",null,"Opening the Presenter View",-1),o("p",null,[y("Call "),o("code",null,"openSpeakerNotes()"),y(" on your Lumina instance to open the presenter window. ")],-1),o("pre",null,[o("code",null,[o("span",{class:"text-blue-400"},"const"),y(" engine = "),o("span",{class:"text-blue-400"},"new"),y(` Lumina('#app');
engine.load(deckData);

`),o("span",{class:"text-gray-500"},"// Open presenter view"),y(`
engine.`),o("span",{class:"text-yellow-400"},"openSpeakerNotes"),y(`();

`),o("span",{class:"text-gray-500"},"// Check if open"),y(`
`),o("span",{class:"text-blue-400"},"if"),y(` (engine.isSpeakerNotesOpen) {
    console.log('Presenter view active');
}

`),o("span",{class:"text-gray-500"},"// Close programmatically"),y(`
engine.`),o("span",{class:"text-yellow-400"},"closeSpeakerNotes"),y("();")])],-1),o("h3",null,"Presenter View Features",-1),o("ul",null,[o("li",null,[o("strong",null,"Current Notes"),y("  Formatted notes for the current slide")]),o("li",null,[o("strong",null,"Next Slide Preview"),y("  Title and type of the upcoming slide")]),o("li",null,[o("strong",null,"Timer"),y("  Start/pause/reset presentation timer")]),o("li",null,[o("strong",null,"Navigation"),y("  Synced controls (changes reflect in main window)")]),o("li",null,[o("strong",null,"Connection Status"),y("  Visual indicator of sync state")])],-1),o("h3",null,"Keyboard Shortcuts (Presenter View)",-1),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg my-6"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Key"),o("th",{class:"p-3 border-b border-white/10"},"Action")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono"}," / Space / Enter"),o("td",{class:"p-3"},"Next slide")]),o("tr",null,[o("td",{class:"p-3 font-mono"}," / Backspace"),o("td",{class:"p-3"},"Previous slide")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"T"),o("td",{class:"p-3"},"Toggle timer")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"R"),o("td",{class:"p-3"},"Reset timer")])])])],-1),o("div",{class:"mt-8 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg"},[o("h4",{class:"text-blue-400 font-bold mb-2"},[o("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tip ")]),o("p",{class:"text-sm text-blue-200/80 m-0"},"Position the presenter window on your secondary monitor while the presentation runs on the main display. Navigation from either window stays synchronized.")],-1)])])):e.value==="agents-intro"?(V(),z("div",l6,[...f[23]||(f[23]=[o("h1",null,"The Agent Protocol",-1),o("p",{class:"lead"},[y("Lumina is the first presentation engine designed for "),o("strong",null,"Agentic AI"),y(".")],-1),o("p",null,[y('Large Language Models (LLMs) are great at "What" (Content) but struggle with "How" (Pixel-perfect CSS). Lumina solves this by acting as a '),o("strong",null,"Semantic Interface Layer"),y(".")],-1),o("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-8 my-12 not-prose"},[o("div",{class:"bg-gray-900 border border-purple-500/20 rounded-xl p-8 relative overflow-hidden"},[o("div",{class:"absolute top-0 right-0 p-4 opacity-20"},[o("i",{class:"fa-solid fa-robot text-6xl text-purple-500"})]),o("h3",{class:"text-purple-400 font-bold mb-4"},"The Agent's Job"),o("ul",{class:"space-y-3 text-sm text-gray-400"},[o("li",{class:"flex gap-2"},[o("i",{class:"fa-solid fa-check text-green-500"}),y(" Generate Text Content")]),o("li",{class:"flex gap-2"},[o("i",{class:"fa-solid fa-check text-green-500"}),y(" Determine Structure")]),o("li",{class:"flex gap-2"},[o("i",{class:"fa-solid fa-check text-green-500"}),y(" Choose Semantic Layouts")])])]),o("div",{class:"bg-gray-900 border border-blue-500/20 rounded-xl p-8 relative overflow-hidden"},[o("div",{class:"absolute top-0 right-0 p-4 opacity-20"},[o("i",{class:"fa-solid fa-layer-group text-6xl text-blue-500"})]),o("h3",{class:"text-blue-400 font-bold mb-4"},"Lumina's Job"),o("ul",{class:"space-y-3 text-sm text-gray-400"},[o("li",{class:"flex gap-2"},[o("i",{class:"fa-solid fa-check text-blue-500"}),y(" 60fps Animations")]),o("li",{class:"flex gap-2"},[o("i",{class:"fa-solid fa-check text-blue-500"}),y(" Responsive Typography")]),o("li",{class:"flex gap-2"},[o("i",{class:"fa-solid fa-check text-blue-500"}),y(" Interactive State")])])])],-1),o("h2",null,"The Protocol",-1),o("p",null,"Agents communicate with Lumina via a JSON format that is strict enough for deterministic rendering but loose enough for LLMs.",-1)])])):e.value==="agents-tokens"?(V(),z("div",c6,[...f[24]||(f[24]=[o("h1",null,"Token Optimization",-1),o("p",{class:"lead"},"Reduce output size with short property aliases. Less characters = faster rendering and lower costs.",-1),o("div",{class:"not-prose grid gap-6 mt-8"},[o("div",{class:"bg-[#0A0A0A] border border-white/10 rounded-xl p-6"},[o("h3",{class:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-4"},[y("Standard JSON "),o("span",{class:"text-white/30 font-normal normal-case ml-2"},"~95 characters")]),o("pre",{class:"!mb-0 !p-0 !bg-transparent !border-none"},[o("code",null,`{
  "type": "statement",
  "title": "Quarterly Review",
  "subtitle": "Growth is exceeding expectations."
}`)])]),o("div",{class:"bg-[#0A0A0A] border border-green-500/20 rounded-xl p-6 relative"},[o("span",{class:"absolute top-4 right-4 text-xs font-bold text-green-400 bg-green-500/10 px-2 py-1 rounded"}," ~25% Shorter "),o("h3",{class:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-4"},[y("Optimized JSON "),o("span",{class:"text-white/30 font-normal normal-case ml-2"},"~70 characters")]),o("pre",{class:"!mb-0 !p-0 !bg-transparent !border-none"},[o("code",null,`{
  "type": "statement",
  "t": "Quarterly Review",
  "s": "Growth is exceeding expectations."
}`)])])],-1),o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Supported Aliases"),o("p",{class:"text-white/60 mb-4"},"Both full property names and aliases work interchangeably. Mix and match as needed."),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Full Key"),o("th",{class:"p-3 border-b border-white/10"},"Alias"),o("th",{class:"p-3 border-b border-white/10"},"Used In")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono"},"title"),o("td",{class:"p-3 font-mono text-green-400"},"t"),o("td",{class:"p-3 text-white/50"},"All layouts")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"subtitle"),o("td",{class:"p-3 font-mono text-green-400"},"s"),o("td",{class:"p-3 text-white/50"},"Statement, Timeline, Steps")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"description"),o("td",{class:"p-3 font-mono text-green-400"},"d"),o("td",{class:"p-3 text-white/50"},"Features, Timeline items, Steps items")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"features"),o("td",{class:"p-3 font-mono text-green-400"},"fs"),o("td",{class:"p-3 text-white/50"},"Features layout")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"timeline"),o("td",{class:"p-3 font-mono text-green-400"},"tl"),o("td",{class:"p-3 text-white/50"},"Timeline layout")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"steps"),o("td",{class:"p-3 font-mono text-green-400"},"st"),o("td",{class:"p-3 text-white/50"},"Steps layout")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"paragraphs"),o("td",{class:"p-3 font-mono text-green-400"},"p"),o("td",{class:"p-3 text-white/50"},"Half layout")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"image"),o("td",{class:"p-3 font-mono text-green-400"},"img"),o("td",{class:"p-3 text-white/50"},"Half layout")]),o("tr",null,[o("td",{class:"p-3 font-mono"},"imageSide"),o("td",{class:"p-3 font-mono text-green-400"},"side"),o("td",{class:"p-3 text-white/50"},"Half layout")])])])])],-1),o("div",{class:"mt-8 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg"},[o("h4",{class:"text-blue-400 font-bold mb-2"},[o("i",{class:"fa-solid fa-info-circle mr-2"}),y("How It Works")]),o("p",{class:"text-sm text-blue-200/80 m-0"},"Lumina's normalizer automatically expands aliases to full property names before rendering. You can use standard JSON for readability or aliases for efficiencyboth produce identical results.")],-1)])])):e.value==="agents-streaming"?(V(),z("div",u6,[f[29]||(f[29]=o("h1",null,"Streaming & Realtime",-1)),f[30]||(f[30]=o("p",null,[y("Lumina enables a "),o("strong",null,'"Type & See"'),y(" experience. Using our partial parser, you can feed raw LLM streams directly into the engine.")],-1)),o("div",d6,[o("div",h6,[o("div",{class:"absolute top-4 right-4 z-20"},[o("button",{onClick:i,class:"px-5 py-1.5 rounded-full bg-blue-500 hover:bg-blue-400 text-white font-bold text-xs shadow-lg shadow-blue-500/20 transition-all transform hover:scale-105 flex items-center gap-2"},[...f[25]||(f[25]=[o("i",{class:"fa-solid fa-play"},null,-1),y(" Simulate AI Stream ",-1)])])]),o("div",f6,[o("div",p6,[f[26]||(f[26]=o("span",null,"LLM JSON OUTPUT",-1)),s.value?(V(),z("span",m6,"Receiving Tokens...")):ie("",!0)]),Zi(o("textarea",{"onUpdate:modelValue":f[0]||(f[0]=g=>n.value=g),class:"flex-1 bg-transparent p-6 font-mono text-sm text-green-400 resize-none focus:outline-none",placeholder:"Waiting for tokens..."},null,512),[[Wi,n.value]])]),o("div",g6,[f[28]||(f[28]=o("div",{id:"streaming-demo-container",class:"w-full h-full"},null,-1)),s.value?ie("",!0):(V(),z("div",b6,[...f[27]||(f[27]=[o("div",{class:"text-center"},[o("i",{class:"fa-solid fa-tv text-4xl mb-4"}),o("p",{class:"text-sm"},"Preview UI Render")],-1)])]))])])])])):e.value==="agents-layouts"?(V(),z("div",y6,[f[44]||(f[44]=o("h1",null,"Layout Gallery",-1)),o("p",null,[f[31]||(f[31]=y("Lumina provides 5 core layouts optimized for different types of information. Click ",-1)),f[32]||(f[32]=o("strong",null,[o("i",{class:"fa-solid fa-play text-blue-400"}),y(" Visualize")],-1)),f[33]||(f[33]=y(" to load them into the ",-1)),o("a",{onClick:f[1]||(f[1]=tn(g=>{e.value="agents-streaming",d("streaming-demo-container")},["prevent"])),href:"#",class:"text-blue-400 hover:underline"},"Streaming Demo"),f[34]||(f[34]=y(". ",-1))]),o("div",_6,[o("div",v6,[o("div",x6,[f[36]||(f[36]=o("h3",{class:"text-xl font-bold text-white flex items-center gap-3"},[o("span",{class:"px-2 py-0.5 rounded bg-blue-500/10 text-blue-400 text-xs uppercase font-bold"},"Statement")],-1)),o("button",{onClick:f[2]||(f[2]=g=>a(l.statement)),class:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-xs font-bold text-white/50 hover:text-white transition flex items-center gap-2 border border-white/5"},[...f[35]||(f[35]=[o("i",{class:"fa-solid fa-play text-blue-400"},null,-1),y(" Visualize ",-1)])])]),f[37]||(f[37]=o("p",{class:"text-sm text-gray-400 mb-4"},"Best for: Titles, Quotes, Big Ideas.",-1)),o("pre",w6,[o("code",null,te(l.statement),1)])]),o("div",T6,[o("div",E6,[f[39]||(f[39]=o("h3",{class:"text-xl font-bold text-white flex items-center gap-3"},[o("span",{class:"px-2 py-0.5 rounded bg-yellow-500/10 text-yellow-400 text-xs uppercase font-bold"},"Features")],-1)),o("button",{onClick:f[3]||(f[3]=g=>a(l.features)),class:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-xs font-bold text-white/50 hover:text-white transition flex items-center gap-2 border border-white/5"},[...f[38]||(f[38]=[o("i",{class:"fa-solid fa-play text-yellow-400"},null,-1),y(" Visualize ",-1)])])]),f[40]||(f[40]=o("p",{class:"text-sm text-gray-400 mb-4"},"Best for: Lists, Grids, Stats, Benefits.",-1)),o("pre",S6,[o("code",null,te(l.features),1)])]),o("div",I6,[o("div",k6,[f[42]||(f[42]=o("h3",{class:"text-xl font-bold text-white flex items-center gap-3"},[o("span",{class:"px-2 py-0.5 rounded bg-green-500/10 text-green-400 text-xs uppercase font-bold"},"Timeline")],-1)),o("button",{onClick:f[4]||(f[4]=g=>a(l.timeline)),class:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-xs font-bold text-white/50 hover:text-white transition flex items-center gap-2 border border-white/5"},[...f[41]||(f[41]=[o("i",{class:"fa-solid fa-play text-green-400"},null,-1),y(" Visualize ",-1)])])]),f[43]||(f[43]=o("p",{class:"text-sm text-gray-400 mb-4"},"Best for: Roadmaps, History, Changelogs.",-1)),o("pre",C6,[o("code",null,te(l.timeline),1)])])])])):e.value==="agents-auto"?(V(),z("div",A6,[...f[45]||(f[45]=[o("h1",null,"Auto-Layouts",-1),o("p",null,[y("Sometimes the Agent doesn't know which layout is best. Just use "),o("code",null,"type: 'auto'"),y(". ")],-1),o("p",null,"Lumina analyzes the content structure to pick the best view automatically.",-1),o("div",{class:"p-6 bg-blue-500/10 border border-blue-500/20 rounded-xl my-8"},[o("h3",{class:"text-blue-400 font-bold mb-2"},"Detection Priority"),o("ul",{class:"list-disc list-inside text-sm text-blue-200/80 space-y-1"},[o("li",null,[y("If "),o("code",null,"timeline"),y(" array exists -> "),o("strong",null,"Timeline Layout")]),o("li",null,[y("If "),o("code",null,"steps"),y(" array exists -> "),o("strong",null,"Steps Layout")]),o("li",null,[y("If "),o("code",null,"features"),y(" array exists -> "),o("strong",null,"Features Layout")]),o("li",null,[y("If "),o("code",null,"image"),y(" exists -> "),o("strong",null,"Half Layout")]),o("li",null,[y("Otherwise -> "),o("strong",null,"Statement Layout")])])],-1),o("h3",null,"Example: Multi-Slide Auto Detection",-1),o("p",{class:"text-sm text-gray-400 mb-4"},[y("Each slide uses "),o("code",null,'type: "auto"'),y(" but renders differently based on its content structure.")],-1),o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"slides"'),y(`: [
    `),o("span",{class:"text-gray-500"},"// Renders as Statement (no special arrays detected)"),y(`
    {
      `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"auto"'),y(`,
      `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Welcome to Our Platform"'),y(`,
      `),o("span",{class:"text-blue-400"},'"subtitle"'),y(": "),o("span",{class:"text-green-400"},'"The future of presentations"'),y(`
    },
    `),o("span",{class:"text-gray-500"},"// Renders as Features (features array detected)"),y(`
    {
      `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"auto"'),y(`,
      `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Why Choose Us"'),y(`,
      `),o("span",{class:"text-blue-400"},'"features"'),y(`: [
        { `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Fast"'),y(", "),o("span",{class:"text-blue-400"},'"desc"'),y(": "),o("span",{class:"text-green-400"},'"60fps animations"'),y(", "),o("span",{class:"text-blue-400"},'"icon"'),y(": "),o("span",{class:"text-green-400"},'"fa-bolt"'),y(` },
        { `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Simple"'),y(", "),o("span",{class:"text-blue-400"},'"desc"'),y(": "),o("span",{class:"text-green-400"},'"JSON-first"'),y(", "),o("span",{class:"text-blue-400"},'"icon"'),y(": "),o("span",{class:"text-green-400"},'"fa-code"'),y(` },
        { `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Smart"'),y(", "),o("span",{class:"text-blue-400"},'"desc"'),y(": "),o("span",{class:"text-green-400"},'"AI-ready"'),y(", "),o("span",{class:"text-blue-400"},'"icon"'),y(": "),o("span",{class:"text-green-400"},'"fa-brain"'),y(` }
      ]
    },
    `),o("span",{class:"text-gray-500"},"// Renders as Timeline (timeline array detected)"),y(`
    {
      `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"auto"'),y(`,
      `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Our Journey"'),y(`,
      `),o("span",{class:"text-blue-400"},'"timeline"'),y(`: [
        { `),o("span",{class:"text-blue-400"},'"date"'),y(": "),o("span",{class:"text-green-400"},'"2023"'),y(", "),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Concept"'),y(", "),o("span",{class:"text-blue-400"},'"description"'),y(": "),o("span",{class:"text-green-400"},'"The idea was born"'),y(` },
        { `),o("span",{class:"text-blue-400"},'"date"'),y(": "),o("span",{class:"text-green-400"},'"2024"'),y(", "),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Launch"'),y(", "),o("span",{class:"text-blue-400"},'"description"'),y(": "),o("span",{class:"text-green-400"},'"V1.0 released"'),y(` }
      ]
    },
    `),o("span",{class:"text-gray-500"},"// Renders as Steps (steps array detected)"),y(`
    {
      `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"auto"'),y(`,
      `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Getting Started"'),y(`,
      `),o("span",{class:"text-blue-400"},'"steps"'),y(`: [
        { `),o("span",{class:"text-blue-400"},'"step"'),y(": "),o("span",{class:"text-yellow-400"},"1"),y(", "),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Install"'),y(", "),o("span",{class:"text-blue-400"},'"description"'),y(": "),o("span",{class:"text-green-400"},'"npm install lumina-slides"'),y(` },
        { `),o("span",{class:"text-blue-400"},'"step"'),y(": "),o("span",{class:"text-yellow-400"},"2"),y(", "),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Import"'),y(", "),o("span",{class:"text-blue-400"},'"description"'),y(": "),o("span",{class:"text-green-400"},'"Import Lumina class"'),y(` },
        { `),o("span",{class:"text-blue-400"},'"step"'),y(": "),o("span",{class:"text-yellow-400"},"3"),y(", "),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Create"'),y(", "),o("span",{class:"text-blue-400"},'"description"'),y(": "),o("span",{class:"text-green-400"},'"Define your slides"'),y(` }
      ]
    },
    `),o("span",{class:"text-gray-500"},"// Renders as Half (image property detected)"),y(`
    {
      `),o("span",{class:"text-blue-400"},'"type"'),y(": "),o("span",{class:"text-green-400"},'"auto"'),y(`,
      `),o("span",{class:"text-blue-400"},'"title"'),y(": "),o("span",{class:"text-green-400"},'"Visual Storytelling"'),y(`,
      `),o("span",{class:"text-blue-400"},'"image"'),y(": "),o("span",{class:"text-green-400"},'"https://images.unsplash.com/..."'),y(`,
      `),o("span",{class:"text-blue-400"},'"paragraphs"'),y(": ["),o("span",{class:"text-green-400"},'"Combine text and visuals seamlessly."'),y(`]
    }
  ]
}`)])],-1),o("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[o("h4",{class:"text-yellow-400 font-bold mb-2"},[o("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tip ")]),o("p",{class:"text-sm text-yellow-200/80 m-0"},[y("Using "),o("code",null,'type: "auto"'),y(" simplifies prompt engineering for AI agents. The LLM only needs to provide the data structure, and Lumina will handle the visual representation automatically.")])],-1)])])):e.value==="agents-state"?(V(),z("div",P6,[...f[46]||(f[46]=[o("h1",null,"State & Feedback Loop",-1),o("p",null,[y("To create a conversation, the Agent needs to know what the user did. Use "),o("code",null,"engine.exportState()"),y(". ")],-1),o("pre",null,[o("code",null,[y(`{
  `),o("span",{class:"text-blue-400"},'"narrative"'),y(": "),o("span",{class:"text-green-400"},`"User viewed 'Pricing' for 30s then clicked 'Sign Up'."`),y(`,
  `),o("span",{class:"text-blue-400"},'"engagementLevel"'),y(": "),o("span",{class:"text-green-400"},'"High"'),y(`
}`)])],-1)])])):e.value==="ref-statement"?(V(),z("div",R6,[f[48]||(f[48]=o("h1",null,"Statement Slide",-1)),f[49]||(f[49]=o("p",{class:"lead"},"Used for high-impact titles, opening covers, or emphatic quotes. It is designed to be punchy and minimal.",-1)),f[50]||(f[50]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-purple-400"},"type"),o("td",{class:"p-3 font-mono text-xs"},'"statement"'),o("td",{class:"p-3"},"Required. Identifies the layout.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"title"),o("td",{class:"p-3 font-mono text-xs"},"string"),o("td",{class:"p-3"},"Main headline. Keep it short (3-6 words).")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"subtitle"),o("td",{class:"p-3 font-mono text-xs"},"string?"),o("td",{class:"p-3"},"Optional supporting text.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"tag"),o("td",{class:"p-3 font-mono text-xs"},"string?"),o("td",{class:"p-3"},"Small eyebrow tag above the title.")])])])])],-1)),o("div",O6,[f[47]||(f[47]=o("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),Te(jt,{"initial-code":l.statement},null,8,["initial-code"])])])):e.value==="ref-half"?(V(),z("div",D6,[f[52]||(f[52]=o("h1",null,"Half / Split Slide",-1)),f[53]||(f[53]=o("p",{class:"lead"},'Combines a strong visual with explanatory text. Ideal for product showcases or "about me" sections.',-1)),f[54]||(f[54]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-purple-400"},"type"),o("td",{class:"p-3 font-mono text-xs"},'"half"'),o("td",{class:"p-3"},"Required.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"image"),o("td",{class:"p-3 font-mono text-xs"},"string"),o("td",{class:"p-3"},"URL to the image.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"imageSide"),o("td",{class:"p-3 font-mono text-xs"},'"left" | "right"'),o("td",{class:"p-3"},"Defaults to 'left'.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"title"),o("td",{class:"p-3 font-mono text-xs"},"string"),o("td",{class:"p-3"},"Headline text.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"paragraphs"),o("td",{class:"p-3 font-mono text-xs"},"string[]"),o("td",{class:"p-3"},"Array of text blocks.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"cta"),o("td",{class:"p-3 font-mono text-xs"},"string?"),o("td",{class:"p-3"},"Button label.")])])])])],-1)),o("div",N6,[f[51]||(f[51]=o("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),Te(jt,{"initial-code":l.half},null,8,["initial-code"])])])):e.value==="ref-features"?(V(),z("div",V6,[f[56]||(f[56]=o("h1",null,"Features Slide",-1)),f[57]||(f[57]=o("p",{class:"lead"},"Displays a grid of cards, perfect for listing benefits, stats, or services.",-1)),f[58]||(f[58]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-purple-400"},"type"),o("td",{class:"p-3 font-mono text-xs"},'"features"'),o("td",{class:"p-3"},"Required.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"title"),o("td",{class:"p-3 font-mono text-xs"},"string"),o("td",{class:"p-3"},"Section header.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"description"),o("td",{class:"p-3 font-mono text-xs"},"string?"),o("td",{class:"p-3"},"Optional context.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"features"),o("td",{class:"p-3 font-mono text-xs"},"Feature[]"),o("td",{class:"p-3"},[y("Array of objects: "),o("code",null,"{ title, desc, icon? }"),y(".")])])])])])],-1)),o("div",$6,[f[55]||(f[55]=o("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),Te(jt,{"initial-code":l.features},null,8,["initial-code"])])])):e.value==="ref-timeline"?(V(),z("div",L6,[f[60]||(f[60]=o("h1",null,"Timeline Slide",-1)),f[61]||(f[61]=o("p",{class:"lead"},"Horizontal scrolling view for chronological events, roadmaps, or history.",-1)),f[62]||(f[62]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-purple-400"},"type"),o("td",{class:"p-3 font-mono text-xs"},'"timeline"'),o("td",{class:"p-3"},"Required.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"title"),o("td",{class:"p-3 font-mono text-xs"},"string"),o("td",{class:"p-3"},"Header.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"timeline"),o("td",{class:"p-3 font-mono text-xs"},"Event[]"),o("td",{class:"p-3"},[y("Array: "),o("code",null,"{ date, title, description }"),y(".")])])])])])],-1)),o("div",M6,[f[59]||(f[59]=o("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),Te(jt,{"initial-code":l.timeline},null,8,["initial-code"])])])):e.value==="ref-steps"?(V(),z("div",z6,[f[64]||(f[64]=o("h1",null,"Steps Slide",-1)),f[65]||(f[65]=o("p",{class:"lead"},'Used for tutorials, "how-to" guides, or process flows.',-1)),f[66]||(f[66]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-purple-400"},"type"),o("td",{class:"p-3 font-mono text-xs"},'"steps"'),o("td",{class:"p-3"},"Required.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"title"),o("td",{class:"p-3 font-mono text-xs"},"string"),o("td",{class:"p-3"},"Process name.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"steps"),o("td",{class:"p-3 font-mono text-xs"},"Step[]"),o("td",{class:"p-3"},[y("Array: "),o("code",null,"{ step, title, description }"),y(".")])])])])])],-1)),o("div",F6,[f[63]||(f[63]=o("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),Te(jt,{"initial-code":l.steps},null,8,["initial-code"])])])):e.value==="ref-flex"?(V(),z("div",j6,[f[68]||(f[68]=o("h1",null,"Flex Layout",-1)),f[69]||(f[69]=o("p",{class:"lead"},"Flow-based layout for composing slides using semantic sizing. No coordinates neededperfect for LLM generation.",-1)),f[70]||(f[70]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Slide Options"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-purple-400"},"type"),o("td",{class:"p-3 font-mono text-xs"},'"flex"'),o("td",{class:"p-3"},"Required.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"direction"),o("td",{class:"p-3 font-mono text-xs"},'"horizontal" | "vertical"'),o("td",{class:"p-3"},'Main flow direction. Default: "horizontal".')]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"gap"),o("td",{class:"p-3 font-mono text-xs"},"SpacingToken"),o("td",{class:"p-3"},'Gap between elements. Default: "none".')]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"padding"),o("td",{class:"p-3 font-mono text-xs"},"SpacingToken"),o("td",{class:"p-3"},'Container padding. Default: "none".')]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"elements"),o("td",{class:"p-3 font-mono text-xs"},"FlexElement[]"),o("td",{class:"p-3"},"Array of flex elements in flow order.")])])])])],-1)),f[71]||(f[71]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Size Tokens"),o("p",null,[y("Each element can have a "),o("code",null,"size"),y(" property to control how much space it occupies: ")]),o("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-4 my-6 not-prose"},[o("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[o("code",null,"auto"),o("br"),o("span",{class:"text-xs text-white/40"},"flexible")]),o("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[o("code",null,"quarter"),o("br"),o("span",{class:"text-xs text-white/40"},"25%")]),o("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[o("code",null,"third"),o("br"),o("span",{class:"text-xs text-white/40"},"33%")]),o("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[o("code",null,"half"),o("br"),o("span",{class:"text-xs text-white/40"},"50%")]),o("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[o("code",null,"two-thirds"),o("br"),o("span",{class:"text-xs text-white/40"},"66%")]),o("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[o("code",null,"three-quarters"),o("br"),o("span",{class:"text-xs text-white/40"},"75%")]),o("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[o("code",null,"full"),o("br"),o("span",{class:"text-xs text-white/40"},"100%")])])],-1)),f[72]||(f[72]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Element Types"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Properties"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"content"),o("td",{class:"p-3 font-mono text-xs"},"elements, valign, halign, gap, padding "),o("td",{class:"p-3"},"Container that groups child elements vertically.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"image"),o("td",{class:"p-3 font-mono text-xs"},"src, alt?, fill?, fit?, rounded?"),o("td",{class:"p-3"},"Visual media element.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"title"),o("td",{class:"p-3 font-mono text-xs"},"text, size?, align?"),o("td",{class:"p-3"},"Large heading (lg | xl | 2xl | 3xl).")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"text"),o("td",{class:"p-3 font-mono text-xs"},"text, align?, muted?"),o("td",{class:"p-3"},"Body paragraph text.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"bullets"),o("td",{class:"p-3 font-mono text-xs"},"items: string[]"),o("td",{class:"p-3"},"Unordered bullet list.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"ordered"),o("td",{class:"p-3 font-mono text-xs"},"items: string[]"),o("td",{class:"p-3"},"Numbered list.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"button"),o("td",{class:"p-3 font-mono text-xs"},"label, action?, variant?, fullWidth?"),o("td",{class:"p-3"},"CTA button (primary | secondary | outline | ghost).")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"timeline"),o("td",{class:"p-3 font-mono text-xs"},"items: TimelineItem[], compact?"),o("td",{class:"p-3"},"Embedded timeline.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"stepper"),o("td",{class:"p-3 font-mono text-xs"},"items: StepItem[], compact?"),o("td",{class:"p-3"},"Embedded step process.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"spacer"),o("td",{class:"p-3 font-mono text-xs"},"size?: SpacingToken"),o("td",{class:"p-3"},"Adds visual spacing.")])])])])],-1)),f[73]||(f[73]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Content Container"),o("p",null,[y("Use "),o("code",null,"content"),y(" to group related elements with alignment control:")]),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg mt-6"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Values"),o("th",{class:"p-3 border-b border-white/10"},"Default")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"valign"),o("td",{class:"p-3 font-mono text-xs"},"top | center | bottom"),o("td",{class:"p-3"},"center")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"halign"),o("td",{class:"p-3 font-mono text-xs"},"left | center | right"),o("td",{class:"p-3"},"left")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"gap"),o("td",{class:"p-3 font-mono text-xs"},"none | xs | sm | md | lg | xl | 2xl"),o("td",{class:"p-3"},"md")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"padding"),o("td",{class:"p-3 font-mono text-xs"},"none | xs | sm | md | lg | xl | 2xl"),o("td",{class:"p-3"},"lg")])])])])],-1)),o("div",B6,[f[67]||(f[67]=o("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),Te(jt,{"initial-code":l.flex},null,8,["initial-code"])])])):e.value==="ref-chart"?(V(),z("div",U6,[f[85]||(f[85]=o("h1",null,"Chart Slide",-1)),f[86]||(f[86]=o("p",{class:"lead"},"Visualize data extracted from CSV/Excel files. Perfect for LLM-generated reports and dashboards.",-1)),f[87]||(f[87]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-purple-400"},"type"),o("td",{class:"p-3 font-mono text-xs"},'"chart"'),o("td",{class:"p-3"},"Required.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"chartType"),o("td",{class:"p-3 font-mono text-xs"},'"bar" | "line" | "pie" | "doughnut"'),o("td",{class:"p-3"},"Type of chart to render.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"title"),o("td",{class:"p-3 font-mono text-xs"},"string?"),o("td",{class:"p-3"},"Chart title (optional).")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"subtitle"),o("td",{class:"p-3 font-mono text-xs"},"string?"),o("td",{class:"p-3"},"Subtitle text (optional).")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"data"),o("td",{class:"p-3 font-mono text-xs"},"ChartData"),o("td",{class:"p-3"},[y("Object with "),o("code",null,"labels"),y(" and "),o("code",null,"datasets"),y(". ")])])])])])],-1)),f[88]||(f[88]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Data Structure"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"data.labels"),o("td",{class:"p-3 font-mono text-xs"},"string[]"),o("td",{class:"p-3"},"X-axis labels or pie segment names.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"data.datasets"),o("td",{class:"p-3 font-mono text-xs"},"Dataset[]"),o("td",{class:"p-3"},[y("Each with "),o("code",null,"label"),y(", "),o("code",null,"values"),y(", and optional "),o("code",null,"color"),y(".")])]),o("tr",null,[o("td",{class:"p-3 font-mono text-cyan-400"},"dataset.color"),o("td",{class:"p-3 font-mono text-xs"},"string?"),o("td",{class:"p-3"},[o("code",null,"c:p"),y(" (primary), "),o("code",null,"c:s"),y(" (secondary), "),o("code",null,"c:m"),y(" (muted), or hex. ")])])])])])],-1)),o("div",H6,[f[82]||(f[82]=o("h2",{class:"text-2xl font-bold text-white mb-6"},"Chart Types",-1)),o("div",q6,[o("div",Z6,[f[74]||(f[74]=o("div",{class:"flex items-center gap-3 mb-4"},[o("div",{class:"w-10 h-10 rounded-lg bg-blue-500/20 text-blue-400 flex items-center justify-center"},[o("i",{class:"fa-solid fa-chart-column"})]),o("div",null,[o("h3",{class:"text-xl font-bold text-white"},"Bar Chart"),o("p",{class:"text-sm text-white/50"},"Best for comparing discrete categories")])],-1)),f[75]||(f[75]=o("p",{class:"text-white/60 text-sm mb-4"},"Use bar charts to compare values across categories. Ideal for revenue by quarter, sales by region, or any categorical comparison.",-1)),Te(jt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "bar",\r
  "title": "Sales by Region",\r
  "subtitle": "Q4 2024 Performance",\r
  "data": {\r
    "labels": ["North", "South", "East", "West"],\r
    "datasets": [{\r
      "label": "Sales ($K)",\r
      "values": [420, 380, 510, 290],\r
      "color": "c:p"\r
    }]\r
  }\r
}`})]),o("div",W6,[f[76]||(f[76]=o("div",{class:"flex items-center gap-3 mb-4"},[o("div",{class:"w-10 h-10 rounded-lg bg-green-500/20 text-green-400 flex items-center justify-center"},[o("i",{class:"fa-solid fa-chart-line"})]),o("div",null,[o("h3",{class:"text-xl font-bold text-white"},"Line Chart"),o("p",{class:"text-sm text-white/50"},"Best for trends over time")])],-1)),f[77]||(f[77]=o("p",{class:"text-white/60 text-sm mb-4"},"Use line charts to show trends and changes over time. Perfect for growth metrics, stock prices, or any time-series data. ",-1)),Te(jt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "line",\r
  "title": "Monthly Active Users",\r
  "subtitle": "2024 Growth Trend",\r
  "data": {\r
    "labels": ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],\r
    "datasets": [{\r
      "label": "Users (K)",\r
      "values": [45, 52, 61, 78, 95, 120],\r
      "color": "#10b981"\r
    }]\r
  }\r
}`})]),o("div",G6,[f[78]||(f[78]=o("div",{class:"flex items-center gap-3 mb-4"},[o("div",{class:"w-10 h-10 rounded-lg bg-purple-500/20 text-purple-400 flex items-center justify-center"},[o("i",{class:"fa-solid fa-chart-pie"})]),o("div",null,[o("h3",{class:"text-xl font-bold text-white"},"Pie Chart"),o("p",{class:"text-sm text-white/50"},"Best for showing proportions")])],-1)),f[79]||(f[79]=o("p",{class:"text-white/60 text-sm mb-4"},"Use pie charts to show how parts make up a whole. Ideal for market share, budget allocation, or percentage distributions. ",-1)),Te(jt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "pie",\r
  "title": "Market Share",\r
  "subtitle": "Industry Distribution Q4 2024",\r
  "data": {\r
    "labels": ["Product A", "Product B", "Product C", "Others"],\r
    "datasets": [{\r
      "label": "Share %",\r
      "values": [35, 28, 22, 15]\r
    }]\r
  }\r
}`})]),o("div",K6,[f[80]||(f[80]=o("div",{class:"flex items-center gap-3 mb-4"},[o("div",{class:"w-10 h-10 rounded-lg bg-amber-500/20 text-amber-400 flex items-center justify-center"},[o("i",{class:"fa-solid fa-circle-notch"})]),o("div",null,[o("h3",{class:"text-xl font-bold text-white"},"Doughnut Chart"),o("p",{class:"text-sm text-white/50"},"Modern alternative to pie charts")])],-1)),f[81]||(f[81]=o("p",{class:"text-white/60 text-sm mb-4"},"Similar to pie charts but with a hollow center. The modern look works great for dashboards and can display a metric in the center.",-1)),Te(jt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "doughnut",\r
  "title": "Budget Allocation",\r
  "subtitle": "2025 Planned Spend",\r
  "data": {\r
    "labels": ["Engineering", "Marketing", "Sales", "Operations"],\r
    "datasets": [{\r
      "label": "Budget",\r
      "values": [40, 25, 20, 15]\r
    }]\r
  }\r
}`})])])]),o("div",J6,[f[83]||(f[83]=o("h2",{class:"text-2xl font-bold text-white mb-6"},"Advanced: Multiple Datasets",-1)),f[84]||(f[84]=o("p",{class:"text-white/60 mb-6"},"Bar and line charts support multiple datasets for comparisons. Each dataset gets its own color and legend entry.",-1)),Te(jt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "bar",\r
  "title": "Year-over-Year Comparison",\r
  "subtitle": "Revenue by Quarter",\r
  "data": {\r
    "labels": ["Q1", "Q2", "Q3", "Q4"],\r
    "datasets": [\r
      {\r
        "label": "2023",\r
        "values": [100, 120, 140, 160],\r
        "color": "#6b7280"\r
      },\r
      {\r
        "label": "2024",\r
        "values": [120, 150, 180, 220],\r
        "color": "c:p"\r
      }\r
    ]\r
  },\r
  video: \`{\r
  "type": "statement",\r
  "sizing": "container",\r
  "meta": { "orbColor": "#ec4899" },\r
  "background": {\r
    "type": "video",\r
    "src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",\r
    "opacity": 0.4\r
  },\r
  "tag": "Cinematic",\r
  "title": "Video Backgrounds",\r
  "subtitle": "Immersive support."\r
}\`\r
}`})]),f[89]||(f[89]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Color Tokens"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Token"),o("th",{class:"p-3 border-b border-white/10"},"Maps To"),o("th",{class:"p-3 border-b border-white/10"},"Default")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"c:p"),o("td",{class:"p-3"},"--lumina-colors-primary"),o("td",{class:"p-3"},[o("span",{class:"inline-block w-4 h-4 rounded bg-blue-500 mr-2"}),y("#3b82f6 ")])]),o("tr",null,[o("td",{class:"p-3 font-mono text-green-400"},"c:s"),o("td",{class:"p-3"},"--lumina-colors-secondary"),o("td",{class:"p-3"},[o("span",{class:"inline-block w-4 h-4 rounded bg-emerald-500 mr-2"}),y("#10b981 ")])]),o("tr",null,[o("td",{class:"p-3 font-mono text-gray-400"},"c:m"),o("td",{class:"p-3"},"--lumina-colors-muted"),o("td",{class:"p-3"},[o("span",{class:"inline-block w-4 h-4 rounded bg-gray-400 mr-2"}),y("#9ca3af ")])]),o("tr",null,[o("td",{class:"p-3 font-mono text-pink-400"},"#ec4899"),o("td",{class:"p-3"},"Direct hex color"),o("td",{class:"p-3"},[o("span",{class:"inline-block w-4 h-4 rounded bg-pink-500 mr-2"}),y("Custom ")])])])])])],-1)),f[90]||(f[90]=o("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[o("h4",{class:"text-yellow-400 font-bold mb-2"},[o("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tips ")]),o("ul",{class:"text-sm text-yellow-200/80 space-y-2 m-0 list-none"},[o("li",null,[y(" "),o("strong",null,"Bar charts"),y(" work best with 4-8 categories")]),o("li",null,[y(" "),o("strong",null,"Line charts"),y(" need at least 3 data points for smooth curves")]),o("li",null,[y(" "),o("strong",null,"Pie/Doughnut"),y(" should have 3-6 segments max for clarity")]),o("li",null,[y(" "),o("strong",null,"LLM Tip:"),y(" Have agents extract tabular data from CSVs and generate charts automatically")])])],-1))])):e.value==="ref-custom"?(V(),z("div",Q6,[f[93]||(f[93]=o("h1",null,"Custom HTML Slide",-1)),f[94]||(f[94]=o("p",{class:"lead"},"Full control with raw HTML content. Inject any HTML structure with custom styling.",-1)),f[95]||(f[95]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),o("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[o("table",{class:"w-full text-left text-sm text-gray-400"},[o("thead",{class:"bg-white/5 text-white font-bold"},[o("tr",null,[o("th",{class:"p-3 border-b border-white/10"},"Property"),o("th",{class:"p-3 border-b border-white/10"},"Type"),o("th",{class:"p-3 border-b border-white/10"},"Description")])]),o("tbody",{class:"divide-y divide-white/5"},[o("tr",null,[o("td",{class:"p-3 font-mono text-purple-400"},"type"),o("td",{class:"p-3 font-mono text-xs"},'"custom"'),o("td",{class:"p-3"},"Required.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"html"),o("td",{class:"p-3 font-mono text-xs"},"string"),o("td",{class:"p-3"},"Raw HTML content to render.")]),o("tr",null,[o("td",{class:"p-3 font-mono text-blue-400"},"css"),o("td",{class:"p-3 font-mono text-xs"},"string?"),o("td",{class:"p-3"},"Optional scoped CSS styles.")])])])])],-1)),o("div",Y6,[f[91]||(f[91]=o("h2",{class:"text-xl font-bold text-white mb-4"},"Basic Example",-1)),f[92]||(f[92]=o("p",{class:"text-white/60 mb-6"},"Render any HTML structure with full styling control.",-1)),Te(jt,{"initial-code":`{\r
  "type": "custom",\r
  "html": "<div class=\\"custom-slide\\"><h1 class=\\"custom-title\\">Welcome!</h1><p class=\\"custom-text\\">This is fully custom HTML content.</p><div class=\\"custom-grid\\"><div class=\\"custom-card\\">Card 1</div><div class=\\"custom-card\\">Card 2</div><div class=\\"custom-card\\">Card 3</div></div></div>",\r
  "css": ".custom-slide { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100%; padding: 2rem; } .custom-title { font-size: 3rem; font-weight: bold; margin-bottom: 1rem; background: linear-gradient(90deg, #3b82f6, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; } .custom-text { font-size: 1.25rem; opacity: 0.7; margin-bottom: 2rem; } .custom-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; } .custom-card { padding: 2rem; background: rgba(255,255,255,0.05); border-radius: 1rem; border: 1px solid rgba(255,255,255,0.1); text-align: center; transition: transform 0.2s; } .custom-card:hover { transform: translateY(-4px); }"\r
}`})]),f[96]||(f[96]=o("div",{class:"my-8"},[o("h2",{class:"text-xl font-bold text-white mb-4"},"Use Cases"),o("ul",{class:"space-y-3 text-white/70"},[o("li",null,[o("strong",null,"Embedding iframes:"),y(" YouTube videos, maps, or external widgets")]),o("li",null,[o("strong",null,"Custom visualizations:"),y(" D3.js charts, SVG animations")]),o("li",null,[o("strong",null,"Brand-specific layouts:"),y(" Complex designs not covered by built-in layouts")]),o("li",null,[o("strong",null,"Interactive components:"),y(" Forms, quizzes, or custom buttons")])])],-1)),f[97]||(f[97]=o("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[o("h4",{class:"text-yellow-400 font-bold mb-2"},[o("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tips")]),o("ul",{class:"text-sm text-yellow-200/80 space-y-2 m-0 list-none"},[o("li",null,[y(" "),o("strong",null,"Scoped CSS:"),y(" Styles are scoped to prevent conflicts with Lumina's base styles")]),o("li",null,[y(" "),o("strong",null,"Responsive:"),y(" Use CSS Grid or Flexbox with relative units for mobile support")]),o("li",null,[y(" "),o("strong",null,"LLM Usage:"),y(" Custom slides are great when the AI needs complete creative freedom")]),o("li",null,[y(" "),o("strong",null,"Sanitization:"),y(" HTML is rendered as-is; sanitize user input if needed")])])],-1))])):e.value==="ref-auto"?(V(),z("div",X6,[f[100]||(f[100]=o("h1",null,"Auto Strategy",-1)),f[101]||(f[101]=o("p",{class:"lead"},"Smartly chooses the best layout based on the data structure provided. Useful for AI agents or rapid prototyping.",-1)),f[102]||(f[102]=o("div",{class:"p-6 bg-blue-500/10 border border-blue-500/20 rounded-xl my-8"},[o("h3",{class:"text-blue-400 font-bold mb-2"},"How it works"),o("ul",{class:"list-disc list-inside text-sm text-blue-200/80 space-y-1"},[o("li",null,[y("If "),o("code",null,"chartType"),y(" + "),o("code",null,"data.datasets"),y(" exist -> "),o("strong",null,"Chart")]),o("li",null,[y("If "),o("code",null,"timeline"),y(" array exists -> "),o("strong",null,"Timeline")]),o("li",null,[y("If "),o("code",null,"steps"),y(" array exists -> "),o("strong",null,"Steps")]),o("li",null,[y("If "),o("code",null,"features"),y(" array exists -> "),o("strong",null,"Features")]),o("li",null,[y("If "),o("code",null,"image"),y(" exists -> "),o("strong",null,"Half")]),o("li",null,[y("Otherwise -> "),o("strong",null,"Statement")])])],-1)),o("div",eO,[f[98]||(f[98]=o("h2",{class:"text-xl font-bold text-white mb-4"},"Live Examples",-1)),f[99]||(f[99]=o("p",{class:"text-sm text-gray-400 mb-6"},[y("Use the navigation arrows to see how each slide renders with the same "),o("code",null,'type: "auto"'),y(" but different data structures.")],-1)),Te(jt,{"initial-code":`{\r
  "slides": [\r
    {\r
      "type": "auto",\r
      "title": "Welcome to Lumina",\r
      "subtitle": "The AI-Native Presentation Engine"\r
    },\r
    {\r
      "type": "auto",\r
      "title": "Core Features",\r
      "features": [\r
        { "title": "Fast", "desc": "60fps animations", "icon": "fa-bolt" },\r
        { "title": "Simple", "desc": "JSON-first API", "icon": "fa-code" },\r
        { "title": "Smart", "desc": "AI-ready engine", "icon": "fa-brain" }\r
      ]\r
    },\r
    {\r
      "type": "auto",\r
      "title": "Our Roadmap",\r
      "timeline": [\r
        { "date": "Q1", "title": "Alpha", "description": "Core Engine" },\r
        { "date": "Q2", "title": "Beta", "description": "Public Testing" },\r
        { "date": "Q4", "title": "Launch", "description": "V1.0 Release" }\r
      ]\r
    },\r
    {\r
      "type": "auto",\r
      "title": "Getting Started",\r
      "steps": [\r
        { "step": 1, "title": "Install", "description": "npm install lumina-slides" },\r
        { "step": 2, "title": "Import", "description": "Import the Lumina class" },\r
        { "step": 3, "title": "Create", "description": "Define your JSON slides" }\r
      ]\r
    },\r
    {\r
      "type": "auto",\r
      "title": "Visual Content",\r
      "image": "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=800",\r
      "paragraphs": ["Auto-detect image slides for visual storytelling."]\r
    }\r
  ]\r
}`})])])):ie("",!0)]))]),_:1})])]))}}),nO=Xr(tO,[["__scopeId","data-v-314f8453"]]),sO={class:"min-h-screen pt-24 px-4 lg:px-8 max-w-full"},rO={class:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]"},iO={class:"w-full lg:w-1/3 flex flex-col"},oO={class:"flex items-center justify-between mb-4"},aO={class:"flex gap-2"},lO={class:"flex-1 relative rounded-xl overflow-hidden border border-white/10 bg-black/50"},cO={key:0,class:"absolute bottom-0 left-0 right-0 px-4 py-2 bg-red-500/20 border-t border-red-500/30 text-red-400 text-xs font-mono"},uO={class:"w-full lg:w-2/3 flex flex-col"},dO={class:"flex items-center justify-between mb-4"},hO={class:"flex items-center gap-4"},fO={key:0,class:"text-sm text-white/40"},pO={class:"flex gap-1"},mO={class:"flex-1 rounded-xl overflow-hidden border border-white/10 bg-black relative"},gO={key:0,class:"absolute inset-0 flex items-center justify-center text-white/30"},bO=Ne({__name:"SitePlayground",setup(t){const e=de(""),n=de(null),s=de(!1),r=de(null),i=de(null),a=de(0),l=de(!1);let c=null,d=null;const h={flex:`{
  "meta": { "title": "Playground" },
  "slides": [
    {
      "type": "flex",
      "direction": "horizontal",
      "notes": "**Demo slide** - Show how the flex layout works. Point out the image on the left. Explain content stacking. Mention the button actions.",
      "elements": [
        {
          "type": "image",
          "src": "./brains.png",
          "size": "half",
          "fill": true
        },
        {
          "type": "content",
          "size": "half",
          "valign": "center",
          "padding": "xl",
          "gap": "lg",
          "elements": [
            { "type": "title", "text": "Hello World", "size": "2xl" },
            { "type": "text", "text": "Edit this JSON to see changes in real-time.", "muted": true },
            { "type": "bullets", "items": ["Flow-based layout", "No coordinates", "LLM friendly"] },
            { "type": "button", "label": "Get Started", "variant": "primary" }
          ]
        }
      ]
    },
    {
      "type": "statement",
      "tag": "Next Steps",
      "title": "Try the Speaker Notes!",
      "subtitle": "Click the Notes button above to open the presenter view.",
      "notes": "This is the second slide. Encourage them to try the bidirectional sync. Show the timer functionality. Press T to toggle timer."
    }
  ]
}`,statement:`{
  "meta": { "title": "Playground" },
  "slides": [
    {
      "type": "statement",
      "tag": "Welcome",
      "title": "Hello World",
      "subtitle": "Edit this JSON to see changes instantly.",
      "notes": "Remember to greet the audience! Introduce yourself. Set expectations for the presentation."
    }
  ]
}`,custom:`{
  "meta": { "title": "Custom Slide" },
  "slides": [
    {
      "type": "custom",
      "html": "<div class='custom-container'><h1 class='custom-title'>Custom HTML Slide</h1><p class='custom-text'>This slide uses raw HTML content!</p><div class='custom-grid'><div class='custom-card'>Card 1</div><div class='custom-card'>Card 2</div><div class='custom-card'>Card 3</div></div></div>",
      "css": ".custom-container { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; padding: 2rem; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); } .custom-title { font-size: 4rem; font-weight: bold; background: linear-gradient(90deg, #00d4ff, #7c3aed); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem; } .custom-text { font-size: 1.5rem; color: rgba(255,255,255,0.7); margin-bottom: 3rem; } .custom-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; } .custom-card { padding: 2rem; background: rgba(255,255,255,0.05); border-radius: 1rem; border: 1px solid rgba(255,255,255,0.1); color: white; font-weight: 600; }",
      "notes": "This is a custom HTML slide with inline CSS. You have full control over the layout!"
    }
  ]
}`},m=$=>{e.value=h[$],v()},f=()=>{try{const $=JSON.parse(e.value);e.value=JSON.stringify($,null,2)}catch{}},g=()=>{var $;if(e.value.trim())try{let R=JSON.parse(e.value);R.type&&!R.slides&&(R={meta:{title:"Exported Deck"},slides:[{...R,sizing:"container"}]}),R.slides&&R.slides.forEach(_=>_.sizing="container");const L=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${(($=R.meta)==null?void 0:$.title)||"Lumina Presentation"}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lumina-slides@8.2.5/dist/style.css">
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #000; font-family: sans-serif; }
        #app { width: 100vw; height: 100vh; }
    </style>
</head>
<body>
    <div id="app"></div>
    
    <!-- Lumina Engine (Universal Build) -->
    <script src="https://cdn.jsdelivr.net/npm/lumina-slides@8.2.5/dist/lumina-slides.umd.cjs"><\/script>
    
    <script>
        // Initialize when ready
        document.addEventListener('DOMContentLoaded', () => {
            const { Lumina } = LuminaSlides;
            
            // The JSON from your playground
            const deckData = ${JSON.stringify(R,null,4)};

            // Start the engine
            const engine = new Lumina('#app', {
                loop: true,
                navigation: true,
                ui: {
                    visible: true,
                    showSlideCount: true,
                    showControls: true,
                    showProgressBar: true
                },
                keys: {
                    next: ['ArrowRight', ' ', 'Enter'],
                    prev: ['ArrowLeft', 'Backspace']
                },
                animation: { enabled: true, durationIn: 0.5 }
            });
            
            engine.load(deckData);
        });
    <\/script>
</body>
</html>`,F=new Blob([L],{type:"text/html"}),T=URL.createObjectURL(F),w=document.createElement("a");w.href=T,w.download="lumina-deck.html",document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(T)}catch(R){alert("Invalid JSON: "+R.message)}},x=()=>{d&&clearTimeout(d),d=setTimeout(v,300)},v=async()=>{var $;if(n.value=null,!e.value.trim()){s.value=!1;return}try{let R=JSON.parse(e.value);R.type&&!R.slides&&(R={meta:{title:"Playground"},slides:[{...R,sizing:"container"}]}),R.slides&&R.slides.forEach(L=>L.sizing="container"),s.value=!0,c||(await Ss(),c=new Wr("#playground-container",{loop:!0,navigation:!0,ui:{visible:!0,showSlideCount:!0,showControls:!0,showProgressBar:!0},keys:{next:["ArrowRight"," ","Enter"],prev:["ArrowLeft","Backspace"]},animation:{enabled:!0,durationIn:.5}}),c.on("slideChange",L=>{i.value=L.index})),c.load(R),a.value=(($=R.slides)==null?void 0:$.length)||0,i.value=0}catch(R){n.value=R.message||"Invalid JSON",s.value=!1}},A=()=>{c&&c.prev()},O=()=>{c&&c.next()},N=()=>{if(!c)return;const $=c.openSpeakerNotes();if($){l.value=!0;const R=setInterval(()=>{$.closed&&(l.value=!1,clearInterval(R))},500)}else alert("Popup blocked! Please allow popups for speaker notes.")};return mn(()=>{m("flex")}),qn(()=>{c&&(c.destroy(),c=null),d&&clearTimeout(d)}),($,R)=>(V(),z("div",sO,[o("div",rO,[o("div",iO,[o("div",oO,[R[5]||(R[5]=o("h2",{class:"text-xl font-bold text-white"},"JSON Editor",-1)),o("div",aO,[o("button",{onClick:R[0]||(R[0]=L=>m("flex")),class:"px-3 py-1.5 text-xs font-bold uppercase bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition"}," Flex "),o("button",{onClick:R[1]||(R[1]=L=>m("statement")),class:"px-3 py-1.5 text-xs font-bold uppercase bg-purple-500/20 text-purple-400 rounded-lg hover:bg-purple-500/30 transition"}," Statement "),o("button",{onClick:R[2]||(R[2]=L=>m("custom")),class:"px-3 py-1.5 text-xs font-bold uppercase bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition"}," Custom "),o("button",{onClick:f,class:"px-3 py-1.5 text-xs font-bold uppercase bg-white/10 text-white/60 rounded-lg hover:bg-white/20 transition"}," Format "),o("button",{onClick:g,class:"px-3 py-1.5 text-xs font-bold uppercase bg-pink-500/20 text-pink-400 rounded-lg hover:bg-pink-500/30 transition flex items-center gap-1.5",title:"Export as standalone HTML"},[...R[4]||(R[4]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o("polyline",{points:"7 10 12 15 17 10"}),o("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),y(" Export ",-1)])])])]),o("div",lO,[Zi(o("textarea",{ref_key:"editorRef",ref:r,"onUpdate:modelValue":R[3]||(R[3]=L=>e.value=L),onInput:x,spellcheck:"false",class:"w-full h-full p-6 bg-transparent text-white font-mono text-sm leading-relaxed resize-none focus:outline-none",placeholder:'{"type": "flex", "elements": [...]}'},null,544),[[Wi,e.value]]),n.value?(V(),z("div",cO,te(n.value),1)):ie("",!0)])]),o("div",uO,[o("div",dO,[R[7]||(R[7]=o("h2",{class:"text-xl font-bold text-white"},"Live Preview",-1)),o("div",hO,[i.value!==null?(V(),z("span",fO," Slide "+te(i.value+1)+" / "+te(a.value),1)):ie("",!0),o("div",pO,[o("button",{onClick:A,class:"w-8 h-8 rounded-lg bg-white/10 text-white/60 hover:bg-white/20 transition flex items-center justify-center",title:"Previous slide ()"},"  "),o("button",{onClick:O,class:"w-8 h-8 rounded-lg bg-white/10 text-white/60 hover:bg-white/20 transition flex items-center justify-center",title:"Next slide ()"},"  "),o("button",{onClick:N,class:ce(["ml-2 px-3 py-1.5 text-xs font-bold uppercase rounded-lg transition flex items-center gap-1.5",l.value?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400 hover:bg-amber-500/30"]),title:"Open Speaker Notes (S)"},[R[6]||(R[6]=o("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),o("path",{d:"M2 17l10 5 10-5"}),o("path",{d:"M2 12l10 5 10-5"})],-1)),y(" "+te(l.value?"Notes Open":"Notes"),1)],2)])])]),o("div",mO,[R[9]||(R[9]=o("div",{id:"playground-container",class:"w-full h-full"},null,-1)),s.value?ie("",!0):(V(),z("div",gO,[...R[8]||(R[8]=[o("div",{class:"text-center"},[o("p",{class:"text-4xl mb-4"},""),o("p",{class:"text-lg font-medium"},"Enter valid JSON to see preview"),o("p",{class:"text-sm mt-2"},"Try clicking a template button above")],-1)])]))])])])]))}}),yO=Xr(bO,[["__scopeId","data-v-a77ef9f7"]]),_O={class:"min-h-screen pt-28 px-4 lg:px-8 max-w-5xl mx-auto pb-32"},vO={class:"flex justify-center mb-12"},xO={class:"flex items-center gap-2"},wO=["onClick"],TO={key:0,class:"w-8 h-0.5 bg-white/10"},EO={class:"max-w-2xl mx-auto"},SO={key:0,class:"space-y-6"},IO={class:"text-2xl font-bold text-center mb-8"},kO={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},CO=["onClick"],AO={class:"text-3xl block mb-2"},PO={class:"font-medium"},RO={key:1,class:"space-y-6"},OO={class:"text-2xl font-bold text-center mb-8"},DO={class:"grid grid-cols-2 gap-4"},NO=["onClick"],VO={class:"text-2xl mb-2 block"},$O={class:"font-bold block"},LO={class:"text-sm text-white/50"},MO={key:2,class:"space-y-6"},zO={class:"text-2xl font-bold text-center mb-8"},FO=["disabled"],jO={key:3,class:"space-y-6"},BO={class:"text-2xl font-bold text-center mb-8"},UO={class:"grid grid-cols-2 gap-4"},HO=["onClick"],qO={class:"text-2xl mb-2 block"},ZO={class:"font-bold"},WO={key:4,class:"space-y-6"},GO={class:"text-2xl font-bold text-center mb-8"},KO={class:"flex items-center justify-center gap-4"},JO={class:"text-5xl font-bold w-20 text-center"},QO={class:"flex items-center justify-center gap-3 pt-4"},YO={key:5,class:"space-y-6"},XO={class:"relative"},eD={class:"p-6 rounded-xl bg-black border border-white/10 max-h-96 overflow-y-auto"},tD={class:"text-sm text-white/80 whitespace-pre-wrap font-mono"},nD={class:"flex gap-4"},sD={key:0,class:"max-w-2xl mx-auto mt-8"},rD=Ne({__name:"SitePromptBuilder",setup(t){const e=de(0),n=de(!1),s=de(""),r=["Language","Style","Topic","Audience","Slides","Done"],i=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""}],a=[{id:"minimalist",name:"Minimalist",desc:"Clean and simple",icon:""},{id:"corporate",name:"Corporate",desc:"Professional and formal",icon:""},{id:"creative",name:"Creative",desc:"Bold and expressive",icon:""},{id:"technical",name:"Technical",desc:"Data and detail focused",icon:""}],l=[{id:"investors",name:"Investors",icon:""},{id:"executives",name:"Executives",icon:""},{id:"team",name:"Team/Internal",icon:""},{id:"customers",name:"Customers",icon:""},{id:"students",name:"Students",icon:""},{id:"general",name:"General Public",icon:""}],c=de({language:"en",style:"minimalist",topic:"",audience:"general",slideCount:8,includeNotes:!0}),d=()=>{e.value<r.length-1&&e.value++},h=Ie(()=>{var v,A,O;const f=((v=i.find(N=>N.code===c.value.language))==null?void 0:v.name)||"English",g=((A=a.find(N=>N.id===c.value.style))==null?void 0:A.name)||"Minimalist",x=((O=l.find(N=>N.id===c.value.audience))==null?void 0:O.name)||"General";return`${s.value}

---

## USER REQUEST

**Language**: ${f}
**Style**: ${g}
**Audience**: ${x}
**Slide Count**: ${c.value.slideCount}
**Topic**: ${c.value.topic}

**Requirements**:
${c.value.includeNotes?`- **JSON Schema**: Every slide object MUST include the "notes" property.
- Include key talking points and timing in the notes.`:""}
- Follow all quality constraints defined in the system prompt.

Please generate the presentation now.`}),m=async()=>{try{await navigator.clipboard.writeText(h.value),n.value=!0,setTimeout(()=>n.value=!1,2e3)}catch(f){console.error("Failed to copy:",f)}};return mn(async()=>{try{const f="./lumina-llm-prompt.txt";console.log("Fetching system prompt from:",new URL(f,window.location.href).href);const g=await fetch(f);if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);s.value=await g.text()}catch(f){console.error("Failed to load base prompt:",f),s.value="Error loading system prompt. Please ensure 'lumina-llm-prompt.txt' is in the public folder."}}),(f,g)=>(V(),z("div",_O,[g[13]||(g[13]=o("div",{class:"text-center mb-12"},[o("h1",{class:"text-4xl lg:text-5xl font-bold mb-4"},"Prompt Builder"),o("p",{class:"text-lg text-white/60"},"Create a customized prompt for any LLM to generate Lumina slides")],-1)),o("div",vO,[o("div",xO,[(V(),z(Ee,null,et(r,(x,v)=>(V(),z(Ee,{key:v},[o("button",{onClick:A=>e.value=v,class:ce(["w-10 h-10 rounded-full font-bold text-sm transition-all",e.value===v?"bg-blue-500 text-white scale-110":e.value>v?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-white/10 text-white/40"])},te(e.value>v?"":v+1),11,wO),v<r.length-1?(V(),z("div",TO)):ie("",!0)],64))),64))])]),o("div",EO,[e.value===0?(V(),z("div",SO,[o("h2",IO,te(r[0]),1),o("div",kO,[(V(),z(Ee,null,et(i,x=>o("button",{key:x.code,onClick:v=>{c.value.language=x.code,d()},class:ce(["p-6 rounded-xl border transition-all text-center hover:scale-105",c.value.language===x.code?"bg-blue-500/20 border-blue-500 text-white":"bg-white/5 border-white/10 hover:border-white/30"])},[o("span",AO,te(x.flag),1),o("span",PO,te(x.name),1)],10,CO)),64))])])):ie("",!0),e.value===1?(V(),z("div",RO,[o("h2",OO,te(r[1]),1),o("div",DO,[(V(),z(Ee,null,et(a,x=>o("button",{key:x.id,onClick:v=>{c.value.style=x.id,d()},class:ce(["p-6 rounded-xl border transition-all hover:scale-105",c.value.style===x.id?"bg-blue-500/20 border-blue-500":"bg-white/5 border-white/10 hover:border-white/30"])},[o("span",VO,te(x.icon),1),o("span",$O,te(x.name),1),o("span",LO,te(x.desc),1)],10,NO)),64))])])):ie("",!0),e.value===2?(V(),z("div",MO,[o("h2",zO,te(r[2]),1),Zi(o("textarea",{"onUpdate:modelValue":g[0]||(g[0]=x=>c.value.topic=x),rows:"4",class:"w-full p-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder-white/30 focus:outline-none focus:border-blue-500",placeholder:"Describe your presentation topic in a few sentences..."},null,512),[[Wi,c.value.topic]]),o("button",{onClick:g[1]||(g[1]=x=>d()),disabled:!c.value.topic.trim(),class:"w-full py-4 rounded-xl bg-blue-500 text-white font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition"}," Continue  ",8,FO)])):ie("",!0),e.value===3?(V(),z("div",jO,[o("h2",BO,te(r[3]),1),o("div",UO,[(V(),z(Ee,null,et(l,x=>o("button",{key:x.id,onClick:v=>{c.value.audience=x.id,d()},class:ce(["p-6 rounded-xl border transition-all hover:scale-105",c.value.audience===x.id?"bg-blue-500/20 border-blue-500":"bg-white/5 border-white/10 hover:border-white/30"])},[o("span",qO,te(x.icon),1),o("span",ZO,te(x.name),1)],10,HO)),64))])])):ie("",!0),e.value===4?(V(),z("div",WO,[o("h2",GO,te(r[4]),1),o("div",KO,[o("button",{onClick:g[2]||(g[2]=x=>c.value.slideCount=Math.max(3,c.value.slideCount-1)),class:"w-12 h-12 rounded-full bg-white/10 text-xl font-bold hover:bg-white/20"},""),o("span",JO,te(c.value.slideCount),1),o("button",{onClick:g[3]||(g[3]=x=>c.value.slideCount=Math.min(20,c.value.slideCount+1)),class:"w-12 h-12 rounded-full bg-white/10 text-xl font-bold hover:bg-white/20"},"+")]),g[9]||(g[9]=o("p",{class:"text-center text-white/40 text-sm"},"Recommended: 5-12 slides",-1)),o("div",QO,[o("button",{onClick:g[4]||(g[4]=x=>c.value.includeNotes=!c.value.includeNotes),class:ce(["relative w-12 h-6 rounded-full transition-colors duration-200 ease-in-out",c.value.includeNotes?"bg-blue-500":"bg-white/10"])},[o("span",{class:ce(["absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform duration-200",c.value.includeNotes?"translate-x-6":"translate-x-0"])},null,2)],2),o("span",{class:"text-white font-medium cursor-pointer",onClick:g[5]||(g[5]=x=>c.value.includeNotes=!c.value.includeNotes)}," Include Speaker Notes ")]),o("button",{onClick:g[6]||(g[6]=x=>d()),class:"w-full py-4 rounded-xl bg-blue-500 text-white font-bold hover:bg-blue-600 transition"}," Generate Prompt  ")])):ie("",!0),e.value===5?(V(),z("div",YO,[g[11]||(g[11]=o("h2",{class:"text-2xl font-bold text-center mb-4"},"Your Prompt is Ready!",-1)),g[12]||(g[12]=o("p",{class:"text-center text-white/60 mb-8"},"Copy and paste this into ChatGPT, Claude, or any LLM",-1)),o("div",XO,[o("div",eD,[o("pre",tD,te(h.value),1)]),o("button",{onClick:m,class:ce(["absolute top-4 right-4 px-4 py-2 rounded-lg font-bold text-sm transition",n.value?"bg-green-500 text-white":"bg-white/10 hover:bg-white/20"])},te(n.value?" Copied!":"Copy"),3)]),o("div",nD,[o("button",{onClick:g[7]||(g[7]=x=>e.value=0),class:"flex-1 py-4 rounded-xl bg-white/10 text-white font-bold hover:bg-white/20 transition"},"  Start Over "),g[10]||(g[10]=o("a",{href:"https://chat.openai.com",target:"_blank",class:"flex-1 py-4 rounded-xl bg-blue-500 text-white font-bold hover:bg-blue-600 transition text-center"}," Open ChatGPT  ",-1))])])):ie("",!0)]),e.value>0&&e.value<5?(V(),z("div",sD,[o("button",{onClick:g[8]||(g[8]=x=>e.value--),class:"text-white/50 hover:text-white transition"},"  Back ")])):ie("",!0)]))}}),iD={class:"min-h-screen pt-32 px-8 max-w-7xl mx-auto pb-24"},oD={key:0,class:"text-white/50 animate-pulse"},aD={key:1,class:"text-red-400"},lD={key:2,class:"space-y-24"},cD={class:"border-b border-white/10 pb-6"},uD={class:"text-4xl font-bold text-blue-400 mb-2"},dD={key:0,class:"space-y-16"},hD={class:"flex items-baseline gap-4"},fD={class:"text-3xl font-bold text-emerald-400"},pD=["innerHTML"],mD={key:0,class:"space-y-4 my-8"},gD=["innerHTML"],bD={class:"bg-white/5 rounded-2xl border border-white/10 overflow-hidden"},yD={class:"p-8 space-y-8"},_D={class:"text-lg md:text-xl font-bold text-emerald-200 block mb-4"},vD=["innerHTML"],xD=["innerHTML"],wD={key:0,class:"space-y-2"},TD={class:"w-32 shrink-0 font-mono text-purple-300"},ED={class:"text-white/50"},SD=["innerHTML"],ID={key:1},kD={class:"grid gap-6"},CD={class:"flex items-start justify-between mb-4"},AD={class:"text-xl font-bold text-emerald-200"},PD=["innerHTML"],RD={class:"text-xs font-mono text-white/40"},OD=["innerHTML"],DD={key:0,class:"mt-6 pt-6 border-t border-white/5"},ND={class:"space-y-3"},VD={class:"font-mono text-purple-300"},$D=["innerHTML"],LD=["innerHTML"],MD={key:1,class:"space-y-12"},zD={class:"grid gap-12"},FD={class:"flex items-baseline gap-4"},jD={class:"text-2xl font-bold text-pink-300"},BD=["innerHTML"],UD={key:0,class:"space-y-4 my-6"},HD=["innerHTML"],qD={key:1,class:"bg-white/5 rounded-xl border border-white/10 overflow-hidden"},ZD={class:"divide-y divide-white/5"},WD={class:"font-mono text-purple-300"},GD={key:0,class:"text-white/30"},KD=["innerHTML"],JD=["innerHTML"],QD=Ne({__name:"SiteApi",setup(t){const e=de([]),n=de(!0),s=de(null),r=(f,g)=>{var x;return(x=f.children)==null?void 0:x.some(v=>g.includes(v.kind))},i=(f,g)=>f.children?f.children.filter(x=>g.includes(x.kind)):[],a=f=>{if(!(f!=null&&f.summary))return"";const g=f.summary.map(x=>x.text).join("");return l(g)},l=f=>f?f.replace(/```([\s\S]*?)```/g,'<pre class="bg-black/50 p-4 rounded-lg my-2"><code class="text-sm">$1</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-white/10 px-1.5 py-0.5 rounded text-sm font-mono text-blue-200">$1</code>').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white">$1</strong>').replace(/\n/g,"<br>"):"",c=(f,g)=>f!=null&&f.blockTags?f.blockTags.filter(x=>x.tag===g).map(x=>x.content.map(v=>v.text).join("")):[],d=f=>{var g;return(g=e.value[0])!=null&&g.children?e.value[0].children.find(x=>x.name===f):null},h=(f,g=!1,x=0)=>{if(!f)return"void";if(x>2)return'<span class="text-white/30">...</span>';if(f.type==="intrinsic")return`<span class="text-blue-300 font-mono">${f.name}</span>`;if(f.type==="literal")return`<span class="text-green-300 font-mono">'${f.value}'</span>`;if(f.type==="reference"){const v=f.name;if(g||["SlideType","LuminaEventType","ThemeConfig","LuminaKeyBindings","LuminaUIOptions","LuminaAnimationOptions"].includes(v)){const O=d(v);if(O){if(O.kind===4194304&&O.type)return h(O.type,!1,x+1);if(O.kind===256){const N=i(O,[1024]);if(N&&N.length)return h({type:"reflection",declaration:{children:N}},!1,x+1)}}}return`<span class="text-yellow-300 font-bold border-b border-white/10 decoration-dotted cursor-help" title="Reference">${v}</span>`}return f.type==="union"?f.types.map(v=>h(v,g,x)).join('<span class="text-white/40 mx-2">|</span>'):f.type==="array"?`${h(f.elementType,g,x)}<span class="text-white/60">[]</span>`:f.type==="reflection"&&f.declaration?f.declaration.children?`{ <span class="text-white/80">${f.declaration.children.map(A=>`<span class="text-purple-300">${A.name}</span>: ${h(A.type,!1,x+1)}`).join(", ")}</span> }`:"object":"any"},m=f=>f!=null&&f.parameters?f.parameters.map(g=>`<span class="text-purple-300">${g.name}</span>: ${h(g.type)}`).join(", "):"";return mn(async()=>{try{const f=await fetch("./api-docs.json");if(!f.ok)throw console.error("Fetch failed:",f.status,f.statusText,f.url),new Error(`Docs not found (${f.status})`);const g=await f.json();g.children?e.value=[g]:e.value=[],console.log("Docs Loaded:",e.value)}catch(f){s.value=f.message}finally{n.value=!1}}),(f,g)=>(V(),z("div",iD,[g[12]||(g[12]=o("h1",{class:"text-6xl font-bold mb-12 tracking-tighter"},"API Reference",-1)),n.value?(V(),z("div",oD,"Generated docs loading...")):s.value?(V(),z("div",aD,"Failed to load API docs. "+te(s.value),1)):(V(),z("div",lD,[(V(!0),z(Ee,null,et(e.value,x=>(V(),z("div",{key:x.name,class:"space-y-12"},[o("div",cD,[o("h2",uD,te(x.name),1),g[0]||(g[0]=o("p",{class:"text-white/60"},"Module Reference",-1))]),r(x,[128])?(V(),z("div",dD,[(V(!0),z(Ee,null,et(i(x,[128]),v=>(V(),z("div",{key:v.id,class:"space-y-6"},[o("div",hD,[o("h3",fD,te(v.name),1),g[1]||(g[1]=o("span",{class:"px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-300 text-xs font-bold uppercase tracking-wider"},"Class",-1))]),o("div",{class:"prose prose-invert max-w-none text-white/80 text-lg leading-relaxed",innerHTML:a(v.comment)},null,8,pD),c(v.comment,"@example").length?(V(),z("div",mD,[(V(!0),z(Ee,null,et(c(v.comment,"@example"),(A,O)=>(V(),z("div",{key:O,class:"rounded-xl overflow-hidden border border-white/10 bg-[#0A0A0A]"},[g[2]||(g[2]=o("div",{class:"px-4 py-2 bg-white/5 border-b border-white/5 text-xs font-bold text-white/40 uppercase"}," Example ",-1)),o("div",{class:"p-6 font-mono text-sm text-blue-200 whitespace-pre-wrap overflow-x-auto",innerHTML:l(A)},null,8,gD)]))),128))])):ie("",!0),o("div",bD,[g[4]||(g[4]=o("div",{class:"px-8 py-6 border-b border-white/5"},[o("h4",{class:"text-xl font-bold"},"Constructor")],-1)),o("div",yD,[(V(!0),z(Ee,null,et(i(v,[512]),A=>(V(),z("div",{key:A.id},[o("code",_D,[y(" new "+te(v.name)+"(",1),o("span",{innerHTML:m(A.signatures[0])},null,8,vD),g[3]||(g[3]=y(") ",-1))]),o("div",{class:"text-white/70 mb-4",innerHTML:a(A.signatures[0].comment)},null,8,xD),A.signatures[0].parameters?(V(),z("div",wD,[(V(!0),z(Ee,null,et(A.signatures[0].parameters,O=>(V(),z("div",{key:O.id,class:"flex gap-4 text-sm"},[o("div",TD,te(O.name)+":",1),o("div",ED,te(h(O.type)),1),o("div",{class:"text-white/70",innerHTML:a(O.comment)},null,8,SD)]))),128))])):ie("",!0)]))),128))])]),i(v,[2048]).length?(V(),z("div",ID,[g[7]||(g[7]=o("h4",{class:"text-2xl font-bold mb-6 mt-12"},"Methods",-1)),o("div",kD,[(V(!0),z(Ee,null,et(i(v,[2048]),A=>(V(),z("div",{key:A.id,class:"bg-white/5 p-8 rounded-2xl border border-white/10 hover:border-emerald-500/30 transition duration-300"},[o("div",CD,[o("code",AD,[y(te(A.name)+"(",1),o("span",{innerHTML:m(A.signatures[0])},null,8,PD),g[5]||(g[5]=y(") ",-1))]),o("span",RD,"Points: "+te(A.id),1)]),o("div",{class:"prose prose-invert max-w-none text-white/70 mb-4",innerHTML:a(A.signatures[0].comment)},null,8,OD),A.signatures[0].parameters?(V(),z("div",DD,[g[6]||(g[6]=o("h5",{class:"text-xs font-bold uppercase text-white/40 mb-3"},"Parameters",-1)),o("div",ND,[(V(!0),z(Ee,null,et(A.signatures[0].parameters,O=>(V(),z("div",{key:O.id,class:"grid grid-cols-[120px_1fr] md:grid-cols-[150px_200px_1fr] gap-4 text-sm"},[o("div",VD,te(O.name),1),o("div",{class:"font-mono text-white/50 truncate",innerHTML:h(O.type,!0)},null,8,$D),o("div",{class:"text-white/70",innerHTML:a(O.comment)},null,8,LD)]))),128))])])):ie("",!0)]))),128))])])):ie("",!0)]))),128))])):ie("",!0),r(x,[256])?(V(),z("div",MD,[g[11]||(g[11]=o("h3",{class:"text-3xl font-bold text-pink-400 border-b border-white/10 pb-4"},"Interfaces & Types",-1)),o("div",zD,[(V(!0),z(Ee,null,et(i(x,[256]),v=>(V(),z("div",{key:v.id,class:"space-y-6"},[o("div",FD,[o("h4",jD,te(v.name),1),g[8]||(g[8]=o("span",{class:"px-2 py-0.5 rounded bg-pink-500/10 text-pink-300 text-xs font-bold uppercase"},"Interface",-1))]),o("div",{class:"prose prose-invert max-w-none text-white/80",innerHTML:a(v.comment)},null,8,BD),c(v.comment,"@example").length?(V(),z("div",UD,[(V(!0),z(Ee,null,et(c(v.comment,"@example"),(A,O)=>(V(),z("div",{key:O,class:"rounded-xl overflow-hidden border border-white/10 bg-[#0A0A0A]"},[g[9]||(g[9]=o("div",{class:"px-4 py-2 bg-white/5 border-b border-white/5 text-xs font-bold text-white/40 uppercase"}," Example Structure ",-1)),o("div",{class:"p-6 font-mono text-xs md:text-sm text-blue-200 whitespace-pre-wrap overflow-x-auto",innerHTML:l(A)},null,8,HD)]))),128))])):ie("",!0),i(v,[1024]).length?(V(),z("div",qD,[g[10]||(g[10]=o("div",{class:"grid grid-cols-[200px_1fr_1fr] gap-0 text-sm font-bold bg-white/5 border-b border-white/10 p-4 text-white/40 uppercase tracking-wider"},[o("div",null,"Property"),o("div",null,"Type"),o("div",null,"Description")],-1)),o("div",ZD,[(V(!0),z(Ee,null,et(i(v,[1024]),A=>(V(),z("div",{key:A.id,class:"grid grid-cols-[200px_1fr_1fr] gap-4 p-4 hover:bg-white/5 transition"},[o("div",WD,[y(te(A.name),1),A.flags.isOptional?(V(),z("span",GD,"?")):ie("",!0)]),o("div",{class:"font-mono text-white/60 break-words",innerHTML:h(A.type,!0)},null,8,KD),o("div",{class:"text-white/70",innerHTML:a(A.comment)},null,8,JD)]))),128))])])):ie("",!0)]))),128))])])):ie("",!0)]))),128))]))]))}}),YD={class:"relative w-full min-h-screen bg-[#030303] text-white selection:bg-blue-500/30 overflow-x-hidden"},XD={key:0,class:"w-full"},eN=["href"],tN={class:"fixed top-6 left-1/2 -translate-x-1/2 z-[100] flex justify-center pointer-events-none"},nN={class:"px-6 py-3 rounded-full flex gap-6 pointer-events-auto bg-black/40 backdrop-blur-md border border-white/10 shadow-2xl"},sN={class:"text-white/40 text-xs font-bold uppercase tracking-widest"},rN={key:0,class:"text-blue-400 text-xs font-bold uppercase ml-2 border-l border-white/10 pl-4"},iN={key:0,class:"fixed bottom-12 text-white/30 text-sm"},oN=Ne({__name:"App",setup(t){const e=de("home"),n=de(null),s="/lumina-slides/",r=Ie(()=>!!n.value),i=c=>{const d=new URL(window.location.href);d.searchParams.set("page",c),d.searchParams.delete("deck"),window.history.pushState({},"",d),e.value=c},a=c=>{const d=new URL(window.location.href);d.searchParams.set("deck",c),d.searchParams.delete("page"),window.history.pushState({},"",d),n.value=c,Ss(()=>{l(c)})};mn(async()=>{const c=new URLSearchParams(window.location.search),d=c.get("deck"),h=c.get("page");d?(n.value=d,await Ss(),l(d)):h&&(e.value=h)});async function l(c){const h=new URLSearchParams(window.location.search).get("theme");let m,f=h||"default";try{console.log(` Loading deck: public/${c}.json ...`);const x=await fetch(`${s}${c}.json`);if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);m=await x.json(),m.theme&&!h&&(f=m.theme,console.log(` Using embedded theme: ${f}`))}catch(x){console.error("Failed to load deck:",x),alert(`Could not load 'public/${c}.json'. Check console for details.`);return}const g=new Wr("#demo-container",{loop:!0,debug:!0,navigation:!0,ui:{visible:!0,showSlideCount:!0,showControls:!0,showProgressBar:!0},keys:{next:["ArrowRight"," ","Enter","k"],prev:["ArrowLeft","Backspace","j"]},animation:{enabled:!0,type:"cascade",durationIn:1.2,durationOut:.5,stagger:.15,ease:"expo.out"},theme:f});g.on("ready",x=>{console.log("Events: Deck Ready",x.meta.title)}),g.on("slideChange",x=>{console.log("Events: Slide Changed",x.index)}),g.on("action",x=>{console.log("Events: Action",x),alert(`Action Triggered: ${x.label}`)}),g.load(m),console.log(" Deck loaded successfully")}return(c,d)=>(V(),z("div",YD,[r.value?(V(),z("div",{key:1,class:ce(["w-full min-h-screen relative bg-black transition-all duration-500",n.value==="layout-embedded"?"flex items-center justify-center p-8 bg-gray-900":"h-screen"])},[o("a",{href:Qe(s)+"?page=examples",class:"fixed top-6 left-6 z-[100] px-4 py-2 rounded-full bg-black/40 border border-white/10 text-xs font-bold uppercase hover:bg-white hover:text-black transition backdrop-blur-md"},"  Exit ",8,eN),o("nav",tN,[o("div",nN,[o("span",sN,te(n.value),1),n.value==="layout-embedded"?(V(),z("span",rN,"Widget Mode")):ie("",!0)])]),o("div",{class:ce(n.value==="layout-embedded"?"w-full max-w-lg h-[600px] rounded-2xl overflow-hidden border border-white/10 shadow-2xl relative bg-black":"w-full h-full")},[...d[1]||(d[1]=[o("div",{id:"demo-container",class:"w-full h-full"},null,-1)])],2),n.value==="layout-embedded"?(V(),z("p",iN,[...d[2]||(d[2]=[y(" The slide above is constrained to a ",-1),o("code",null,"max-w-lg h-[600px]",-1),y(" container. ",-1)])])):ie("",!0)],2)):(V(),z("div",XD,[Te(yC,{"active-page":e.value,onNavigate:i},null,8,["active-page"]),e.value==="home"?(V(),ct(kR,{key:0,onNavigate:i})):ie("",!0),e.value==="examples"?(V(),ct($R,{key:1,onSelectDeck:a})):ie("",!0),e.value==="docs"?(V(),ct(nO,{key:2})):ie("",!0),e.value==="playground"?(V(),ct(yO,{key:3})):ie("",!0),e.value==="prompt-builder"?(V(),ct(rD,{key:4})):ie("",!0),e.value==="api"?(V(),ct(QD,{key:5})):ie("",!0),d[0]||(d[0]=o("footer",{class:"py-12 text-center text-white/20 border-t border-white/5 mt-auto"},[o("p",null,[y(" 2025 Lumina Engine. Created by "),o("a",{href:"https://pailletjp.com",target:"_blank",class:"hover:text-white transition-colors"},"Juan Pablo Paillet"),y(".")])],-1))]))]))}});wu(oN).mount("#app");
