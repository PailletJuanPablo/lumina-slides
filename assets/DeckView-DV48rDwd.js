import{d,m as u,y as c,j as p,z as f,g as m,p as b,c as h,b as k,a as r,w,h as g,f as l,o as x}from"./index-C1zI_xxG.js";import{L as v}from"./Lumina-D4gg8X6s.js";import"./SlideNavigator-3kV9GjWQ.js";import"./useAuth-DRptvQds.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const y={class:"w-full h-screen relative bg-black"},j=d({__name:"DeckView",setup(_){const s=p(),a=m();let o=null;const i=()=>{a.push({name:"studio",params:{id:s.params.id}})};return u(async()=>{try{c()}catch{}const t=s.params.id;if(t)try{console.log(`ðŸ“‚ Loading deck: ${t}`);let e;if(t.startsWith("deck")||t.startsWith("layout")||t.startsWith("theme")?e=await(await fetch(`/lumina-slides/${t}.json`)).json():e=await f(t),!e)throw new Error("Deck not found");o=new v("#deck-container",{loop:!0,studio:!1,debug:!0,navigation:!0,ui:{visible:!0,showSlideCount:!0,showControls:!0,showProgressBar:!0},theme:e.theme||"default"}),o.load(e)}catch(e){console.error("Failed to load deck:",e),alert("Failed to load presentation."),a.push({name:"dashboard"})}}),b(()=>{o&&o.destroy()}),(t,e)=>{const n=g("router-link");return x(),h("div",y,[k(n,{to:{name:"dashboard"},class:"fixed top-6 left-6 z-[100] px-4 py-2 rounded-full bg-black/40 border border-white/10 text-xs font-bold uppercase hover:bg-white hover:text-black transition backdrop-blur-md flex items-center gap-2"},{default:w(()=>[...e[0]||(e[0]=[r("i",{class:"fa-solid fa-arrow-left"},null,-1),l(" Exit ",-1)])]),_:1}),r("button",{onClick:i,class:"fixed top-6 right-6 z-[100] px-4 py-2 rounded-full bg-blue-600 border border-blue-500 text-xs font-bold uppercase hover:bg-blue-500 transition backdrop-blur-md flex items-center gap-2"},[...e[1]||(e[1]=[r("i",{class:"fa-solid fa-pen-to-square"},null,-1),l(" Edit ",-1)])]),e[2]||(e[2]=r("div",{id:"deck-container",class:"w-full h-full"},null,-1))])}}});export{j as default};
