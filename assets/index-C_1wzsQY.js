var zb=Object.defineProperty;var Fb=(t,e,n)=>e in t?zb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Kt=(t,e,n)=>Fb(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ud(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const je={},mi=[],ts=()=>{},ng=()=>!1,zl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),dd=t=>t.startsWith("onUpdate:"),Et=Object.assign,hd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jb=Object.prototype.hasOwnProperty,Ve=(t,e)=>jb.call(t,e),fe=Array.isArray,gi=t=>Fl(t)==="[object Map]",sg=t=>Fl(t)==="[object Set]",_e=t=>typeof t=="function",at=t=>typeof t=="string",Is=t=>typeof t=="symbol",qe=t=>t!==null&&typeof t=="object",rg=t=>(qe(t)||_e(t))&&_e(t.then)&&_e(t.catch),ig=Object.prototype.toString,Fl=t=>ig.call(t),Ub=t=>Fl(t).slice(8,-1),og=t=>Fl(t)==="[object Object]",fd=t=>at(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ao=ud(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Bb=/-\w/g,Mn=jl(t=>t.replace(Bb,e=>e.slice(1).toUpperCase())),Hb=/\B([A-Z])/g,Gr=jl(t=>t.replace(Hb,"-$1").toLowerCase()),Ul=jl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pc=jl(t=>t?`on${Ul(t)}`:""),Zs=(t,e)=>!Object.is(t,e),Ka=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ag=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},pd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},qb=t=>{const e=at(t)?Number(t):NaN;return isNaN(e)?t:e};let bf;const Bl=()=>bf||(bf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xt(t){if(fe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=at(s)?Kb(s):Xt(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(at(t)||qe(t))return t}const Zb=/;(?![^(]*\))/g,Gb=/:([^]+)/,Wb=/\/\*[^]*?\*\//g;function Kb(t){const e={};return t.replace(Wb,"").split(Zb).forEach(n=>{if(n){const s=n.split(Gb);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ne(t){let e="";if(at(t))e=t;else if(fe(t))for(let n=0;n<t.length;n++){const s=ne(t[n]);s&&(e+=s+" ")}else if(qe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Jb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qb=ud(Jb);function lg(t){return!!t||t===""}const cg=t=>!!(t&&t.__v_isRef===!0),ee=t=>at(t)?t:t==null?"":fe(t)||qe(t)&&(t.toString===ig||!_e(t.toString))?cg(t)?ee(t.value):JSON.stringify(t,ug,2):String(t),ug=(t,e)=>cg(e)?ug(t,e.value):gi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Rc(s,i)+" =>"]=r,n),{})}:sg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Rc(n))}:Is(e)?Rc(e):qe(e)&&!fe(e)&&!og(e)?String(e):e,Rc=(t,e="")=>{var n;return Is(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rn;class Yb{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=rn,!e&&rn&&(this.index=(rn.scopes||(rn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=rn;try{return rn=this,e()}finally{rn=n}}}on(){++this._on===1&&(this.prevScope=rn,rn=this)}off(){this._on>0&&--this._on===0&&(rn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Xb(){return rn}let He;const Dc=new WeakSet;class dg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,rn&&rn.active&&rn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dc.has(this)&&(Dc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vf(this),pg(this);const e=He,n=zn;He=this,zn=!0;try{return this.fn()}finally{mg(this),He=e,zn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_d(e);this.deps=this.depsTail=void 0,vf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lu(this)&&this.run()}get dirty(){return lu(this)}}let hg=0,ko,Co;function fg(t,e=!1){if(t.flags|=8,e){t.next=Co,Co=t;return}t.next=ko,ko=t}function md(){hg++}function gd(){if(--hg>0)return;if(Co){let e=Co;for(Co=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ko;){let e=ko;for(ko=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function pg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function mg(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),_d(s),ev(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function lu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(gg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function gg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Uo)||(t.globalVersion=Uo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!lu(t))))return;t.flags|=2;const e=t.dep,n=He,s=zn;He=t,zn=!0;try{pg(t);const r=t.fn(t._value);(e.version===0||Zs(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{He=n,zn=s,mg(t),t.flags&=-3}}function _d(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)_d(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function ev(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let zn=!0;const _g=[];function ys(){_g.push(zn),zn=!1}function bs(){const t=_g.pop();zn=t===void 0?!0:t}function vf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=He;He=void 0;try{e()}finally{He=n}}}let Uo=0;class tv{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!He||!zn||He===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==He)n=this.activeLink=new tv(He,this),He.deps?(n.prevDep=He.depsTail,He.depsTail.nextDep=n,He.depsTail=n):He.deps=He.depsTail=n,yg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=He.depsTail,n.nextDep=void 0,He.depsTail.nextDep=n,He.depsTail=n,He.deps===n&&(He.deps=s)}return n}trigger(e){this.version++,Uo++,this.notify(e)}notify(e){md();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{gd()}}}function yg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)yg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const cu=new WeakMap,Vr=Symbol(""),uu=Symbol(""),Bo=Symbol("");function zt(t,e,n){if(zn&&He){let s=cu.get(t);s||cu.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new yd),r.map=s,r.key=n),r.track()}}function gs(t,e,n,s,r,i){const o=cu.get(t);if(!o){Uo++;return}const l=u=>{u&&u.trigger()};if(md(),e==="clear")o.forEach(l);else{const u=fe(t),d=u&&fd(n);if(u&&n==="length"){const h=Number(s);o.forEach((m,f)=>{(f==="length"||f===Bo||!Is(f)&&f>=h)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),d&&l(o.get(Bo)),e){case"add":u?d&&l(o.get("length")):(l(o.get(Vr)),gi(t)&&l(o.get(uu)));break;case"delete":u||(l(o.get(Vr)),gi(t)&&l(o.get(uu)));break;case"set":gi(t)&&l(o.get(Vr));break}}gd()}function si(t){const e=Oe(t);return e===t?e:(zt(e,"iterate",Bo),Vn(t)?e:e.map(Fn))}function Hl(t){return zt(t=Oe(t),"iterate",Bo),t}function Ls(t,e){return vs(t)?Mr(t)?ki(Fn(e)):ki(e):Fn(e)}const nv={__proto__:null,[Symbol.iterator](){return Oc(this,Symbol.iterator,t=>Ls(this,t))},concat(...t){return si(this).concat(...t.map(e=>fe(e)?si(e):e))},entries(){return Oc(this,"entries",t=>(t[1]=Ls(this,t[1]),t))},every(t,e){return cs(this,"every",t,e,void 0,arguments)},filter(t,e){return cs(this,"filter",t,e,n=>n.map(s=>Ls(this,s)),arguments)},find(t,e){return cs(this,"find",t,e,n=>Ls(this,n),arguments)},findIndex(t,e){return cs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return cs(this,"findLast",t,e,n=>Ls(this,n),arguments)},findLastIndex(t,e){return cs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return cs(this,"forEach",t,e,void 0,arguments)},includes(...t){return Nc(this,"includes",t)},indexOf(...t){return Nc(this,"indexOf",t)},join(t){return si(this).join(t)},lastIndexOf(...t){return Nc(this,"lastIndexOf",t)},map(t,e){return cs(this,"map",t,e,void 0,arguments)},pop(){return mo(this,"pop")},push(...t){return mo(this,"push",t)},reduce(t,...e){return xf(this,"reduce",t,e)},reduceRight(t,...e){return xf(this,"reduceRight",t,e)},shift(){return mo(this,"shift")},some(t,e){return cs(this,"some",t,e,void 0,arguments)},splice(...t){return mo(this,"splice",t)},toReversed(){return si(this).toReversed()},toSorted(t){return si(this).toSorted(t)},toSpliced(...t){return si(this).toSpliced(...t)},unshift(...t){return mo(this,"unshift",t)},values(){return Oc(this,"values",t=>Ls(this,t))}};function Oc(t,e,n){const s=Hl(t),r=s[e]();return s!==t&&!Vn(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const sv=Array.prototype;function cs(t,e,n,s,r,i){const o=Hl(t),l=o!==t&&!Vn(t),u=o[e];if(u!==sv[e]){const m=u.apply(t,i);return l?Fn(m):m}let d=n;o!==t&&(l?d=function(m,f){return n.call(this,Ls(t,m),f,t)}:n.length>2&&(d=function(m,f){return n.call(this,m,f,t)}));const h=u.call(o,d,s);return l&&r?r(h):h}function xf(t,e,n,s){const r=Hl(t);let i=n;return r!==t&&(Vn(t)?n.length>3&&(i=function(o,l,u){return n.call(this,o,l,u,t)}):i=function(o,l,u){return n.call(this,o,Ls(t,l),u,t)}),r[e](i,...s)}function Nc(t,e,n){const s=Oe(t);zt(s,"iterate",Bo);const r=s[e](...n);return(r===-1||r===!1)&&xd(n[0])?(n[0]=Oe(n[0]),s[e](...n)):r}function mo(t,e,n=[]){ys(),md();const s=Oe(t)[e].apply(t,n);return gd(),bs(),s}const rv=ud("__proto__,__v_isRef,__isVue"),bg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Is));function iv(t){Is(t)||(t=String(t));const e=Oe(this);return zt(e,"has",t),e.hasOwnProperty(t)}class vg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?mv:Eg:i?Tg:wg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=fe(e);if(!r){let u;if(o&&(u=nv[n]))return u;if(n==="hasOwnProperty")return iv}const l=Reflect.get(e,n,Ht(e)?e:s);if((Is(n)?bg.has(n):rv(n))||(r||zt(e,"get",n),i))return l;if(Ht(l)){const u=o&&fd(n)?l:l.value;return r&&qe(u)?ll(u):u}return qe(l)?r?ll(l):ql(l):l}}class xg extends vg{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];const o=fe(e)&&fd(n);if(!this._isShallow){const d=vs(i);if(!Vn(s)&&!vs(s)&&(i=Oe(i),s=Oe(s)),!o&&Ht(i)&&!Ht(s))return d||(i.value=s),!0}const l=o?Number(n)<e.length:Ve(e,n),u=Reflect.set(e,n,s,Ht(e)?e:r);return e===Oe(r)&&(l?Zs(s,i)&&gs(e,"set",n,s):gs(e,"add",n,s)),u}deleteProperty(e,n){const s=Ve(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&gs(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Is(n)||!bg.has(n))&&zt(e,"has",n),s}ownKeys(e){return zt(e,"iterate",fe(e)?"length":Vr),Reflect.ownKeys(e)}}class ov extends vg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const av=new xg,lv=new ov,cv=new xg(!0);const du=t=>t,Va=t=>Reflect.getPrototypeOf(t);function uv(t,e,n){return function(...s){const r=this.__v_raw,i=Oe(r),o=gi(i),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,d=r[t](...s),h=n?du:e?ki:Fn;return!e&&zt(i,"iterate",u?uu:Vr),{next(){const{value:m,done:f}=d.next();return f?{value:m,done:f}:{value:l?[h(m[0]),h(m[1])]:h(m),done:f}},[Symbol.iterator](){return this}}}}function Ma(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function dv(t,e){const n={get(r){const i=this.__v_raw,o=Oe(i),l=Oe(r);t||(Zs(r,l)&&zt(o,"get",r),zt(o,"get",l));const{has:u}=Va(o),d=e?du:t?ki:Fn;if(u.call(o,r))return d(i.get(r));if(u.call(o,l))return d(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&zt(Oe(r),"iterate",Vr),r.size},has(r){const i=this.__v_raw,o=Oe(i),l=Oe(r);return t||(Zs(r,l)&&zt(o,"has",r),zt(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,u=Oe(l),d=e?du:t?ki:Fn;return!t&&zt(u,"iterate",Vr),l.forEach((h,m)=>r.call(i,d(h),d(m),o))}};return Et(n,t?{add:Ma("add"),set:Ma("set"),delete:Ma("delete"),clear:Ma("clear")}:{add(r){!e&&!Vn(r)&&!vs(r)&&(r=Oe(r));const i=Oe(this);return Va(i).has.call(i,r)||(i.add(r),gs(i,"add",r,r)),this},set(r,i){!e&&!Vn(i)&&!vs(i)&&(i=Oe(i));const o=Oe(this),{has:l,get:u}=Va(o);let d=l.call(o,r);d||(r=Oe(r),d=l.call(o,r));const h=u.call(o,r);return o.set(r,i),d?Zs(i,h)&&gs(o,"set",r,i):gs(o,"add",r,i),this},delete(r){const i=Oe(this),{has:o,get:l}=Va(i);let u=o.call(i,r);u||(r=Oe(r),u=o.call(i,r)),l&&l.call(i,r);const d=i.delete(r);return u&&gs(i,"delete",r,void 0),d},clear(){const r=Oe(this),i=r.size!==0,o=r.clear();return i&&gs(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=uv(r,t,e)}),n}function bd(t,e){const n=dv(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ve(n,r)&&r in s?n:s,r,i)}const hv={get:bd(!1,!1)},fv={get:bd(!1,!0)},pv={get:bd(!0,!1)};const wg=new WeakMap,Tg=new WeakMap,Eg=new WeakMap,mv=new WeakMap;function gv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _v(t){return t.__v_skip||!Object.isExtensible(t)?0:gv(Ub(t))}function ql(t){return vs(t)?t:vd(t,!1,av,hv,wg)}function yv(t){return vd(t,!1,cv,fv,Tg)}function ll(t){return vd(t,!0,lv,pv,Eg)}function vd(t,e,n,s,r){if(!qe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=_v(t);if(i===0)return t;const o=r.get(t);if(o)return o;const l=new Proxy(t,i===2?s:n);return r.set(t,l),l}function Mr(t){return vs(t)?Mr(t.__v_raw):!!(t&&t.__v_isReactive)}function vs(t){return!!(t&&t.__v_isReadonly)}function Vn(t){return!!(t&&t.__v_isShallow)}function xd(t){return t?!!t.__v_raw:!1}function Oe(t){const e=t&&t.__v_raw;return e?Oe(e):t}function bv(t){return!Ve(t,"__v_skip")&&Object.isExtensible(t)&&ag(t,"__v_skip",!0),t}const Fn=t=>qe(t)?ql(t):t,ki=t=>qe(t)?ll(t):t;function Ht(t){return t?t.__v_isRef===!0:!1}function he(t){return vv(t,!1)}function vv(t,e){return Ht(t)?t:new xv(t,e)}class xv{constructor(e,n){this.dep=new yd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Oe(e),this._value=n?e:Fn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Vn(e)||vs(e);e=s?e:Oe(e),Zs(e,n)&&(this._rawValue=e,this._value=s?e:Fn(e),this.dep.trigger())}}function Qe(t){return Ht(t)?t.value:t}const wv={get:(t,e,n)=>e==="__v_raw"?t:Qe(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ht(r)&&!Ht(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Sg(t){return Mr(t)?t:new Proxy(t,wv)}class Tv{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new yd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Uo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&He!==this)return fg(this,!0),!0}get value(){const e=this.dep.track();return gg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ev(t,e,n=!1){let s,r;return _e(t)?s=t:(s=t.get,r=t.set),new Tv(s,r,n)}const La={},cl=new WeakMap;let Cr;function Sv(t,e=!1,n=Cr){if(n){let s=cl.get(n);s||cl.set(n,s=[]),s.push(t)}}function Iv(t,e,n=je){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:u}=n,d=P=>r?P:Vn(P)||r===!1||r===0?_s(P,1):_s(P);let h,m,f,g,x=!1,b=!1;if(Ht(t)?(m=()=>t.value,x=Vn(t)):Mr(t)?(m=()=>d(t),x=!0):fe(t)?(b=!0,x=t.some(P=>Mr(P)||Vn(P)),m=()=>t.map(P=>{if(Ht(P))return P.value;if(Mr(P))return d(P);if(_e(P))return u?u(P,2):P()})):_e(t)?e?m=u?()=>u(t,2):t:m=()=>{if(f){ys();try{f()}finally{bs()}}const P=Cr;Cr=h;try{return u?u(t,3,[g]):t(g)}finally{Cr=P}}:m=ts,e&&r){const P=m,D=r===!0?1/0:r;m=()=>_s(P(),D)}const C=Xb(),O=()=>{h.stop(),C&&C.active&&hd(C.effects,h)};if(i&&e){const P=e;e=(...D)=>{P(...D),O()}}let V=b?new Array(t.length).fill(La):La;const M=P=>{if(!(!(h.flags&1)||!h.dirty&&!P))if(e){const D=h.run();if(r||x||(b?D.some((F,S)=>Zs(F,V[S])):Zs(D,V))){f&&f();const F=Cr;Cr=h;try{const S=[D,V===La?void 0:b&&V[0]===La?[]:V,g];V=D,u?u(e,3,S):e(...S)}finally{Cr=F}}}else h.run()};return l&&l(M),h=new dg(m),h.scheduler=o?()=>o(M,!1):M,g=P=>Sv(P,!1,h),f=h.onStop=()=>{const P=cl.get(h);if(P){if(u)u(P,4);else for(const D of P)D();cl.delete(h)}},e?s?M(!0):V=h.run():o?o(M.bind(null,!0),!0):h.run(),O.pause=h.pause.bind(h),O.resume=h.resume.bind(h),O.stop=O,O}function _s(t,e=1/0,n){if(e<=0||!qe(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ht(t))_s(t.value,e,n);else if(fe(t))for(let s=0;s<t.length;s++)_s(t[s],e,n);else if(sg(t)||gi(t))t.forEach(s=>{_s(s,e,n)});else if(og(t)){for(const s in t)_s(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&_s(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ma(t,e,n,s){try{return s?t(...s):t()}catch(r){Zl(r,e,n)}}function jn(t,e,n,s){if(_e(t)){const r=ma(t,e,n,s);return r&&rg(r)&&r.catch(i=>{Zl(i,e,n)}),r}if(fe(t)){const r=[];for(let i=0;i<t.length;i++)r.push(jn(t[i],e,n,s));return r}}function Zl(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||je;if(e){let l=e.parent;const u=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let m=0;m<h.length;m++)if(h[m](t,u,d)===!1)return}l=l.parent}if(i){ys(),ma(i,null,10,[t,u,d]),bs();return}}Av(t,n,r,s,o)}function Av(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const en=[];let Zn=-1;const _i=[];let $s=null,ii=0;const Ig=Promise.resolve();let ul=null;function xs(t){const e=ul||Ig;return t?e.then(this?t.bind(this):t):e}function kv(t){let e=Zn+1,n=en.length;for(;e<n;){const s=e+n>>>1,r=en[s],i=Ho(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function wd(t){if(!(t.flags&1)){const e=Ho(t),n=en[en.length-1];!n||!(t.flags&2)&&e>=Ho(n)?en.push(t):en.splice(kv(e),0,t),t.flags|=1,Ag()}}function Ag(){ul||(ul=Ig.then(Cg))}function Cv(t){fe(t)?_i.push(...t):$s&&t.id===-1?$s.splice(ii+1,0,t):t.flags&1||(_i.push(t),t.flags|=1),Ag()}function wf(t,e,n=Zn+1){for(;n<en.length;n++){const s=en[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;en.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function kg(t){if(_i.length){const e=[...new Set(_i)].sort((n,s)=>Ho(n)-Ho(s));if(_i.length=0,$s){$s.push(...e);return}for($s=e,ii=0;ii<$s.length;ii++){const n=$s[ii];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}$s=null,ii=0}}const Ho=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Cg(t){try{for(Zn=0;Zn<en.length;Zn++){const e=en[Zn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ma(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Zn<en.length;Zn++){const e=en[Zn];e&&(e.flags&=-2)}Zn=-1,en.length=0,kg(),ul=null,(en.length||_i.length)&&Cg()}}let Ct=null,Pg=null;function dl(t){const e=Ct;return Ct=t,Pg=t&&t.type.__scopeId||null,e}function dn(t,e=Ct,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&ml(-1);const i=dl(e);let o;try{o=t(...r)}finally{dl(i),s._d&&ml(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Hi(t,e){if(Ct===null)return t;const n=Ql(Ct),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,l,u=je]=e[r];i&&(_e(i)&&(i={mounted:i,updated:i}),i.deep&&_s(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function Tr(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let u=l.dir[s];u&&(ys(),jn(u,n,8,[t.el,l,t,e]),bs())}}function Pv(t,e){if(Ut){let n=Ut.provides;const s=Ut.parent&&Ut.parent.provides;s===n&&(n=Ut.provides=Object.create(s)),n[t]=e}}function Gs(t,e,n=!1){const s=l0();if(s||bi){let r=bi?bi._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&_e(e)?e.call(s&&s.proxy):e}}const Rv=Symbol.for("v-scx"),Dv=()=>Gs(Rv);function ns(t,e,n){return Rg(t,e,n)}function Rg(t,e,n=je){const{immediate:s,deep:r,flush:i,once:o}=n,l=Et({},n),u=e&&s||!e&&i!=="post";let d;if(Wo){if(i==="sync"){const g=Dv();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!u){const g=()=>{};return g.stop=ts,g.resume=ts,g.pause=ts,g}}const h=Ut;l.call=(g,x,b)=>jn(g,h,x,b);let m=!1;i==="post"?l.scheduler=g=>{bn(g,h&&h.suspense)}:i!=="sync"&&(m=!0,l.scheduler=(g,x)=>{x?g():wd(g)}),l.augmentJob=g=>{e&&(g.flags|=4),m&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const f=Iv(t,e,l);return Wo&&(d?d.push(f):u&&f()),f}function Ov(t,e,n){const s=this.proxy,r=at(t)?t.includes(".")?Dg(s,t):()=>s[t]:t.bind(s,s);let i;_e(e)?i=e:(i=e.handler,n=e);const o=ga(this),l=Rg(r,i.bind(s),n);return o(),l}function Dg(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Nv=Symbol("_vte"),Og=t=>t.__isTeleport,ps=Symbol("_leaveCb"),$a=Symbol("_enterCb");function Vv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fn(()=>{t.isMounted=!0}),jg(()=>{t.isUnmounting=!0}),t}const Pn=[Function,Array],Ng={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pn,onEnter:Pn,onAfterEnter:Pn,onEnterCancelled:Pn,onBeforeLeave:Pn,onLeave:Pn,onAfterLeave:Pn,onLeaveCancelled:Pn,onBeforeAppear:Pn,onAppear:Pn,onAfterAppear:Pn,onAppearCancelled:Pn},Vg=t=>{const e=t.subTree;return e.component?Vg(e.component):e},Mv={name:"BaseTransition",props:Ng,setup(t,{slots:e}){const n=l0(),s=Vv();return()=>{const r=e.default&&$g(e.default(),!0);if(!r||!r.length)return;const i=Mg(r),o=Oe(t),{mode:l}=o;if(s.isLeaving)return Vc(i);const u=Tf(i);if(!u)return Vc(i);let d=hu(u,o,s,n,m=>d=m);u.type!==jt&&qo(u,d);let h=n.subTree&&Tf(n.subTree);if(h&&h.type!==jt&&!Dr(h,u)&&Vg(n).type!==jt){let m=hu(h,o,s,n);if(qo(h,m),l==="out-in"&&u.type!==jt)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,h=void 0},Vc(i);l==="in-out"&&u.type!==jt?m.delayLeave=(f,g,x)=>{const b=Lg(s,h);b[String(h.key)]=h,f[ps]=()=>{g(),f[ps]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{x(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function Mg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==jt){e=n;break}}return e}const Lv=Mv;function Lg(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function hu(t,e,n,s,r){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:u,onEnter:d,onAfterEnter:h,onEnterCancelled:m,onBeforeLeave:f,onLeave:g,onAfterLeave:x,onLeaveCancelled:b,onBeforeAppear:C,onAppear:O,onAfterAppear:V,onAppearCancelled:M}=e,P=String(t.key),D=Lg(n,t),F=(v,k)=>{v&&jn(v,s,9,k)},S=(v,k)=>{const I=k[1];F(v,k),fe(v)?v.every(A=>A.length<=1)&&I():v.length<=1&&I()},w={mode:o,persisted:l,beforeEnter(v){let k=u;if(!n.isMounted)if(i)k=C||u;else return;v[ps]&&v[ps](!0);const I=D[P];I&&Dr(t,I)&&I.el[ps]&&I.el[ps](),F(k,[v])},enter(v){let k=d,I=h,A=m;if(!n.isMounted)if(i)k=O||d,I=V||h,A=M||m;else return;let T=!1;const re=v[$a]=ve=>{T||(T=!0,ve?F(A,[v]):F(I,[v]),w.delayedLeave&&w.delayedLeave(),v[$a]=void 0)};k?S(k,[v,re]):re()},leave(v,k){const I=String(t.key);if(v[$a]&&v[$a](!0),n.isUnmounting)return k();F(f,[v]);let A=!1;const T=v[ps]=re=>{A||(A=!0,k(),re?F(b,[v]):F(x,[v]),v[ps]=void 0,D[I]===t&&delete D[I])};D[I]=t,g?S(g,[v,T]):T()},clone(v){const k=hu(v,e,n,s,r);return r&&r(k),k}};return w}function Vc(t){if(Gl(t))return t=tr(t),t.children=null,t}function Tf(t){if(!Gl(t))return Og(t.type)&&t.children?Mg(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&_e(n.default))return n.default()}}function qo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,qo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function $g(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Te?(o.patchFlag&128&&r++,s=s.concat($g(o.children,e,l))):(e||o.type!==jt)&&s.push(l!=null?tr(o,{key:l}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Ne(t,e){return _e(t)?Et({name:t.name},e,{setup:t}):t}function zg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const hl=new WeakMap;function Po(t,e,n,s,r=!1){if(fe(t)){t.forEach((x,b)=>Po(x,e&&(fe(e)?e[b]:e),n,s,r));return}if(yi(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Po(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Ql(s.component):s.el,o=r?null:i,{i:l,r:u}=t,d=e&&e.r,h=l.refs===je?l.refs={}:l.refs,m=l.setupState,f=Oe(m),g=m===je?ng:x=>Ve(f,x);if(d!=null&&d!==u){if(Ef(e),at(d))h[d]=null,g(d)&&(m[d]=null);else if(Ht(d)){d.value=null;const x=e;x.k&&(h[x.k]=null)}}if(_e(u))ma(u,l,12,[o,h]);else{const x=at(u),b=Ht(u);if(x||b){const C=()=>{if(t.f){const O=x?g(u)?m[u]:h[u]:u.value;if(r)fe(O)&&hd(O,i);else if(fe(O))O.includes(i)||O.push(i);else if(x)h[u]=[i],g(u)&&(m[u]=h[u]);else{const V=[i];u.value=V,t.k&&(h[t.k]=V)}}else x?(h[u]=o,g(u)&&(m[u]=o)):b&&(u.value=o,t.k&&(h[t.k]=o))};if(o){const O=()=>{C(),hl.delete(t)};O.id=-1,hl.set(t,O),bn(O,n)}else Ef(t),C()}}}function Ef(t){const e=hl.get(t);e&&(e.flags|=8,hl.delete(t))}Bl().requestIdleCallback;Bl().cancelIdleCallback;const yi=t=>!!t.type.__asyncLoader,Gl=t=>t.type.__isKeepAlive;function $v(t,e){Fg(t,"a",e)}function zv(t,e){Fg(t,"da",e)}function Fg(t,e,n=Ut){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Wl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Gl(r.parent.vnode)&&Fv(s,e,n,r),r=r.parent}}function Fv(t,e,n,s){const r=Wl(e,t,s,!0);Un(()=>{hd(s[e],r)},n)}function Wl(t,e,n=Ut,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ys();const l=ga(n),u=jn(e,n,t,o);return l(),bs(),u});return s?r.unshift(i):r.push(i),i}}const As=t=>(e,n=Ut)=>{(!Wo||t==="sp")&&Wl(t,(...s)=>e(...s),n)},jv=As("bm"),fn=As("m"),Uv=As("bu"),Bv=As("u"),jg=As("bum"),Un=As("um"),Hv=As("sp"),qv=As("rtg"),Zv=As("rtc");function Gv(t,e=Ut){Wl("ec",t,e)}const Wv="components",Ug=Symbol.for("v-ndc");function fl(t){return at(t)?Kv(Wv,t,!1)||t:t||Ug}function Kv(t,e,n=!0,s=!1){const r=Ct||Ut;if(r){const i=r.type;{const l=Dx(i,!1);if(l&&(l===e||l===Mn(e)||l===Ul(Mn(e))))return i}const o=Sf(r[t]||i[t],e)||Sf(r.appContext[t],e);return!o&&s?i:o}}function Sf(t,e){return t&&(t[e]||t[Mn(e)]||t[Ul(Mn(e))])}function Ye(t,e,n,s){let r;const i=n,o=fe(t);if(o||at(t)){const l=o&&Mr(t);let u=!1,d=!1;l&&(u=!Vn(t),d=vs(t),t=Hl(t)),r=new Array(t.length);for(let h=0,m=t.length;h<m;h++)r[h]=e(u?d?ki(Fn(t[h])):Fn(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i)}else if(qe(t))if(t[Symbol.iterator])r=Array.from(t,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(t);r=new Array(l.length);for(let u=0,d=l.length;u<d;u++){const h=l[u];r[u]=e(t[h],h,u,i)}}else r=[];return r}function If(t,e,n={},s,r){if(Ct.ce||Ct.parent&&yi(Ct.parent)&&Ct.parent.ce){const d=Object.keys(n).length>0;return e!=="default"&&(n.name=e),L(),dt(Te,null,[we("slot",n,s)],d?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),L();const o=i&&Bg(i(n)),l=n.key||o&&o.key,u=dt(Te,{key:(l&&!Is(l)?l:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&t._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function Bg(t){return t.some(e=>Go(e)?!(e.type===jt||e.type===Te&&!Bg(e.children)):!0)?t:null}const fu=t=>t?c0(t)?Ql(t):fu(t.parent):null,Ro=Et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fu(t.parent),$root:t=>fu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>qg(t),$forceUpdate:t=>t.f||(t.f=()=>{wd(t.update)}),$nextTick:t=>t.n||(t.n=xs.bind(t.proxy)),$watch:t=>Ov.bind(t)}),Mc=(t,e)=>t!==je&&!t.__isScriptSetup&&Ve(t,e),Jv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:u}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Mc(s,e))return o[e]=1,s[e];if(r!==je&&Ve(r,e))return o[e]=2,r[e];if(Ve(i,e))return o[e]=3,i[e];if(n!==je&&Ve(n,e))return o[e]=4,n[e];pu&&(o[e]=0)}}const d=Ro[e];let h,m;if(d)return e==="$attrs"&&zt(t.attrs,"get",""),d(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==je&&Ve(n,e))return o[e]=4,n[e];if(m=u.config.globalProperties,Ve(m,e))return m[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Mc(r,e)?(r[e]=n,!0):s!==je&&Ve(s,e)?(s[e]=n,!0):Ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,props:i,type:o}},l){let u;return!!(n[l]||t!==je&&l[0]!=="$"&&Ve(t,l)||Mc(e,l)||Ve(i,l)||Ve(s,l)||Ve(Ro,l)||Ve(r.config.globalProperties,l)||(u=o.__cssModules)&&u[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ve(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Af(t){return fe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let pu=!0;function Qv(t){const e=qg(t),n=t.proxy,s=t.ctx;pu=!1,e.beforeCreate&&kf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:l,provide:u,inject:d,created:h,beforeMount:m,mounted:f,beforeUpdate:g,updated:x,activated:b,deactivated:C,beforeDestroy:O,beforeUnmount:V,destroyed:M,unmounted:P,render:D,renderTracked:F,renderTriggered:S,errorCaptured:w,serverPrefetch:v,expose:k,inheritAttrs:I,components:A,directives:T,filters:re}=e;if(d&&Yv(d,s,null),o)for(const me in o){const ye=o[me];_e(ye)&&(s[me]=ye.bind(n))}if(r){const me=r.call(n,n);qe(me)&&(t.data=ql(me))}if(pu=!0,i)for(const me in i){const ye=i[me],It=_e(ye)?ye.bind(n,n):_e(ye.get)?ye.get.bind(n,n):ts,Cn=!_e(ye)&&_e(ye.set)?ye.set.bind(n):ts,Dt=De({get:It,set:Cn});Object.defineProperty(s,me,{enumerable:!0,configurable:!0,get:()=>Dt.value,set:lt=>Dt.value=lt})}if(l)for(const me in l)Hg(l[me],s,n,me);if(u){const me=_e(u)?u.call(n):u;Reflect.ownKeys(me).forEach(ye=>{Pv(ye,me[ye])})}h&&kf(h,t,"c");function pe(me,ye){fe(ye)?ye.forEach(It=>me(It.bind(n))):ye&&me(ye.bind(n))}if(pe(jv,m),pe(fn,f),pe(Uv,g),pe(Bv,x),pe($v,b),pe(zv,C),pe(Gv,w),pe(Zv,F),pe(qv,S),pe(jg,V),pe(Un,P),pe(Hv,v),fe(k))if(k.length){const me=t.exposed||(t.exposed={});k.forEach(ye=>{Object.defineProperty(me,ye,{get:()=>n[ye],set:It=>n[ye]=It,enumerable:!0})})}else t.exposed||(t.exposed={});D&&t.render===ts&&(t.render=D),I!=null&&(t.inheritAttrs=I),A&&(t.components=A),T&&(t.directives=T),v&&zg(t)}function Yv(t,e,n=ts){fe(t)&&(t=mu(t));for(const s in t){const r=t[s];let i;qe(r)?"default"in r?i=Gs(r.from||s,r.default,!0):i=Gs(r.from||s):i=Gs(r),Ht(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function kf(t,e,n){jn(fe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Hg(t,e,n,s){let r=s.includes(".")?Dg(n,s):()=>n[s];if(at(t)){const i=e[t];_e(i)&&ns(r,i)}else if(_e(t))ns(r,t.bind(n));else if(qe(t))if(fe(t))t.forEach(i=>Hg(i,e,n,s));else{const i=_e(t.handler)?t.handler.bind(n):e[t.handler];_e(i)&&ns(r,i,t)}}function qg(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let u;return l?u=l:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(d=>pl(u,d,o,!0)),pl(u,e,o)),qe(e)&&i.set(e,u),u}function pl(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&pl(t,i,n,!0),r&&r.forEach(o=>pl(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=Xv[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Xv={data:Cf,props:Pf,emits:Pf,methods:bo,computed:bo,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:bo,directives:bo,watch:tx,provide:Cf,inject:ex};function Cf(t,e){return e?t?function(){return Et(_e(t)?t.call(this,this):t,_e(e)?e.call(this,this):e)}:e:t}function ex(t,e){return bo(mu(t),mu(e))}function mu(t){if(fe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Jt(t,e){return t?[...new Set([].concat(t,e))]:e}function bo(t,e){return t?Et(Object.create(null),t,e):e}function Pf(t,e){return t?fe(t)&&fe(e)?[...new Set([...t,...e])]:Et(Object.create(null),Af(t),Af(e??{})):e}function tx(t,e){if(!t)return e;if(!e)return t;const n=Et(Object.create(null),t);for(const s in e)n[s]=Jt(t[s],e[s]);return n}function Zg(){return{app:null,config:{isNativeTag:ng,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nx=0;function sx(t,e){return function(s,r=null){_e(s)||(s=Et({},s)),r!=null&&!qe(r)&&(r=null);const i=Zg(),o=new WeakSet,l=[];let u=!1;const d=i.app={_uid:nx++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Nx,get config(){return i.config},set config(h){},use(h,...m){return o.has(h)||(h&&_e(h.install)?(o.add(h),h.install(d,...m)):_e(h)&&(o.add(h),h(d,...m))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,m){return m?(i.components[h]=m,d):i.components[h]},directive(h,m){return m?(i.directives[h]=m,d):i.directives[h]},mount(h,m,f){if(!u){const g=d._ceVNode||we(s,r);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(g,h,f),u=!0,d._container=h,h.__vue_app__=d,Ql(g.component)}},onUnmount(h){l.push(h)},unmount(){u&&(jn(l,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,m){return i.provides[h]=m,d},runWithContext(h){const m=bi;bi=d;try{return h()}finally{bi=m}}};return d}}let bi=null;const rx=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Mn(e)}Modifiers`]||t[`${Gr(e)}Modifiers`];function ix(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||je;let r=n;const i=e.startsWith("update:"),o=i&&rx(s,e.slice(7));o&&(o.trim&&(r=n.map(h=>at(h)?h.trim():h)),o.number&&(r=n.map(pd)));let l,u=s[l=Pc(e)]||s[l=Pc(Mn(e))];!u&&i&&(u=s[l=Pc(Gr(e))]),u&&jn(u,t,6,r);const d=s[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,jn(d,t,6,r)}}const ox=new WeakMap;function Gg(t,e,n=!1){const s=n?ox:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},l=!1;if(!_e(t)){const u=d=>{const h=Gg(d,e,!0);h&&(l=!0,Et(o,h))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(qe(t)&&s.set(t,null),null):(fe(i)?i.forEach(u=>o[u]=null):Et(o,i),qe(t)&&s.set(t,o),o)}function Kl(t,e){return!t||!zl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ve(t,e[0].toLowerCase()+e.slice(1))||Ve(t,Gr(e))||Ve(t,e))}function Rf(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:u,render:d,renderCache:h,props:m,data:f,setupState:g,ctx:x,inheritAttrs:b}=t,C=dl(t);let O,V;try{if(n.shapeFlag&4){const P=r||s,D=P;O=Jn(d.call(D,P,h,m,g,f,x)),V=l}else{const P=e;O=Jn(P.length>1?P(m,{attrs:l,slots:o,emit:u}):P(m,null)),V=e.props?l:ax(l)}}catch(P){Do.length=0,Zl(P,t,1),O=we(jt)}let M=O;if(V&&b!==!1){const P=Object.keys(V),{shapeFlag:D}=M;P.length&&D&7&&(i&&P.some(dd)&&(V=lx(V,i)),M=tr(M,V,!1,!0))}return n.dirs&&(M=tr(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&qo(M,n.transition),O=M,dl(C),O}const ax=t=>{let e;for(const n in t)(n==="class"||n==="style"||zl(n))&&((e||(e={}))[n]=t[n]);return e},lx=(t,e)=>{const n={};for(const s in t)(!dd(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function cx(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:l,patchFlag:u}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Df(s,o,d):!!o;if(u&8){const h=e.dynamicProps;for(let m=0;m<h.length;m++){const f=h[m];if(o[f]!==s[f]&&!Kl(d,f))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Df(s,o,d):!0:!!o;return!1}function Df(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Kl(n,i))return!0}return!1}function ux({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Wg={},Kg=()=>Object.create(Wg),Jg=t=>Object.getPrototypeOf(t)===Wg;function dx(t,e,n,s=!1){const r={},i=Kg();t.propsDefaults=Object.create(null),Qg(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:yv(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function hx(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,l=Oe(r),[u]=t.propsOptions;let d=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let m=0;m<h.length;m++){let f=h[m];if(Kl(t.emitsOptions,f))continue;const g=e[f];if(u)if(Ve(i,f))g!==i[f]&&(i[f]=g,d=!0);else{const x=Mn(f);r[x]=gu(u,l,x,g,t,!1)}else g!==i[f]&&(i[f]=g,d=!0)}}}else{Qg(t,e,r,i)&&(d=!0);let h;for(const m in l)(!e||!Ve(e,m)&&((h=Gr(m))===m||!Ve(e,h)))&&(u?n&&(n[m]!==void 0||n[h]!==void 0)&&(r[m]=gu(u,l,m,void 0,t,!0)):delete r[m]);if(i!==l)for(const m in i)(!e||!Ve(e,m))&&(delete i[m],d=!0)}d&&gs(t.attrs,"set","")}function Qg(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(Ao(u))continue;const d=e[u];let h;r&&Ve(r,h=Mn(u))?!i||!i.includes(h)?n[h]=d:(l||(l={}))[h]=d:Kl(t.emitsOptions,u)||(!(u in s)||d!==s[u])&&(s[u]=d,o=!0)}if(i){const u=Oe(n),d=l||je;for(let h=0;h<i.length;h++){const m=i[h];n[m]=gu(r,u,m,d[m],t,!Ve(d,m))}}return o}function gu(t,e,n,s,r,i){const o=t[n];if(o!=null){const l=Ve(o,"default");if(l&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&_e(u)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const h=ga(r);s=d[n]=u.call(null,e),h()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===Gr(n))&&(s=!0))}return s}const fx=new WeakMap;function Yg(t,e,n=!1){const s=n?fx:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},l=[];let u=!1;if(!_e(t)){const h=m=>{u=!0;const[f,g]=Yg(m,e,!0);Et(o,f),g&&l.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!u)return qe(t)&&s.set(t,mi),mi;if(fe(i))for(let h=0;h<i.length;h++){const m=Mn(i[h]);Of(m)&&(o[m]=je)}else if(i)for(const h in i){const m=Mn(h);if(Of(m)){const f=i[h],g=o[m]=fe(f)||_e(f)?{type:f}:Et({},f),x=g.type;let b=!1,C=!0;if(fe(x))for(let O=0;O<x.length;++O){const V=x[O],M=_e(V)&&V.name;if(M==="Boolean"){b=!0;break}else M==="String"&&(C=!1)}else b=_e(x)&&x.name==="Boolean";g[0]=b,g[1]=C,(b||Ve(g,"default"))&&l.push(m)}}const d=[o,l];return qe(t)&&s.set(t,d),d}function Of(t){return t[0]!=="$"&&!Ao(t)}const Td=t=>t==="_"||t==="_ctx"||t==="$stable",Ed=t=>fe(t)?t.map(Jn):[Jn(t)],px=(t,e,n)=>{if(e._n)return e;const s=dn((...r)=>Ed(e(...r)),n);return s._c=!1,s},Xg=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Td(r))continue;const i=t[r];if(_e(i))e[r]=px(r,i,s);else if(i!=null){const o=Ed(i);e[r]=()=>o}}},e0=(t,e)=>{const n=Ed(e);t.slots.default=()=>n},t0=(t,e,n)=>{for(const s in e)(n||!Td(s))&&(t[s]=e[s])},mx=(t,e,n)=>{const s=t.slots=Kg();if(t.vnode.shapeFlag&32){const r=e._;r?(t0(s,e,n),n&&ag(s,"_",r,!0)):Xg(e,s)}else e&&e0(t,e)},gx=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=je;if(s.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:t0(r,e,n):(i=!e.$stable,Xg(e,r)),o=e}else e&&(e0(t,e),o={default:1});if(i)for(const l in r)!Td(l)&&o[l]==null&&delete r[l]},bn=xx;function _x(t){return yx(t)}function yx(t,e){const n=Bl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:u,setText:d,setElementText:h,parentNode:m,nextSibling:f,setScopeId:g=ts,insertStaticContent:x}=t,b=(R,N,U,W=null,q=null,Z=null,X=void 0,J=null,K=!!N.dynamicChildren)=>{if(R===N)return;R&&!Dr(R,N)&&(W=Cs(R),lt(R,q,Z,!0),R=null),N.patchFlag===-2&&(K=!1,N.dynamicChildren=null);const{type:G,ref:ce,shapeFlag:te}=N;switch(G){case Jl:C(R,N,U,W);break;case jt:O(R,N,U,W);break;case Ja:R==null&&V(N,U,W,X);break;case Te:A(R,N,U,W,q,Z,X,J,K);break;default:te&1?D(R,N,U,W,q,Z,X,J,K):te&6?T(R,N,U,W,q,Z,X,J,K):(te&64||te&128)&&G.process(R,N,U,W,q,Z,X,J,K,_r)}ce!=null&&q?Po(ce,R&&R.ref,Z,N||R,!N):ce==null&&R&&R.ref!=null&&Po(R.ref,null,Z,R,!0)},C=(R,N,U,W)=>{if(R==null)s(N.el=l(N.children),U,W);else{const q=N.el=R.el;N.children!==R.children&&d(q,N.children)}},O=(R,N,U,W)=>{R==null?s(N.el=u(N.children||""),U,W):N.el=R.el},V=(R,N,U,W)=>{[R.el,R.anchor]=x(R.children,N,U,W,R.el,R.anchor)},M=({el:R,anchor:N},U,W)=>{let q;for(;R&&R!==N;)q=f(R),s(R,U,W),R=q;s(N,U,W)},P=({el:R,anchor:N})=>{let U;for(;R&&R!==N;)U=f(R),r(R),R=U;r(N)},D=(R,N,U,W,q,Z,X,J,K)=>{if(N.type==="svg"?X="svg":N.type==="math"&&(X="mathml"),R==null)F(N,U,W,q,Z,X,J,K);else{const G=R.el&&R.el._isVueCE?R.el:null;try{G&&G._beginPatch(),v(R,N,q,Z,X,J,K)}finally{G&&G._endPatch()}}},F=(R,N,U,W,q,Z,X,J)=>{let K,G;const{props:ce,shapeFlag:te,transition:le,dirs:ue}=R;if(K=R.el=o(R.type,Z,ce&&ce.is,ce),te&8?h(K,R.children):te&16&&w(R.children,K,null,W,q,Lc(R,Z),X,J),ue&&Tr(R,null,W,"created"),S(K,R,R.scopeId,X,W),ce){for(const Le in ce)Le!=="value"&&!Ao(Le)&&i(K,Le,null,ce[Le],Z,W);"value"in ce&&i(K,"value",null,ce.value,Z),(G=ce.onVnodeBeforeMount)&&qn(G,W,R)}ue&&Tr(R,null,W,"beforeMount");const Ee=bx(q,le);Ee&&le.beforeEnter(K),s(K,N,U),((G=ce&&ce.onVnodeMounted)||Ee||ue)&&bn(()=>{G&&qn(G,W,R),Ee&&le.enter(K),ue&&Tr(R,null,W,"mounted")},q)},S=(R,N,U,W,q)=>{if(U&&g(R,U),W)for(let Z=0;Z<W.length;Z++)g(R,W[Z]);if(q){let Z=q.subTree;if(N===Z||i0(Z.type)&&(Z.ssContent===N||Z.ssFallback===N)){const X=q.vnode;S(R,X,X.scopeId,X.slotScopeIds,q.parent)}}},w=(R,N,U,W,q,Z,X,J,K=0)=>{for(let G=K;G<R.length;G++){const ce=R[G]=J?zs(R[G]):Jn(R[G]);b(null,ce,N,U,W,q,Z,X,J)}},v=(R,N,U,W,q,Z,X)=>{const J=N.el=R.el;let{patchFlag:K,dynamicChildren:G,dirs:ce}=N;K|=R.patchFlag&16;const te=R.props||je,le=N.props||je;let ue;if(U&&Er(U,!1),(ue=le.onVnodeBeforeUpdate)&&qn(ue,U,N,R),ce&&Tr(N,R,U,"beforeUpdate"),U&&Er(U,!0),(te.innerHTML&&le.innerHTML==null||te.textContent&&le.textContent==null)&&h(J,""),G?k(R.dynamicChildren,G,J,U,W,Lc(N,q),Z):X||ye(R,N,J,null,U,W,Lc(N,q),Z,!1),K>0){if(K&16)I(J,te,le,U,q);else if(K&2&&te.class!==le.class&&i(J,"class",null,le.class,q),K&4&&i(J,"style",te.style,le.style,q),K&8){const Ee=N.dynamicProps;for(let Le=0;Le<Ee.length;Le++){const Pe=Ee[Le],Nt=te[Pe],Vt=le[Pe];(Vt!==Nt||Pe==="value")&&i(J,Pe,Nt,Vt,q,U)}}K&1&&R.children!==N.children&&h(J,N.children)}else!X&&G==null&&I(J,te,le,U,q);((ue=le.onVnodeUpdated)||ce)&&bn(()=>{ue&&qn(ue,U,N,R),ce&&Tr(N,R,U,"updated")},W)},k=(R,N,U,W,q,Z,X)=>{for(let J=0;J<N.length;J++){const K=R[J],G=N[J],ce=K.el&&(K.type===Te||!Dr(K,G)||K.shapeFlag&198)?m(K.el):U;b(K,G,ce,null,W,q,Z,X,!0)}},I=(R,N,U,W,q)=>{if(N!==U){if(N!==je)for(const Z in N)!Ao(Z)&&!(Z in U)&&i(R,Z,N[Z],null,q,W);for(const Z in U){if(Ao(Z))continue;const X=U[Z],J=N[Z];X!==J&&Z!=="value"&&i(R,Z,J,X,q,W)}"value"in U&&i(R,"value",N.value,U.value,q)}},A=(R,N,U,W,q,Z,X,J,K)=>{const G=N.el=R?R.el:l(""),ce=N.anchor=R?R.anchor:l("");let{patchFlag:te,dynamicChildren:le,slotScopeIds:ue}=N;ue&&(J=J?J.concat(ue):ue),R==null?(s(G,U,W),s(ce,U,W),w(N.children||[],U,ce,q,Z,X,J,K)):te>0&&te&64&&le&&R.dynamicChildren&&R.dynamicChildren.length===le.length?(k(R.dynamicChildren,le,U,q,Z,X,J),(N.key!=null||q&&N===q.subTree)&&n0(R,N,!0)):ye(R,N,U,ce,q,Z,X,J,K)},T=(R,N,U,W,q,Z,X,J,K)=>{N.slotScopeIds=J,R==null?N.shapeFlag&512?q.ctx.activate(N,U,W,X,K):re(N,U,W,q,Z,X,K):ve(R,N,K)},re=(R,N,U,W,q,Z,X)=>{const J=R.component=Ax(R,W,q);if(Gl(R)&&(J.ctx.renderer=_r),kx(J,!1,X),J.asyncDep){if(q&&q.registerDep(J,pe,X),!R.el){const K=J.subTree=we(jt);O(null,K,N,U),R.placeholder=K.el}}else pe(J,R,N,U,q,Z,X)},ve=(R,N,U)=>{const W=N.component=R.component;if(cx(R,N,U))if(W.asyncDep&&!W.asyncResolved){me(W,N,U);return}else W.next=N,W.update();else N.el=R.el,W.vnode=N},pe=(R,N,U,W,q,Z,X)=>{const J=()=>{if(R.isMounted){let{next:te,bu:le,u:ue,parent:Ee,vnode:Le}=R;{const _n=s0(R);if(_n){te&&(te.el=Le.el,me(R,te,X)),_n.asyncDep.then(()=>{R.isUnmounted||J()});return}}let Pe=te,Nt;Er(R,!1),te?(te.el=Le.el,me(R,te,X)):te=Le,le&&Ka(le),(Nt=te.props&&te.props.onVnodeBeforeUpdate)&&qn(Nt,Ee,te,Le),Er(R,!0);const Vt=Rf(R),gn=R.subTree;R.subTree=Vt,b(gn,Vt,m(gn.el),Cs(gn),R,q,Z),te.el=Vt.el,Pe===null&&ux(R,Vt.el),ue&&bn(ue,q),(Nt=te.props&&te.props.onVnodeUpdated)&&bn(()=>qn(Nt,Ee,te,Le),q)}else{let te;const{el:le,props:ue}=N,{bm:Ee,m:Le,parent:Pe,root:Nt,type:Vt}=R,gn=yi(N);Er(R,!1),Ee&&Ka(Ee),!gn&&(te=ue&&ue.onVnodeBeforeMount)&&qn(te,Pe,N),Er(R,!0);{Nt.ce&&Nt.ce._def.shadowRoot!==!1&&Nt.ce._injectChildStyle(Vt);const _n=R.subTree=Rf(R);b(null,_n,U,W,R,q,Z),N.el=_n.el}if(Le&&bn(Le,q),!gn&&(te=ue&&ue.onVnodeMounted)){const _n=N;bn(()=>qn(te,Pe,_n),q)}(N.shapeFlag&256||Pe&&yi(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&R.a&&bn(R.a,q),R.isMounted=!0,N=U=W=null}};R.scope.on();const K=R.effect=new dg(J);R.scope.off();const G=R.update=K.run.bind(K),ce=R.job=K.runIfDirty.bind(K);ce.i=R,ce.id=R.uid,K.scheduler=()=>wd(ce),Er(R,!0),G()},me=(R,N,U)=>{N.component=R;const W=R.vnode.props;R.vnode=N,R.next=null,hx(R,N.props,W,U),gx(R,N.children,U),ys(),wf(R),bs()},ye=(R,N,U,W,q,Z,X,J,K=!1)=>{const G=R&&R.children,ce=R?R.shapeFlag:0,te=N.children,{patchFlag:le,shapeFlag:ue}=N;if(le>0){if(le&128){Cn(G,te,U,W,q,Z,X,J,K);return}else if(le&256){It(G,te,U,W,q,Z,X,J,K);return}}ue&8?(ce&16&&ls(G,q,Z),te!==G&&h(U,te)):ce&16?ue&16?Cn(G,te,U,W,q,Z,X,J,K):ls(G,q,Z,!0):(ce&8&&h(U,""),ue&16&&w(te,U,W,q,Z,X,J,K))},It=(R,N,U,W,q,Z,X,J,K)=>{R=R||mi,N=N||mi;const G=R.length,ce=N.length,te=Math.min(G,ce);let le;for(le=0;le<te;le++){const ue=N[le]=K?zs(N[le]):Jn(N[le]);b(R[le],ue,U,null,q,Z,X,J,K)}G>ce?ls(R,q,Z,!0,!1,te):w(N,U,W,q,Z,X,J,K,te)},Cn=(R,N,U,W,q,Z,X,J,K)=>{let G=0;const ce=N.length;let te=R.length-1,le=ce-1;for(;G<=te&&G<=le;){const ue=R[G],Ee=N[G]=K?zs(N[G]):Jn(N[G]);if(Dr(ue,Ee))b(ue,Ee,U,null,q,Z,X,J,K);else break;G++}for(;G<=te&&G<=le;){const ue=R[te],Ee=N[le]=K?zs(N[le]):Jn(N[le]);if(Dr(ue,Ee))b(ue,Ee,U,null,q,Z,X,J,K);else break;te--,le--}if(G>te){if(G<=le){const ue=le+1,Ee=ue<ce?N[ue].el:W;for(;G<=le;)b(null,N[G]=K?zs(N[G]):Jn(N[G]),U,Ee,q,Z,X,J,K),G++}}else if(G>le)for(;G<=te;)lt(R[G],q,Z,!0),G++;else{const ue=G,Ee=G,Le=new Map;for(G=Ee;G<=le;G++){const At=N[G]=K?zs(N[G]):Jn(N[G]);At.key!=null&&Le.set(At.key,G)}let Pe,Nt=0;const Vt=le-Ee+1;let gn=!1,_n=0;const $n=new Array(Vt);for(G=0;G<Vt;G++)$n[G]=0;for(G=ue;G<=te;G++){const At=R[G];if(Nt>=Vt){lt(At,q,Z,!0);continue}let xt;if(At.key!=null)xt=Le.get(At.key);else for(Pe=Ee;Pe<=le;Pe++)if($n[Pe-Ee]===0&&Dr(At,N[Pe])){xt=Pe;break}xt===void 0?lt(At,q,Z,!0):($n[xt-Ee]=G+1,xt>=_n?_n=xt:gn=!0,b(At,N[xt],U,null,q,Z,X,J,K),Nt++)}const Xr=gn?vx($n):mi;for(Pe=Xr.length-1,G=Vt-1;G>=0;G--){const At=Ee+G,xt=N[At],Xi=N[At+1],yr=At+1<ce?Xi.el||r0(Xi):W;$n[G]===0?b(null,xt,U,yr,q,Z,X,J,K):gn&&(Pe<0||G!==Xr[Pe]?Dt(xt,U,yr,2):Pe--)}}},Dt=(R,N,U,W,q=null)=>{const{el:Z,type:X,transition:J,children:K,shapeFlag:G}=R;if(G&6){Dt(R.component.subTree,N,U,W);return}if(G&128){R.suspense.move(N,U,W);return}if(G&64){X.move(R,N,U,_r);return}if(X===Te){s(Z,N,U);for(let te=0;te<K.length;te++)Dt(K[te],N,U,W);s(R.anchor,N,U);return}if(X===Ja){M(R,N,U);return}if(W!==2&&G&1&&J)if(W===0)J.beforeEnter(Z),s(Z,N,U),bn(()=>J.enter(Z),q);else{const{leave:te,delayLeave:le,afterLeave:ue}=J,Ee=()=>{R.ctx.isUnmounted?r(Z):s(Z,N,U)},Le=()=>{Z._isLeaving&&Z[ps](!0),te(Z,()=>{Ee(),ue&&ue()})};le?le(Z,Ee,Le):Le()}else s(Z,N,U)},lt=(R,N,U,W=!1,q=!1)=>{const{type:Z,props:X,ref:J,children:K,dynamicChildren:G,shapeFlag:ce,patchFlag:te,dirs:le,cacheIndex:ue}=R;if(te===-2&&(q=!1),J!=null&&(ys(),Po(J,null,U,R,!0),bs()),ue!=null&&(N.renderCache[ue]=void 0),ce&256){N.ctx.deactivate(R);return}const Ee=ce&1&&le,Le=!yi(R);let Pe;if(Le&&(Pe=X&&X.onVnodeBeforeUnmount)&&qn(Pe,N,R),ce&6)mn(R.component,U,W);else{if(ce&128){R.suspense.unmount(U,W);return}Ee&&Tr(R,null,N,"beforeUnmount"),ce&64?R.type.remove(R,N,U,_r,W):G&&!G.hasOnce&&(Z!==Te||te>0&&te&64)?ls(G,N,U,!1,!0):(Z===Te&&te&384||!q&&ce&16)&&ls(K,N,U),W&&ks(R)}(Le&&(Pe=X&&X.onVnodeUnmounted)||Ee)&&bn(()=>{Pe&&qn(Pe,N,R),Ee&&Tr(R,null,N,"unmounted")},U)},ks=R=>{const{type:N,el:U,anchor:W,transition:q}=R;if(N===Te){Ot(U,W);return}if(N===Ja){P(R);return}const Z=()=>{r(U),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(R.shapeFlag&1&&q&&!q.persisted){const{leave:X,delayLeave:J}=q,K=()=>X(U,Z);J?J(R.el,Z,K):K()}else Z()},Ot=(R,N)=>{let U;for(;R!==N;)U=f(R),r(R),R=U;r(N)},mn=(R,N,U)=>{const{bum:W,scope:q,job:Z,subTree:X,um:J,m:K,a:G}=R;Nf(K),Nf(G),W&&Ka(W),q.stop(),Z&&(Z.flags|=8,lt(X,R,N,U)),J&&bn(J,N),bn(()=>{R.isUnmounted=!0},N)},ls=(R,N,U,W=!1,q=!1,Z=0)=>{for(let X=Z;X<R.length;X++)lt(R[X],N,U,W,q)},Cs=R=>{if(R.shapeFlag&6)return Cs(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const N=f(R.anchor||R.el),U=N&&N[Nv];return U?f(U):N};let gr=!1;const Yi=(R,N,U)=>{let W;R==null?N._vnode&&(lt(N._vnode,null,null,!0),W=N._vnode.component):b(N._vnode||null,R,N,null,null,null,U),N._vnode=R,gr||(gr=!0,wf(W),kg(),gr=!1)},_r={p:b,um:lt,m:Dt,r:ks,mt:re,mc:w,pc:ye,pbc:k,n:Cs,o:t};return{render:Yi,hydrate:void 0,createApp:sx(Yi)}}function Lc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Er({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function bx(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function n0(t,e,n=!1){const s=t.children,r=e.children;if(fe(s)&&fe(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=zs(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&n0(o,l)),l.type===Jl&&(l.patchFlag!==-1?l.el=o.el:l.__elIndex=i+(t.type===Te?1:0)),l.type===jt&&!l.el&&(l.el=o.el)}}function vx(t){const e=t.slice(),n=[0];let s,r,i,o,l;const u=t.length;for(s=0;s<u;s++){const d=t[s];if(d!==0){if(r=n[n.length-1],t[r]<d){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<d?i=l+1:o=l;d<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function s0(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:s0(e)}function Nf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function r0(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?r0(e.subTree):null}const i0=t=>t.__isSuspense;function xx(t,e){e&&e.pendingBranch?fe(t)?e.effects.push(...t):e.effects.push(t):Cv(t)}const Te=Symbol.for("v-fgt"),Jl=Symbol.for("v-txt"),jt=Symbol.for("v-cmt"),Ja=Symbol.for("v-stc"),Do=[];let wn=null;function L(t=!1){Do.push(wn=t?null:[])}function wx(){Do.pop(),wn=Do[Do.length-1]||null}let Zo=1;function ml(t,e=!1){Zo+=t,t<0&&wn&&e&&(wn.hasOnce=!0)}function o0(t){return t.dynamicChildren=Zo>0?wn||mi:null,wx(),Zo>0&&wn&&wn.push(t),t}function z(t,e,n,s,r,i){return o0(a(t,e,n,s,r,i,!0))}function dt(t,e,n,s,r){return o0(we(t,e,n,s,r,!0))}function Go(t){return t?t.__v_isVNode===!0:!1}function Dr(t,e){return t.type===e.type&&t.key===e.key}const a0=({key:t})=>t??null,Qa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?at(t)||Ht(t)||_e(t)?{i:Ct,r:t,k:e,f:!!n}:t:null);function a(t,e=null,n=null,s=0,r=null,i=t===Te?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&a0(e),ref:e&&Qa(e),scopeId:Pg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ct};return l?(Sd(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=at(n)?8:16),Zo>0&&!o&&wn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&wn.push(u),u}const we=Tx;function Tx(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Ug)&&(t=jt),Go(t)){const l=tr(t,e,!0);return n&&Sd(l,n),Zo>0&&!i&&wn&&(l.shapeFlag&6?wn[wn.indexOf(t)]=l:wn.push(l)),l.patchFlag=-2,l}if(Ox(t)&&(t=t.__vccOpts),e){e=Ex(e);let{class:l,style:u}=e;l&&!at(l)&&(e.class=ne(l)),qe(u)&&(xd(u)&&!fe(u)&&(u=Et({},u)),e.style=Xt(u))}const o=at(t)?1:i0(t)?128:Og(t)?64:qe(t)?4:_e(t)?2:0;return a(t,e,n,s,r,o,i,!0)}function Ex(t){return t?xd(t)||Jg(t)?Et({},t):t:null}function tr(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:u}=t,d=e?_u(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&a0(d),ref:e&&e.ref?n&&i?fe(i)?i.concat(Qa(e)):[i,Qa(e)]:Qa(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&tr(t.ssContent),ssFallback:t.ssFallback&&tr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&qo(h,u.clone(h)),h}function y(t=" ",e=0){return we(Jl,null,t,e)}function Ya(t,e){const n=we(Ja,null,t);return n.staticCount=e,n}function oe(t="",e=!1){return e?(L(),dt(jt,null,t)):we(jt,null,t)}function Jn(t){return t==null||typeof t=="boolean"?we(jt):fe(t)?we(Te,null,t.slice()):Go(t)?zs(t):we(Jl,null,String(t))}function zs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:tr(t)}function Sd(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(fe(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Sd(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Jg(e)?e._ctx=Ct:r===3&&Ct&&(Ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _e(e)?(e={default:e,_ctx:Ct},n=32):(e=String(e),s&64?(n=16,e=[y(e)]):n=8);t.children=e,t.shapeFlag|=n}function _u(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ne([e.class,s.class]));else if(r==="style")e.style=Xt([e.style,s.style]);else if(zl(r)){const i=e[r],o=s[r];o&&i!==o&&!(fe(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function qn(t,e,n,s=null){jn(t,e,7,[n,s])}const Sx=Zg();let Ix=0;function Ax(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Sx,i={uid:Ix++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yg(s,r),emitsOptions:Gg(s,r),emit:null,emitted:null,propsDefaults:je,inheritAttrs:s.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=ix.bind(null,i),t.ce&&t.ce(i),i}let Ut=null;const l0=()=>Ut||Ct;let gl,yu;{const t=Bl(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};gl=e("__VUE_INSTANCE_SETTERS__",n=>Ut=n),yu=e("__VUE_SSR_SETTERS__",n=>Wo=n)}const ga=t=>{const e=Ut;return gl(t),t.scope.on(),()=>{t.scope.off(),gl(e)}},Vf=()=>{Ut&&Ut.scope.off(),gl(null)};function c0(t){return t.vnode.shapeFlag&4}let Wo=!1;function kx(t,e=!1,n=!1){e&&yu(e);const{props:s,children:r}=t.vnode,i=c0(t);dx(t,s,i,e),mx(t,r,n||e);const o=i?Cx(t,e):void 0;return e&&yu(!1),o}function Cx(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Jv);const{setup:s}=n;if(s){ys();const r=t.setupContext=s.length>1?Rx(t):null,i=ga(t),o=ma(s,t,0,[t.props,r]),l=rg(o);if(bs(),i(),(l||t.sp)&&!yi(t)&&zg(t),l){if(o.then(Vf,Vf),e)return o.then(u=>{Mf(t,u)}).catch(u=>{Zl(u,t,0)});t.asyncDep=o}else Mf(t,o)}else u0(t)}function Mf(t,e,n){_e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qe(e)&&(t.setupState=Sg(e)),u0(t)}function u0(t,e,n){const s=t.type;t.render||(t.render=s.render||ts);{const r=ga(t);ys();try{Qv(t)}finally{bs(),r()}}}const Px={get(t,e){return zt(t,"get",""),t[e]}};function Rx(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Px),slots:t.slots,emit:t.emit,expose:e}}function Ql(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Sg(bv(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ro)return Ro[n](t)},has(e,n){return n in e||n in Ro}})):t.proxy}function Dx(t,e=!0){return _e(t)?t.displayName||t.name:t.name||e&&t.__name}function Ox(t){return _e(t)&&"__vccOpts"in t}const De=(t,e)=>Ev(t,e,Wo);function Be(t,e,n){try{ml(-1);const s=arguments.length;return s===2?qe(e)&&!fe(e)?Go(e)?we(t,null,[e]):we(t,e):we(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Go(n)&&(n=[n]),we(t,e,n))}finally{ml(1)}}const Nx="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bu;const Lf=typeof window<"u"&&window.trustedTypes;if(Lf)try{bu=Lf.createPolicy("vue",{createHTML:t=>t})}catch{}const d0=bu?t=>bu.createHTML(t):t=>t,Vx="http://www.w3.org/2000/svg",Mx="http://www.w3.org/1998/Math/MathML",hs=typeof document<"u"?document:null,$f=hs&&hs.createElement("template"),Lx={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?hs.createElementNS(Vx,t):e==="mathml"?hs.createElementNS(Mx,t):n?hs.createElement(t,{is:n}):hs.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>hs.createTextNode(t),createComment:t=>hs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{$f.innerHTML=d0(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=$f.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ms="transition",go="animation",Ko=Symbol("_vtc"),h0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$x=Et({},Ng,h0),zx=t=>(t.displayName="Transition",t.props=$x,t),Jo=zx((t,{slots:e})=>Be(Lv,Fx(t),e)),Sr=(t,e=[])=>{fe(t)?t.forEach(n=>n(...e)):t&&t(...e)},zf=t=>t?fe(t)?t.some(e=>e.length>1):t.length>1:!1;function Fx(t){const e={};for(const A in t)A in h0||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:d=o,appearToClass:h=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,x=jx(r),b=x&&x[0],C=x&&x[1],{onBeforeEnter:O,onEnter:V,onEnterCancelled:M,onLeave:P,onLeaveCancelled:D,onBeforeAppear:F=O,onAppear:S=V,onAppearCancelled:w=M}=e,v=(A,T,re,ve)=>{A._enterCancelled=ve,Ir(A,T?h:l),Ir(A,T?d:o),re&&re()},k=(A,T)=>{A._isLeaving=!1,Ir(A,m),Ir(A,g),Ir(A,f),T&&T()},I=A=>(T,re)=>{const ve=A?S:V,pe=()=>v(T,A,re);Sr(ve,[T,pe]),Ff(()=>{Ir(T,A?u:i),us(T,A?h:l),zf(ve)||jf(T,s,b,pe)})};return Et(e,{onBeforeEnter(A){Sr(O,[A]),us(A,i),us(A,o)},onBeforeAppear(A){Sr(F,[A]),us(A,u),us(A,d)},onEnter:I(!1),onAppear:I(!0),onLeave(A,T){A._isLeaving=!0;const re=()=>k(A,T);us(A,m),A._enterCancelled?(us(A,f),Hf(A)):(Hf(A),us(A,f)),Ff(()=>{A._isLeaving&&(Ir(A,m),us(A,g),zf(P)||jf(A,s,C,re))}),Sr(P,[A,re])},onEnterCancelled(A){v(A,!1,void 0,!0),Sr(M,[A])},onAppearCancelled(A){v(A,!0,void 0,!0),Sr(w,[A])},onLeaveCancelled(A){k(A),Sr(D,[A])}})}function jx(t){if(t==null)return null;if(qe(t))return[$c(t.enter),$c(t.leave)];{const e=$c(t);return[e,e]}}function $c(t){return qb(t)}function us(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ko]||(t[Ko]=new Set)).add(e)}function Ir(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Ko];n&&(n.delete(e),n.size||(t[Ko]=void 0))}function Ff(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ux=0;function jf(t,e,n,s){const r=t._endId=++Ux,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:u}=Bx(t,e);if(!o)return s();const d=o+"end";let h=0;const m=()=>{t.removeEventListener(d,f),i()},f=g=>{g.target===t&&++h>=u&&m()};setTimeout(()=>{h<u&&m()},l+1),t.addEventListener(d,f)}function Bx(t,e){const n=window.getComputedStyle(t),s=x=>(n[x]||"").split(", "),r=s(`${Ms}Delay`),i=s(`${Ms}Duration`),o=Uf(r,i),l=s(`${go}Delay`),u=s(`${go}Duration`),d=Uf(l,u);let h=null,m=0,f=0;e===Ms?o>0&&(h=Ms,m=o,f=i.length):e===go?d>0&&(h=go,m=d,f=u.length):(m=Math.max(o,d),h=m>0?o>d?Ms:go:null,f=h?h===Ms?i.length:u.length:0);const g=h===Ms&&/\b(?:transform|all)(?:,|$)/.test(s(`${Ms}Property`).toString());return{type:h,timeout:m,propCount:f,hasTransform:g}}function Uf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Bf(n)+Bf(t[s])))}function Bf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Hf(t){return(t?t.ownerDocument:document).body.offsetHeight}function Hx(t,e,n){const s=t[Ko];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const qf=Symbol("_vod"),qx=Symbol("_vsh"),Zx=Symbol(""),Gx=/(?:^|;)\s*display\s*:/;function Wx(t,e,n){const s=t.style,r=at(n);let i=!1;if(n&&!r){if(e)if(at(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Xa(s,l,"")}else for(const o in e)n[o]==null&&Xa(s,o,"");for(const o in n)o==="display"&&(i=!0),Xa(s,o,n[o])}else if(r){if(e!==n){const o=s[Zx];o&&(n+=";"+o),s.cssText=n,i=Gx.test(n)}}else e&&t.removeAttribute("style");qf in t&&(t[qf]=i?s.display:"",t[qx]&&(s.display="none"))}const Zf=/\s*!important$/;function Xa(t,e,n){if(fe(n))n.forEach(s=>Xa(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Kx(t,e);Zf.test(n)?t.setProperty(Gr(s),n.replace(Zf,""),"important"):t[s]=n}}const Gf=["Webkit","Moz","ms"],zc={};function Kx(t,e){const n=zc[e];if(n)return n;let s=Mn(e);if(s!=="filter"&&s in t)return zc[e]=s;s=Ul(s);for(let r=0;r<Gf.length;r++){const i=Gf[r]+s;if(i in t)return zc[e]=i}return e}const Wf="http://www.w3.org/1999/xlink";function Kf(t,e,n,s,r,i=Qb(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Wf,e.slice(6,e.length)):t.setAttributeNS(Wf,e,n):n==null||i&&!lg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Is(n)?String(n):n)}function Jf(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?d0(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=lg(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function oi(t,e,n,s){t.addEventListener(e,n,s)}function Jx(t,e,n,s){t.removeEventListener(e,n,s)}const Qf=Symbol("_vei");function Qx(t,e,n,s,r=null){const i=t[Qf]||(t[Qf]={}),o=i[e];if(s&&o)o.value=s;else{const[l,u]=Yx(e);if(s){const d=i[e]=tw(s,r);oi(t,l,d,u)}else o&&(Jx(t,l,o,u),i[e]=void 0)}}const Yf=/(?:Once|Passive|Capture)$/;function Yx(t){let e;if(Yf.test(t)){e={};let s;for(;s=t.match(Yf);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gr(t.slice(2)),e]}let Fc=0;const Xx=Promise.resolve(),ew=()=>Fc||(Xx.then(()=>Fc=0),Fc=Date.now());function tw(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;jn(nw(s,n.value),e,5,[s])};return n.value=t,n.attached=ew(),n}function nw(t,e){if(fe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Xf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,sw=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?Hx(t,s,o):e==="style"?Wx(t,n,s):zl(e)?dd(e)||Qx(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):rw(t,e,s,o))?(Jf(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Kf(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!at(s))?Jf(t,Mn(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Kf(t,e,s,o))};function rw(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Xf(e)&&_e(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Xf(e)&&at(n)?!1:e in t}const ep=t=>{const e=t.props["onUpdate:modelValue"]||!1;return fe(e)?n=>Ka(e,n):e};function iw(t){t.target.composing=!0}function tp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jc=Symbol("_assign");function np(t,e,n){return e&&(t=t.trim()),n&&(t=pd(t)),t}const qi={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[jc]=ep(r);const i=s||r.props&&r.props.type==="number";oi(t,e?"change":"input",o=>{o.target.composing||t[jc](np(t.value,n,i))}),(n||i)&&oi(t,"change",()=>{t.value=np(t.value,n,i)}),e||(oi(t,"compositionstart",iw),oi(t,"compositionend",tp),oi(t,"change",tp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[jc]=ep(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?pd(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},ow=["ctrl","shift","alt","meta"],aw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ow.some(n=>t[`${n}Key`]&&!e.includes(n))},Yt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const l=aw[e[o]];if(l&&l(r,e))return}return t(r,...i)})},lw=Et({patchProp:sw},Lx);let sp;function cw(){return sp||(sp=_x(lw))}const vu=(...t)=>{const e=cw().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=dw(s);if(!r)return;const i=e._component;!_e(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,uw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function uw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function dw(t){return at(t)?document.querySelector(t):t}const rp={"i:s":"star","i:u":"users","i:c":"check","i:a":"arrow-right","c:p":"#6366f1","c:s":"#10b981","c:d":"#ef4444","v:g":"gradient","v:o":"outlined","v:s":"soft"};function hw(t){return t in rp?rp[t]:t}function B(t,e,n){function s(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(t))return;l._zod.traits.add(t),e(l,u);const d=o.prototype,h=Object.keys(d);for(let m=0;m<h.length;m++){const f=h[m];f in l||(l[f]=d[f].bind(l))}}const r=(n==null?void 0:n.Parent)??Object;class i extends r{}Object.defineProperty(i,"name",{value:t});function o(l){var u;const d=n!=null&&n.Parent?new i:this;s(d,l),(u=d._zod).deferred??(u.deferred=[]);for(const h of d._zod.deferred)h();return d}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var u,d;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(d=(u=l==null?void 0:l._zod)==null?void 0:u.traits)==null?void 0:d.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class vi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class f0 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const p0={};function nr(t){return p0}function m0(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,r])=>e.indexOf(+s)===-1).map(([s,r])=>r)}function xu(t,e){return typeof e=="bigint"?e.toString():e}function Yl(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Id(t){return t==null}function Ad(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function fw(t,e){const n=(t.toString().split(".")[1]||"").length,s=e.toString();let r=(s.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(s)){const u=s.match(/\d?e-(\d?)/);u!=null&&u[1]&&(r=Number.parseInt(u[1]))}const i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return o%l/10**i}const ip=Symbol("evaluating");function Ue(t,e,n){let s;Object.defineProperty(t,e,{get(){if(s!==ip)return s===void 0&&(s=ip,s=n()),s},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function Wr(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Kr(...t){const e={};for(const n of t){const s=Object.getOwnPropertyDescriptors(n);Object.assign(e,s)}return Object.defineProperties({},e)}function op(t){return JSON.stringify(t)}function pw(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const g0="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Qo(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const mw=Yl(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ci(t){if(Qo(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Qo(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function _0(t){return Ci(t)?{...t}:Array.isArray(t)?[...t]:t}const gw=new Set(["string","number","symbol"]);function Pi(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fr(t,e,n){const s=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(s._zod.parent=t),s}function ie(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function _w(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const yw={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function bw(t,e){const n=t._zod.def,s=Kr(t._zod.def,{get shape(){const r={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(r[i]=n.shape[i])}return Wr(this,"shape",r),r},checks:[]});return fr(t,s)}function vw(t,e){const n=t._zod.def,s=Kr(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete r[i]}return Wr(this,"shape",r),r},checks:[]});return fr(t,s)}function xw(t,e){if(!Ci(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Kr(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return Wr(this,"shape",i),i},checks:[]});return fr(t,r)}function ww(t,e){if(!Ci(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const s={...t._zod.def.shape,...e};return Wr(this,"shape",s),s},checks:t._zod.def.checks};return fr(t,n)}function Tw(t,e){const n=Kr(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return Wr(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return fr(t,n)}function Ew(t,e,n){const s=Kr(e._zod.def,{get shape(){const r=e._zod.def.shape,i={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=t?new t({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)i[o]=t?new t({type:"optional",innerType:r[o]}):r[o];return Wr(this,"shape",i),i},checks:[]});return fr(e,s)}function Sw(t,e,n){const s=Kr(e._zod.def,{get shape(){const r=e._zod.def.shape,i={...r};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:r[o]}))}else for(const o in r)i[o]=new t({type:"nonoptional",innerType:r[o]});return Wr(this,"shape",i),i},checks:[]});return fr(e,s)}function di(t,e=0){var n;if(t.aborted===!0)return!0;for(let s=e;s<t.issues.length;s++)if(((n=t.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function hi(t,e){return e.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(t),n})}function za(t){return typeof t=="string"?t:t==null?void 0:t.message}function sr(t,e,n){var r,i,o,l,u,d;const s={...t,path:t.path??[]};if(!t.message){const h=za((o=(i=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,t))??za((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??za((u=n.customError)==null?void 0:u.call(n,t))??za((d=n.localeError)==null?void 0:d.call(n,t))??"Invalid input";s.message=h}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}function kd(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Yo(...t){const[e,n,s]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:s}:{...e}}const y0=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,xu,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},b0=B("$ZodError",y0),v0=B("$ZodError",y0,{Parent:Error});function Iw(t,e=n=>n.message){const n={},s=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}function Aw(t,e=n=>n.message){const n={_errors:[]},s=r=>{for(const i of r.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>s({issues:o}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let o=n,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(e(i))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(t),n}const Cd=t=>(e,n,s,r)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new vi;if(o.issues.length){const l=new((r==null?void 0:r.Err)??t)(o.issues.map(u=>sr(u,i,nr())));throw g0(l,r==null?void 0:r.callee),l}return o.value},Pd=t=>async(e,n,s,r)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((r==null?void 0:r.Err)??t)(o.issues.map(u=>sr(u,i,nr())));throw g0(l,r==null?void 0:r.callee),l}return o.value},Xl=t=>(e,n,s)=>{const r=s?{...s,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},r);if(i instanceof Promise)throw new vi;return i.issues.length?{success:!1,error:new(t??b0)(i.issues.map(o=>sr(o,r,nr())))}:{success:!0,data:i.value}},kw=Xl(v0),ec=t=>async(e,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>sr(o,r,nr())))}:{success:!0,data:i.value}},Cw=ec(v0),Pw=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Cd(t)(e,n,r)},Rw=t=>(e,n,s)=>Cd(t)(e,n,s),Dw=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Pd(t)(e,n,r)},Ow=t=>async(e,n,s)=>Pd(t)(e,n,s),Nw=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Xl(t)(e,n,r)},Vw=t=>(e,n,s)=>Xl(t)(e,n,s),Mw=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return ec(t)(e,n,r)},Lw=t=>async(e,n,s)=>ec(t)(e,n,s),$w=/^[cC][^\s-]{8,}$/,zw=/^[0-9a-z]+$/,Fw=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,jw=/^[0-9a-vA-V]{20}$/,Uw=/^[A-Za-z0-9]{27}$/,Bw=/^[a-zA-Z0-9_-]{21}$/,Hw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,qw=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ap=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Zw=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Gw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Ww(){return new RegExp(Gw,"u")}const Kw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Jw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Qw=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Yw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xw=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,x0=/^[A-Za-z0-9_-]*$/,e1=/^\+(?:[0-9]){6,14}[0-9]$/,w0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",t1=new RegExp(`^${w0}$`);function T0(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function n1(t){return new RegExp(`^${T0(t)}$`)}function s1(t){const e=T0({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${n.join("|")})`;return new RegExp(`^${w0}T(?:${s})$`)}const r1=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},i1=/^-?\d+$/,o1=/^-?\d+(?:\.\d+)?/,a1=/^(?:true|false)$/i,l1=/^null$/i,c1=/^undefined$/i,u1=/^[^A-Z]*$/,d1=/^[^a-z]*$/,pn=B("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),E0={number:"number",bigint:"bigint",object:"date"},S0=B("$ZodCheckLessThan",(t,e)=>{pn.init(t,e);const n=E0[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,i=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value<=e.value:s.value<e.value)||s.issues.push({origin:n,code:"too_big",maximum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),I0=B("$ZodCheckGreaterThan",(t,e)=>{pn.init(t,e);const n=E0[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,i=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value>=e.value:s.value>e.value)||s.issues.push({origin:n,code:"too_small",minimum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),h1=B("$ZodCheckMultipleOf",(t,e)=>{pn.init(t,e),t._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):fw(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),f1=B("$ZodCheckNumberFormat",(t,e)=>{var o;pn.init(t,e),e.format=e.format||"float64";const n=(o=e.format)==null?void 0:o.includes("int"),s=n?"int":"number",[r,i]=yw[e.format];t._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=r,u.maximum=i,n&&(u.pattern=i1)}),t._zod.check=l=>{const u=l.value;if(n){if(!Number.isInteger(u)){l.issues.push({expected:s,format:e.format,code:"invalid_type",continue:!1,input:u,inst:t});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort});return}}u<r&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:t})}}),p1=B("$ZodCheckMaxLength",(t,e)=>{var n;pn.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Id(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const r=s.value;if(r.length<=e.maximum)return;const o=kd(r);s.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),m1=B("$ZodCheckMinLength",(t,e)=>{var n;pn.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Id(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const r=s.value;if(r.length>=e.minimum)return;const o=kd(r);s.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),g1=B("$ZodCheckLengthEquals",(t,e)=>{var n;pn.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Id(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=s=>{const r=s.value,i=r.length;if(i===e.length)return;const o=kd(r),l=i>e.length;s.issues.push({origin:o,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),tc=B("$ZodCheckStringFormat",(t,e)=>{var n,s;pn.init(t,e),t._zod.onattach.push(r=>{const i=r._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),_1=B("$ZodCheckRegex",(t,e)=>{tc.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),y1=B("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=u1),tc.init(t,e)}),b1=B("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=d1),tc.init(t,e)}),v1=B("$ZodCheckIncludes",(t,e)=>{pn.init(t,e);const n=Pi(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=s,t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),x1=B("$ZodCheckStartsWith",(t,e)=>{pn.init(t,e);const n=new RegExp(`^${Pi(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),w1=B("$ZodCheckEndsWith",(t,e)=>{pn.init(t,e);const n=new RegExp(`.*${Pi(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),T1=B("$ZodCheckOverwrite",(t,e)=>{pn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class E1{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(o=>o),r=Math.min(...s.map(o=>o.length-o.trimStart().length)),i=s.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new e(...n,r.join(`
`))}}const S1={major:4,minor:2,patch:1},Ze=B("$ZodType",(t,e)=>{var r;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=S1;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const i of s)for(const o of i._zod.onattach)o(t);if(s.length===0)(n=t._zod).deferred??(n.deferred=[]),(r=t._zod.deferred)==null||r.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,u,d)=>{let h=di(l),m;for(const f of u){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(h)continue;const g=l.issues.length,x=f._zod.check(l);if(x instanceof Promise&&(d==null?void 0:d.async)===!1)throw new vi;if(m||x instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await x,l.issues.length!==g&&(h||(h=di(l,g)))});else{if(l.issues.length===g)continue;h||(h=di(l,g))}}return m?m.then(()=>l):l},o=(l,u,d)=>{if(di(l))return l.aborted=!0,l;const h=i(u,s,d);if(h instanceof Promise){if(d.async===!1)throw new vi;return h.then(m=>t._zod.parse(m,d))}return t._zod.parse(h,d)};t._zod.run=(l,u)=>{if(u.skipChecks)return t._zod.parse(l,u);if(u.direction==="backward"){const h=t._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return h instanceof Promise?h.then(m=>o(m,l,u)):o(h,l,u)}const d=t._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new vi;return d.then(h=>i(h,s,u))}return i(d,s,u)}}t["~standard"]={validate:i=>{var o;try{const l=kw(t,i);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return Cw(t,i).then(u=>{var d;return u.success?{value:u.data}:{issues:(d=u.error)==null?void 0:d.issues}})}},vendor:"zod",version:1}}),Rd=B("$ZodString",(t,e)=>{var n;Ze.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??r1(t._zod.bag),t._zod.parse=(s,r)=>{if(e.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:t}),s}}),Je=B("$ZodStringFormat",(t,e)=>{tc.init(t,e),Rd.init(t,e)}),I1=B("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=qw),Je.init(t,e)}),A1=B("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=ap(s))}else e.pattern??(e.pattern=ap());Je.init(t,e)}),k1=B("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Zw),Je.init(t,e)}),C1=B("$ZodURL",(t,e)=>{Je.init(t,e),t._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),P1=B("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Ww()),Je.init(t,e)}),R1=B("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Bw),Je.init(t,e)}),D1=B("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=$w),Je.init(t,e)}),O1=B("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=zw),Je.init(t,e)}),N1=B("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Fw),Je.init(t,e)}),V1=B("$ZodXID",(t,e)=>{e.pattern??(e.pattern=jw),Je.init(t,e)}),M1=B("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Uw),Je.init(t,e)}),L1=B("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=s1(e)),Je.init(t,e)}),$1=B("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=t1),Je.init(t,e)}),z1=B("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=n1(e)),Je.init(t,e)}),F1=B("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Hw),Je.init(t,e)}),j1=B("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Kw),Je.init(t,e),t._zod.bag.format="ipv4"}),U1=B("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Jw),Je.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),B1=B("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Qw),Je.init(t,e)}),H1=B("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Yw),Je.init(t,e),t._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[r,i]=s;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function A0(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const q1=B("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Xw),Je.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{A0(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Z1(t){if(!x0.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return A0(n)}const G1=B("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=x0),Je.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{Z1(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),W1=B("$ZodE164",(t,e)=>{e.pattern??(e.pattern=e1),Je.init(t,e)});function K1(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const J1=B("$ZodJWT",(t,e)=>{Je.init(t,e),t._zod.check=n=>{K1(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),k0=B("$ZodNumber",(t,e)=>{Ze.init(t,e),t._zod.pattern=t._zod.bag.pattern??o1,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const i=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...i?{received:i}:{}}),n}}),Q1=B("$ZodNumberFormat",(t,e)=>{f1.init(t,e),k0.init(t,e)}),Y1=B("$ZodBoolean",(t,e)=>{Ze.init(t,e),t._zod.pattern=a1,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),n}}),X1=B("$ZodUndefined",(t,e)=>{Ze.init(t,e),t._zod.pattern=c1,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(n,s)=>{const r=n.value;return typeof r>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:t}),n}}),eT=B("$ZodNull",(t,e)=>{Ze.init(t,e),t._zod.pattern=l1,t._zod.values=new Set([null]),t._zod.parse=(n,s)=>{const r=n.value;return r===null||n.issues.push({expected:"null",code:"invalid_type",input:r,inst:t}),n}}),tT=B("$ZodAny",(t,e)=>{Ze.init(t,e),t._zod.parse=n=>n}),nT=B("$ZodUnknown",(t,e)=>{Ze.init(t,e),t._zod.parse=n=>n}),sT=B("$ZodNever",(t,e)=>{Ze.init(t,e),t._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function lp(t,e,n){t.issues.length&&e.issues.push(...hi(n,t.issues)),e.value[n]=t.value}const rT=B("$ZodArray",(t,e)=>{Ze.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const i=[];for(let o=0;o<r.length;o++){const l=r[o],u=e.element._zod.run({value:l,issues:[]},s);u instanceof Promise?i.push(u.then(d=>lp(d,n,o))):lp(u,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function _l(t,e,n,s){t.issues.length&&e.issues.push(...hi(n,t.issues)),t.value===void 0?n in s&&(e.value[n]=void 0):e.value[n]=t.value}function C0(t){var s,r,i,o;const e=Object.keys(t.shape);for(const l of e)if(!((o=(i=(r=(s=t.shape)==null?void 0:s[l])==null?void 0:r._zod)==null?void 0:i.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=_w(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function P0(t,e,n,s,r,i){const o=[],l=r.keySet,u=r.catchall._zod,d=u.def.type;for(const h in e){if(l.has(h))continue;if(d==="never"){o.push(h);continue}const m=u.run({value:e[h],issues:[]},s);m instanceof Promise?t.push(m.then(f=>_l(f,n,h,e))):_l(m,n,h,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const iT=B("$ZodObject",(t,e)=>{Ze.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const l=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...l};return Object.defineProperty(e,"shape",{value:u}),u}})}const s=Yl(()=>C0(e));Ue(t._zod,"propValues",()=>{const l=e.shape,u={};for(const d in l){const h=l[d]._zod;if(h.values){u[d]??(u[d]=new Set);for(const m of h.values)u[d].add(m)}}return u});const r=Qo,i=e.catchall;let o;t._zod.parse=(l,u)=>{o??(o=s.value);const d=l.value;if(!r(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),l;l.value={};const h=[],m=o.shape;for(const f of o.keys){const x=m[f]._zod.run({value:d[f],issues:[]},u);x instanceof Promise?h.push(x.then(b=>_l(b,l,f,d))):_l(x,l,f,d)}return i?P0(h,d,l,u,s.value,t):h.length?Promise.all(h).then(()=>l):l}}),oT=B("$ZodObjectJIT",(t,e)=>{iT.init(t,e);const n=t._zod.parse,s=Yl(()=>C0(e)),r=f=>{const g=new E1(["shape","payload","ctx"]),x=s.value,b=M=>{const P=op(M);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};g.write("const input = payload.value;");const C=Object.create(null);let O=0;for(const M of x.keys)C[M]=`key_${O++}`;g.write("const newResult = {};");for(const M of x.keys){const P=C[M],D=op(M);g.write(`const ${P} = ${b(M)};`),g.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${P}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const V=g.compile();return(M,P)=>V(f,M,P)};let i;const o=Qo,l=!p0.jitless,d=l&&mw.value,h=e.catchall;let m;t._zod.parse=(f,g)=>{m??(m=s.value);const x=f.value;return o(x)?l&&d&&(g==null?void 0:g.async)===!1&&g.jitless!==!0?(i||(i=r(e.shape)),f=i(f,g),h?P0([],x,f,g,m,t):f):n(f,g):(f.issues.push({expected:"object",code:"invalid_type",input:x,inst:t}),f)}});function cp(t,e,n,s){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const r=t.filter(i=>!di(i));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(o=>sr(o,s,nr())))}),e)}const R0=B("$ZodUnion",(t,e)=>{Ze.init(t,e),Ue(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Ue(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Ue(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),Ue(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${r.map(i=>Ad(i.source)).join("|")})$`)}});const n=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(r,i)=>{if(n)return s(r,i);let o=!1;const l=[];for(const u of e.options){const d=u._zod.run({value:r.value,issues:[]},i);if(d instanceof Promise)l.push(d),o=!0;else{if(d.issues.length===0)return d;l.push(d)}}return o?Promise.all(l).then(u=>cp(u,r,t,i)):cp(l,r,t,i)}}),aT=B("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=!1,R0.init(t,e);const n=t._zod.parse;Ue(t._zod,"propValues",()=>{const r={};for(const i of e.options){const o=i._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(i)}"`);for(const[l,u]of Object.entries(o)){r[l]||(r[l]=new Set);for(const d of u)r[l].add(d)}}return r});const s=Yl(()=>{var o;const r=e.options,i=new Map;for(const l of r){const u=(o=l._zod.propValues)==null?void 0:o[e.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(l)}"`);for(const d of u){if(i.has(d))throw new Error(`Duplicate discriminator value "${String(d)}"`);i.set(d,l)}}return i});t._zod.parse=(r,i)=>{const o=r.value;if(!Qo(o))return r.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),r;const l=s.value.get(o==null?void 0:o[e.discriminator]);return l?l._zod.run(r,i):e.unionFallback?n(r,i):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:o,path:[e.discriminator],inst:t}),r)}}),lT=B("$ZodIntersection",(t,e)=>{Ze.init(t,e),t._zod.parse=(n,s)=>{const r=n.value,i=e.left._zod.run({value:r,issues:[]},s),o=e.right._zod.run({value:r,issues:[]},s);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([u,d])=>up(n,u,d)):up(n,i,o)}});function wu(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ci(t)&&Ci(e)){const n=Object.keys(e),s=Object.keys(t).filter(i=>n.indexOf(i)!==-1),r={...t,...e};for(const i of s){const o=wu(t[i],e[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};r[i]=o.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<t.length;s++){const r=t[s],i=e[s],o=wu(r,i);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function up(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),di(t))return t;const s=wu(e.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}const cT=B("$ZodRecord",(t,e)=>{Ze.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Ci(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),n;const i=[],o=e.keyType._zod.values;if(o){n.value={};const l=new Set;for(const d of o)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){l.add(typeof d=="number"?d.toString():d);const h=e.valueType._zod.run({value:r[d],issues:[]},s);h instanceof Promise?i.push(h.then(m=>{m.issues.length&&n.issues.push(...hi(d,m.issues)),n.value[d]=m.value})):(h.issues.length&&n.issues.push(...hi(d,h.issues)),n.value[d]=h.value)}let u;for(const d in r)l.has(d)||(u=u??[],u.push(d));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:u})}else{n.value={};for(const l of Reflect.ownKeys(r)){if(l==="__proto__")continue;const u=e.keyType._zod.run({value:l,issues:[]},s);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){e.mode==="loose"?n.value[l]=r[l]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>sr(h,s,nr())),input:l,path:[l],inst:t});continue}const d=e.valueType._zod.run({value:r[l],issues:[]},s);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&n.issues.push(...hi(l,h.issues)),n.value[u.value]=h.value})):(d.issues.length&&n.issues.push(...hi(l,d.issues)),n.value[u.value]=d.value)}}return i.length?Promise.all(i).then(()=>n):n}}),uT=B("$ZodEnum",(t,e)=>{Ze.init(t,e);const n=m0(e.entries),s=new Set(n);t._zod.values=s,t._zod.pattern=new RegExp(`^(${n.filter(r=>gw.has(typeof r)).map(r=>typeof r=="string"?Pi(r):r.toString()).join("|")})$`),t._zod.parse=(r,i)=>{const o=r.value;return s.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:t}),r}}),dT=B("$ZodLiteral",(t,e)=>{if(Ze.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(s=>typeof s=="string"?Pi(s):s?Pi(s.toString()):String(s)).join("|")})$`),t._zod.parse=(s,r)=>{const i=s.value;return n.has(i)||s.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),s}}),hT=B("$ZodTransform",(t,e)=>{Ze.init(t,e),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new f0(t.constructor.name);const r=e.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new vi;return n.value=r,n}});function dp(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const fT=B("$ZodOptional",(t,e)=>{Ze.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Ue(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ue(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ad(n.source)})?$`):void 0}),t._zod.parse=(n,s)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>dp(i,n.value)):dp(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,s)}}),pT=B("$ZodNullable",(t,e)=>{Ze.init(t,e),Ue(t._zod,"optin",()=>e.innerType._zod.optin),Ue(t._zod,"optout",()=>e.innerType._zod.optout),Ue(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ad(n.source)}|null)$`):void 0}),Ue(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,s)=>n.value===null?n:e.innerType._zod.run(n,s)}),mT=B("$ZodDefault",(t,e)=>{Ze.init(t,e),t._zod.optin="optional",Ue(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>hp(i,e)):hp(r,e)}});function hp(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const gT=B("$ZodPrefault",(t,e)=>{Ze.init(t,e),t._zod.optin="optional",Ue(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,s))}),_T=B("$ZodNonOptional",(t,e)=>{Ze.init(t,e),Ue(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>fp(i,t)):fp(r,t)}});function fp(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const yT=B("$ZodCatch",(t,e)=>{Ze.init(t,e),Ue(t._zod,"optin",()=>e.innerType._zod.optin),Ue(t._zod,"optout",()=>e.innerType._zod.optout),Ue(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>sr(o,s,nr()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(i=>sr(i,s,nr()))},input:n.value}),n.issues=[]),n)}}),bT=B("$ZodPipe",(t,e)=>{Ze.init(t,e),Ue(t._zod,"values",()=>e.in._zod.values),Ue(t._zod,"optin",()=>e.in._zod.optin),Ue(t._zod,"optout",()=>e.out._zod.optout),Ue(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,s)=>{if(s.direction==="backward"){const i=e.out._zod.run(n,s);return i instanceof Promise?i.then(o=>Fa(o,e.in,s)):Fa(i,e.in,s)}const r=e.in._zod.run(n,s);return r instanceof Promise?r.then(i=>Fa(i,e.out,s)):Fa(r,e.out,s)}});function Fa(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const vT=B("$ZodReadonly",(t,e)=>{Ze.init(t,e),Ue(t._zod,"propValues",()=>e.innerType._zod.propValues),Ue(t._zod,"values",()=>e.innerType._zod.values),Ue(t._zod,"optin",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optin}),Ue(t._zod,"optout",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optout}),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(pp):pp(r)}});function pp(t){return t.value=Object.freeze(t.value),t}const xT=B("$ZodCustom",(t,e)=>{pn.init(t,e),Ze.init(t,e),t._zod.parse=(n,s)=>n,t._zod.check=n=>{const s=n.value,r=e.fn(s);if(r instanceof Promise)return r.then(i=>mp(i,n,s,t));mp(r,n,s,t)}});function mp(t,e,n,s){if(!t){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),e.issues.push(Yo(r))}}var gp;class wT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const s=n[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function TT(){return new wT}(gp=globalThis).__zod_globalRegistry??(gp.__zod_globalRegistry=TT());const vo=globalThis.__zod_globalRegistry;function ET(t,e){return new t({type:"string",...ie(e)})}function ST(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...ie(e)})}function _p(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...ie(e)})}function IT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...ie(e)})}function AT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ie(e)})}function kT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ie(e)})}function CT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ie(e)})}function PT(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...ie(e)})}function RT(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...ie(e)})}function DT(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...ie(e)})}function OT(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...ie(e)})}function NT(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...ie(e)})}function VT(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...ie(e)})}function MT(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...ie(e)})}function LT(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...ie(e)})}function $T(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...ie(e)})}function zT(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...ie(e)})}function FT(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ie(e)})}function jT(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ie(e)})}function UT(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...ie(e)})}function BT(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...ie(e)})}function HT(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...ie(e)})}function qT(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...ie(e)})}function ZT(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ie(e)})}function GT(t,e){return new t({type:"string",format:"date",check:"string_format",...ie(e)})}function WT(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...ie(e)})}function KT(t,e){return new t({type:"string",format:"duration",check:"string_format",...ie(e)})}function JT(t,e){return new t({type:"number",checks:[],...ie(e)})}function QT(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...ie(e)})}function YT(t,e){return new t({type:"boolean",...ie(e)})}function XT(t,e){return new t({type:"undefined",...ie(e)})}function eE(t,e){return new t({type:"null",...ie(e)})}function tE(t){return new t({type:"any"})}function nE(t){return new t({type:"unknown"})}function sE(t,e){return new t({type:"never",...ie(e)})}function yp(t,e){return new S0({check:"less_than",...ie(e),value:t,inclusive:!1})}function Uc(t,e){return new S0({check:"less_than",...ie(e),value:t,inclusive:!0})}function bp(t,e){return new I0({check:"greater_than",...ie(e),value:t,inclusive:!1})}function Bc(t,e){return new I0({check:"greater_than",...ie(e),value:t,inclusive:!0})}function vp(t,e){return new h1({check:"multiple_of",...ie(e),value:t})}function D0(t,e){return new p1({check:"max_length",...ie(e),maximum:t})}function yl(t,e){return new m1({check:"min_length",...ie(e),minimum:t})}function O0(t,e){return new g1({check:"length_equals",...ie(e),length:t})}function rE(t,e){return new _1({check:"string_format",format:"regex",...ie(e),pattern:t})}function iE(t){return new y1({check:"string_format",format:"lowercase",...ie(t)})}function oE(t){return new b1({check:"string_format",format:"uppercase",...ie(t)})}function aE(t,e){return new v1({check:"string_format",format:"includes",...ie(e),includes:t})}function lE(t,e){return new x1({check:"string_format",format:"starts_with",...ie(e),prefix:t})}function cE(t,e){return new w1({check:"string_format",format:"ends_with",...ie(e),suffix:t})}function Zi(t){return new T1({check:"overwrite",tx:t})}function uE(t){return Zi(e=>e.normalize(t))}function dE(){return Zi(t=>t.trim())}function hE(){return Zi(t=>t.toLowerCase())}function fE(){return Zi(t=>t.toUpperCase())}function pE(){return Zi(t=>pw(t))}function mE(t,e,n){return new t({type:"array",element:e,...ie(n)})}function gE(t,e,n){return new t({type:"custom",check:"custom",fn:e,...ie(n)})}function _E(t){const e=yE(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Yo(s,n.value,e._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(Yo(r))}},t(n.value,n)));return e}function yE(t,e){const n=new pn({check:"custom",...ie(e)});return n._zod.check=t,n}function N0(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??vo,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function vt(t,e,n={path:[],schemaPath:[]}){var h,m;var s;const r=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,o);const l=(m=(h=t._zod).toJSONSchema)==null?void 0:m.call(h);if(l)o.schema=l;else{const f={...n,schemaPath:[...n.schemaPath,t],path:n.path},g=t._zod.parent;if(g)o.ref=g,vt(g,e,f),e.seen.get(g).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,o.schema,f);else{const x=o.schema,b=e.processors[r.type];if(!b)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);b(t,e,x,f)}}const u=e.metadataRegistry.get(t);return u&&Object.assign(o.schema,u),e.io==="input"&&Qt(t)&&(delete o.schema.examples,delete o.schema.default),e.io==="input"&&o.schema._prefault&&((s=o.schema).default??(s.default=o.schema._prefault)),delete o.schema._prefault,e.seen.get(t).schema}function V0(t,e){var i,o,l;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=u=>{var g;const d=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const x=(g=t.external.registry.get(u[0]))==null?void 0:g.id,b=t.external.uri??(O=>O);if(x)return{ref:b(x)};const C=u[1].defId??u[1].schema.id??`schema${t.counter++}`;return u[1].defId=C,{defId:C,ref:`${b("__shared")}#/${d}/${C}`}}if(u[1]===n)return{ref:"#"};const m=`#/${d}/`,f=u[1].schema.id??`__schema${t.counter++}`;return{defId:f,ref:m+f}},r=u=>{if(u[1].schema.$ref)return;const d=u[1],{ref:h,defId:m}=s(u);d.def={...d.schema},m&&(d.defId=m);const f=d.schema;for(const g in f)delete f[g];f.$ref=h};if(t.cycles==="throw")for(const u of t.seen.entries()){const d=u[1];if(d.cycle)throw new Error(`Cycle detected: #/${(i=d.cycle)==null?void 0:i.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of t.seen.entries()){const d=u[1];if(e===u[0]){r(u);continue}if(t.external){const m=(o=t.external.registry.get(u[0]))==null?void 0:o.id;if(e!==u[0]&&m){r(u);continue}}if((l=t.metadataRegistry.get(u[0]))==null?void 0:l.id){r(u);continue}if(d.cycle){r(u);continue}if(d.count>1&&t.reused==="ref"){r(u);continue}}}function M0(t,e){var o,l,u;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=d=>{const h=t.seen.get(d),m=h.def??h.schema,f={...m};if(h.ref===null)return;const g=h.ref;if(h.ref=null,g){s(g);const x=t.seen.get(g).schema;x.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(x)):(Object.assign(m,x),Object.assign(m,f))}h.isParent||t.override({zodSchema:d,jsonSchema:m,path:h.path??[]})};for(const d of[...t.seen.entries()].reverse())s(d[0]);const r={};if(t.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":t.target,(o=t.external)!=null&&o.uri){const d=(l=t.external.registry.get(e))==null?void 0:l.id;if(!d)throw new Error("Schema is missing an `id` property");r.$id=t.external.uri(d)}Object.assign(r,n.def??n.schema);const i=((u=t.external)==null?void 0:u.defs)??{};for(const d of t.seen.entries()){const h=d[1];h.def&&h.defId&&(i[h.defId]=h.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?r.$defs=i:r.definitions=i);try{const d=JSON.parse(JSON.stringify(r));return Object.defineProperty(d,"~standard",{value:{...e["~standard"],jsonSchema:{input:bl(e,"input"),output:bl(e,"output")}},enumerable:!1,writable:!1}),d}catch{throw new Error("Error converting schema to JSON.")}}function Qt(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return Qt(s.element,n);if(s.type==="set")return Qt(s.valueType,n);if(s.type==="lazy")return Qt(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return Qt(s.innerType,n);if(s.type==="intersection")return Qt(s.left,n)||Qt(s.right,n);if(s.type==="record"||s.type==="map")return Qt(s.keyType,n)||Qt(s.valueType,n);if(s.type==="pipe")return Qt(s.in,n)||Qt(s.out,n);if(s.type==="object"){for(const r in s.shape)if(Qt(s.shape[r],n))return!0;return!1}if(s.type==="union"){for(const r of s.options)if(Qt(r,n))return!0;return!1}if(s.type==="tuple"){for(const r of s.items)if(Qt(r,n))return!0;return!!(s.rest&&Qt(s.rest,n))}return!1}const bE=(t,e={})=>n=>{const s=N0({...n,processors:e});return vt(t,s),V0(s,t),M0(s,t)},bl=(t,e)=>n=>{const{libraryOptions:s,target:r}=n??{},i=N0({...s??{},target:r,io:e,processors:{}});return vt(t,i),V0(i,t),M0(i,t)},vE={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},xE=(t,e,n,s)=>{const r=n;r.type="string";const{minimum:i,maximum:o,format:l,patterns:u,contentEncoding:d}=t._zod.bag;if(typeof i=="number"&&(r.minLength=i),typeof o=="number"&&(r.maxLength=o),l&&(r.format=vE[l]??l,r.format===""&&delete r.format),d&&(r.contentEncoding=d),u&&u.size>0){const h=[...u];h.length===1?r.pattern=h[0].source:h.length>1&&(r.allOf=[...h.map(m=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},wE=(t,e,n,s)=>{const r=n,{minimum:i,maximum:o,format:l,multipleOf:u,exclusiveMaximum:d,exclusiveMinimum:h}=t._zod.bag;typeof l=="string"&&l.includes("int")?r.type="integer":r.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.minimum=h,r.exclusiveMinimum=!0):r.exclusiveMinimum=h),typeof i=="number"&&(r.minimum=i,typeof h=="number"&&e.target!=="draft-04"&&(h>=i?delete r.minimum:delete r.exclusiveMinimum)),typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.maximum=d,r.exclusiveMaximum=!0):r.exclusiveMaximum=d),typeof o=="number"&&(r.maximum=o,typeof d=="number"&&e.target!=="draft-04"&&(d<=o?delete r.maximum:delete r.exclusiveMaximum)),typeof u=="number"&&(r.multipleOf=u)},TE=(t,e,n,s)=>{n.type="boolean"},EE=(t,e,n,s)=>{e.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},SE=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},IE=(t,e,n,s)=>{n.not={}},AE=(t,e,n,s)=>{},kE=(t,e,n,s)=>{},CE=(t,e,n,s)=>{const r=t._zod.def,i=m0(r.entries);i.every(o=>typeof o=="number")&&(n.type="number"),i.every(o=>typeof o=="string")&&(n.type="string"),n.enum=i},PE=(t,e,n,s)=>{const r=t._zod.def,i=[];for(const o of r.values)if(o===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(o))}else i.push(o);if(i.length!==0)if(i.length===1){const o=i[0];n.type=o===null?"null":typeof o,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[o]:n.const=o}else i.every(o=>typeof o=="number")&&(n.type="number"),i.every(o=>typeof o=="string")&&(n.type="string"),i.every(o=>typeof o=="boolean")&&(n.type="boolean"),i.every(o=>o===null)&&(n.type="null"),n.enum=i},RE=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},DE=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},OE=(t,e,n,s)=>{const r=n,i=t._zod.def,{minimum:o,maximum:l}=t._zod.bag;typeof o=="number"&&(r.minItems=o),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=vt(i.element,e,{...s,path:[...s.path,"items"]})},NE=(t,e,n,s)=>{var d;const r=n,i=t._zod.def;r.type="object",r.properties={};const o=i.shape;for(const h in o)r.properties[h]=vt(o[h],e,{...s,path:[...s.path,"properties",h]});const l=new Set(Object.keys(o)),u=new Set([...l].filter(h=>{const m=i.shape[h]._zod;return e.io==="input"?m.optin===void 0:m.optout===void 0}));u.size>0&&(r.required=Array.from(u)),((d=i.catchall)==null?void 0:d._zod.def.type)==="never"?r.additionalProperties=!1:i.catchall?i.catchall&&(r.additionalProperties=vt(i.catchall,e,{...s,path:[...s.path,"additionalProperties"]})):e.io==="output"&&(r.additionalProperties=!1)},VE=(t,e,n,s)=>{const r=t._zod.def,i=r.inclusive===!1,o=r.options.map((l,u)=>vt(l,e,{...s,path:[...s.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=o:n.anyOf=o},ME=(t,e,n,s)=>{const r=t._zod.def,i=vt(r.left,e,{...s,path:[...s.path,"allOf",0]}),o=vt(r.right,e,{...s,path:[...s.path,"allOf",1]}),l=d=>"allOf"in d&&Object.keys(d).length===1,u=[...l(i)?i.allOf:[i],...l(o)?o.allOf:[o]];n.allOf=u},LE=(t,e,n,s)=>{const r=n,i=t._zod.def;r.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(r.propertyNames=vt(i.keyType,e,{...s,path:[...s.path,"propertyNames"]})),r.additionalProperties=vt(i.valueType,e,{...s,path:[...s.path,"additionalProperties"]})},$E=(t,e,n,s)=>{const r=t._zod.def,i=vt(r.innerType,e,s),o=e.seen.get(t);e.target==="openapi-3.0"?(o.ref=r.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},zE=(t,e,n,s)=>{const r=t._zod.def;vt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType},FE=(t,e,n,s)=>{const r=t._zod.def;vt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},jE=(t,e,n,s)=>{const r=t._zod.def;vt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},UE=(t,e,n,s)=>{const r=t._zod.def;vt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType;let o;try{o=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},BE=(t,e,n,s)=>{const r=t._zod.def,i=e.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;vt(i,e,s);const o=e.seen.get(t);o.ref=i},HE=(t,e,n,s)=>{const r=t._zod.def;vt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,n.readOnly=!0},qE=(t,e,n,s)=>{const r=t._zod.def;vt(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType},ZE=B("ZodISODateTime",(t,e)=>{L1.init(t,e),rt.init(t,e)});function GE(t){return ZT(ZE,t)}const WE=B("ZodISODate",(t,e)=>{$1.init(t,e),rt.init(t,e)});function KE(t){return GT(WE,t)}const JE=B("ZodISOTime",(t,e)=>{z1.init(t,e),rt.init(t,e)});function QE(t){return WT(JE,t)}const YE=B("ZodISODuration",(t,e)=>{F1.init(t,e),rt.init(t,e)});function XE(t){return KT(YE,t)}const e2=(t,e)=>{b0.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Aw(t,n)},flatten:{value:n=>Iw(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,xu,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,xu,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ln=B("ZodError",e2,{Parent:Error}),t2=Cd(Ln),n2=Pd(Ln),s2=Xl(Ln),r2=ec(Ln),i2=Pw(Ln),o2=Rw(Ln),a2=Dw(Ln),l2=Ow(Ln),c2=Nw(Ln),u2=Vw(Ln),d2=Mw(Ln),h2=Lw(Ln),We=B("ZodType",(t,e)=>(Ze.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:bl(t,"input"),output:bl(t,"output")}}),t.toJSONSchema=bE(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Kr(e,{checks:[...e.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),t.clone=(n,s)=>fr(t,n,s),t.brand=()=>t,t.register=(n,s)=>(n.add(t,s),t),t.parse=(n,s)=>t2(t,n,s,{callee:t.parse}),t.safeParse=(n,s)=>s2(t,n,s),t.parseAsync=async(n,s)=>n2(t,n,s,{callee:t.parseAsync}),t.safeParseAsync=async(n,s)=>r2(t,n,s),t.spa=t.safeParseAsync,t.encode=(n,s)=>i2(t,n,s),t.decode=(n,s)=>o2(t,n,s),t.encodeAsync=async(n,s)=>a2(t,n,s),t.decodeAsync=async(n,s)=>l2(t,n,s),t.safeEncode=(n,s)=>c2(t,n,s),t.safeDecode=(n,s)=>u2(t,n,s),t.safeEncodeAsync=async(n,s)=>d2(t,n,s),t.safeDecodeAsync=async(n,s)=>h2(t,n,s),t.refine=(n,s)=>t.check(lS(n,s)),t.superRefine=n=>t.check(cS(n)),t.overwrite=n=>t.check(Zi(n)),t.optional=()=>Ep(t),t.nullable=()=>Sp(t),t.nullish=()=>Ep(Sp(t)),t.nonoptional=n=>tS(t,n),t.array=()=>Dd(t),t.or=n=>Od([t,n]),t.and=n=>q2(t,n),t.transform=n=>Eu(t,U0(n)),t.default=n=>Y2(t,n),t.prefault=n=>eS(t,n),t.catch=n=>sS(t,n),t.pipe=n=>Eu(t,n),t.readonly=()=>oS(t),t.describe=n=>{const s=t.clone();return vo.add(s,{description:n}),s},Object.defineProperty(t,"description",{get(){var n;return(n=vo.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return vo.get(t);const s=t.clone();return vo.add(s,n[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),L0=B("_ZodString",(t,e)=>{Rd.init(t,e),We.init(t,e),t._zod.processJSONSchema=(s,r,i)=>xE(t,s,r);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...s)=>t.check(rE(...s)),t.includes=(...s)=>t.check(aE(...s)),t.startsWith=(...s)=>t.check(lE(...s)),t.endsWith=(...s)=>t.check(cE(...s)),t.min=(...s)=>t.check(yl(...s)),t.max=(...s)=>t.check(D0(...s)),t.length=(...s)=>t.check(O0(...s)),t.nonempty=(...s)=>t.check(yl(1,...s)),t.lowercase=s=>t.check(iE(s)),t.uppercase=s=>t.check(oE(s)),t.trim=()=>t.check(dE()),t.normalize=(...s)=>t.check(uE(...s)),t.toLowerCase=()=>t.check(hE()),t.toUpperCase=()=>t.check(fE()),t.slugify=()=>t.check(pE())}),f2=B("ZodString",(t,e)=>{Rd.init(t,e),L0.init(t,e),t.email=n=>t.check(ST(p2,n)),t.url=n=>t.check(PT(m2,n)),t.jwt=n=>t.check(qT(P2,n)),t.emoji=n=>t.check(RT(g2,n)),t.guid=n=>t.check(_p(xp,n)),t.uuid=n=>t.check(IT(ja,n)),t.uuidv4=n=>t.check(AT(ja,n)),t.uuidv6=n=>t.check(kT(ja,n)),t.uuidv7=n=>t.check(CT(ja,n)),t.nanoid=n=>t.check(DT(_2,n)),t.guid=n=>t.check(_p(xp,n)),t.cuid=n=>t.check(OT(y2,n)),t.cuid2=n=>t.check(NT(b2,n)),t.ulid=n=>t.check(VT(v2,n)),t.base64=n=>t.check(UT(A2,n)),t.base64url=n=>t.check(BT(k2,n)),t.xid=n=>t.check(MT(x2,n)),t.ksuid=n=>t.check(LT(w2,n)),t.ipv4=n=>t.check($T(T2,n)),t.ipv6=n=>t.check(zT(E2,n)),t.cidrv4=n=>t.check(FT(S2,n)),t.cidrv6=n=>t.check(jT(I2,n)),t.e164=n=>t.check(HT(C2,n)),t.datetime=n=>t.check(GE(n)),t.date=n=>t.check(KE(n)),t.time=n=>t.check(QE(n)),t.duration=n=>t.check(XE(n))});function Hr(t){return ET(f2,t)}const rt=B("ZodStringFormat",(t,e)=>{Je.init(t,e),L0.init(t,e)}),p2=B("ZodEmail",(t,e)=>{k1.init(t,e),rt.init(t,e)}),xp=B("ZodGUID",(t,e)=>{I1.init(t,e),rt.init(t,e)}),ja=B("ZodUUID",(t,e)=>{A1.init(t,e),rt.init(t,e)}),m2=B("ZodURL",(t,e)=>{C1.init(t,e),rt.init(t,e)}),g2=B("ZodEmoji",(t,e)=>{P1.init(t,e),rt.init(t,e)}),_2=B("ZodNanoID",(t,e)=>{R1.init(t,e),rt.init(t,e)}),y2=B("ZodCUID",(t,e)=>{D1.init(t,e),rt.init(t,e)}),b2=B("ZodCUID2",(t,e)=>{O1.init(t,e),rt.init(t,e)}),v2=B("ZodULID",(t,e)=>{N1.init(t,e),rt.init(t,e)}),x2=B("ZodXID",(t,e)=>{V1.init(t,e),rt.init(t,e)}),w2=B("ZodKSUID",(t,e)=>{M1.init(t,e),rt.init(t,e)}),T2=B("ZodIPv4",(t,e)=>{j1.init(t,e),rt.init(t,e)}),E2=B("ZodIPv6",(t,e)=>{U1.init(t,e),rt.init(t,e)}),S2=B("ZodCIDRv4",(t,e)=>{B1.init(t,e),rt.init(t,e)}),I2=B("ZodCIDRv6",(t,e)=>{H1.init(t,e),rt.init(t,e)}),A2=B("ZodBase64",(t,e)=>{q1.init(t,e),rt.init(t,e)}),k2=B("ZodBase64URL",(t,e)=>{G1.init(t,e),rt.init(t,e)}),C2=B("ZodE164",(t,e)=>{W1.init(t,e),rt.init(t,e)}),P2=B("ZodJWT",(t,e)=>{J1.init(t,e),rt.init(t,e)}),$0=B("ZodNumber",(t,e)=>{k0.init(t,e),We.init(t,e),t._zod.processJSONSchema=(s,r,i)=>wE(t,s,r),t.gt=(s,r)=>t.check(bp(s,r)),t.gte=(s,r)=>t.check(Bc(s,r)),t.min=(s,r)=>t.check(Bc(s,r)),t.lt=(s,r)=>t.check(yp(s,r)),t.lte=(s,r)=>t.check(Uc(s,r)),t.max=(s,r)=>t.check(Uc(s,r)),t.int=s=>t.check(wp(s)),t.safe=s=>t.check(wp(s)),t.positive=s=>t.check(bp(0,s)),t.nonnegative=s=>t.check(Bc(0,s)),t.negative=s=>t.check(yp(0,s)),t.nonpositive=s=>t.check(Uc(0,s)),t.multipleOf=(s,r)=>t.check(vp(s,r)),t.step=(s,r)=>t.check(vp(s,r)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function R2(t){return JT($0,t)}const D2=B("ZodNumberFormat",(t,e)=>{Q1.init(t,e),$0.init(t,e)});function wp(t){return QT(D2,t)}const O2=B("ZodBoolean",(t,e)=>{Y1.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>TE(t,n,s)});function _a(t){return YT(O2,t)}const N2=B("ZodUndefined",(t,e)=>{X1.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>SE(t,n)});function z0(t){return XT(N2,t)}const V2=B("ZodNull",(t,e)=>{eT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>EE(t,n,s)});function F0(t){return eE(V2,t)}const M2=B("ZodAny",(t,e)=>{tT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>AE()});function L2(){return tE(M2)}const $2=B("ZodUnknown",(t,e)=>{nT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>kE()});function Tp(){return nE($2)}const z2=B("ZodNever",(t,e)=>{sT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>IE(t,n,s)});function F2(t){return sE(z2,t)}const j2=B("ZodArray",(t,e)=>{rT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>OE(t,n,s,r),t.element=e.element,t.min=(n,s)=>t.check(yl(n,s)),t.nonempty=n=>t.check(yl(1,n)),t.max=(n,s)=>t.check(D0(n,s)),t.length=(n,s)=>t.check(O0(n,s)),t.unwrap=()=>t.element});function Dd(t,e){return mE(j2,t,e)}const U2=B("ZodObject",(t,e)=>{oT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>NE(t,n,s,r),Ue(t,"shape",()=>e.shape),t.keyof=()=>In(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Tp()}),t.loose=()=>t.clone({...t._zod.def,catchall:Tp()}),t.strict=()=>t.clone({...t._zod.def,catchall:F2()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>xw(t,n),t.safeExtend=n=>ww(t,n),t.merge=n=>Tw(t,n),t.pick=n=>bw(t,n),t.omit=n=>vw(t,n),t.partial=(...n)=>Ew(B0,t,n[0]),t.required=(...n)=>Sw(H0,t,n[0])});function Zt(t,e){const n={type:"object",shape:t??{},...ie(e)};return new U2(n)}const j0=B("ZodUnion",(t,e)=>{R0.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>VE(t,n,s,r),t.options=e.options});function Od(t,e){return new j0({type:"union",options:t,...ie(e)})}const B2=B("ZodDiscriminatedUnion",(t,e)=>{j0.init(t,e),aT.init(t,e)});function Nd(t,e,n){return new B2({type:"union",options:e,discriminator:t,...ie(n)})}const H2=B("ZodIntersection",(t,e)=>{lT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>ME(t,n,s,r)});function q2(t,e){return new H2({type:"intersection",left:t,right:e})}const Z2=B("ZodRecord",(t,e)=>{cT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>LE(t,n,s,r),t.keyType=e.keyType,t.valueType=e.valueType});function G2(t,e,n){return new Z2({type:"record",keyType:t,valueType:e,...ie(n)})}const Tu=B("ZodEnum",(t,e)=>{uT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(s,r,i)=>CE(t,s,r),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(s,r)=>{const i={};for(const o of s)if(n.has(o))i[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Tu({...e,checks:[],...ie(r),entries:i})},t.exclude=(s,r)=>{const i={...e.entries};for(const o of s)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Tu({...e,checks:[],...ie(r),entries:i})}});function In(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new Tu({type:"enum",entries:n,...ie(e)})}const W2=B("ZodLiteral",(t,e)=>{dT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>PE(t,n,s),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Gt(t,e){return new W2({type:"literal",values:Array.isArray(t)?t:[t],...ie(e)})}const K2=B("ZodTransform",(t,e)=>{hT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>DE(t,n),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new f0(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Yo(i,n.value,e));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Yo(o))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(i=>(n.value=i,n)):(n.value=r,n)}});function U0(t){return new K2({type:"transform",transform:t})}const B0=B("ZodOptional",(t,e)=>{fT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>qE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function Ep(t){return new B0({type:"optional",innerType:t})}const J2=B("ZodNullable",(t,e)=>{pT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>$E(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function Sp(t){return new J2({type:"nullable",innerType:t})}const Q2=B("ZodDefault",(t,e)=>{mT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>FE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Y2(t,e){return new Q2({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():_0(e)}})}const X2=B("ZodPrefault",(t,e)=>{gT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>jE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function eS(t,e){return new X2({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():_0(e)}})}const H0=B("ZodNonOptional",(t,e)=>{_T.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>zE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function tS(t,e){return new H0({type:"nonoptional",innerType:t,...ie(e)})}const nS=B("ZodCatch",(t,e)=>{yT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>UE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function sS(t,e){return new nS({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const rS=B("ZodPipe",(t,e)=>{bT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>BE(t,n,s,r),t.in=e.in,t.out=e.out});function Eu(t,e){return new rS({type:"pipe",in:t,out:e})}const iS=B("ZodReadonly",(t,e)=>{vT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>HE(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function oS(t){return new iS({type:"readonly",innerType:t})}const aS=B("ZodCustom",(t,e)=>{xT.init(t,e),We.init(t,e),t._zod.processJSONSchema=(n,s,r)=>RE(t,n)});function lS(t,e={}){return gE(aS,t,e)}function cS(t){return _E(t)}function uS(t,e){return Eu(U0(t),e)}const vl=t=>{if(!t||typeof t!="object")return t;if(Array.isArray(t))return t.map(s=>vl(s));const e={t:"title",s:"subtitle",d:"description",desc:"description",bg:"background",img:"image",fs:"features",tl:"timeline",st:"steps"},n={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const r=e[s]||s,i=t[s];n[r]=vl(i)}return n},as=t=>Od([t,Dd(t),F0(),z0()]).transform(e=>e==null?[]:Array.isArray(e)?e:[e]),Me=Od([Hr(),R2(),F0(),z0()]).transform(t=>t==null?"":String(t)),Vd=Hr().describe("Icon name (e.g. 'star', 'users', 'arrow-right'). Use standard Lucide/FontAwesome names."),Gi=Zt({id:Hr().optional().describe("Unique ID for the slide. Useful for navigation."),sizing:In(["viewport","container"]).optional().describe("How the slide fits the screen. Default: 'viewport'."),meta:G2(Hr(),L2()).optional().describe("Arbitrary metadata for custom behavior.")}),dS=Gi.extend({type:Gt("statement").describe("Use for high-impact titles, covers, or quotes."),title:Me.describe("Main headline. Keep it punchy (3-6 words)."),subtitle:Me.optional().describe("Supporting text or attribution."),tag:Me.optional().describe("Small eyebrow tag above the title.")}),hS=Zt({title:Me.describe("Feature name."),description:Me.describe("Short benefit description."),icon:Vd.optional().describe("Visual icon for the feature.")}),fS=Gi.extend({type:Gt("features").describe("Use for lists of benefits, stats, or grid items."),title:Me.describe("Section header."),description:Me.optional().describe("Contextual description."),features:as(hS).describe("Array of feature cards.")}),q0=Zt({date:Me.describe("Time marker (Year, Date, or 'Now')."),title:Me.describe("Event title."),description:Me.describe("Event details (1-2 sentences)."),icon:Vd.optional().describe("Optional marker icon.")}),pS=Gi.extend({type:Gt("timeline").describe("Use for history, roadmaps, or chronological steps."),title:Me.describe("Timeline header."),subtitle:Me.optional(),timeline:as(q0).describe("Ordered events.")}),Z0=Zt({step:Me.describe("Step number/label (e.g., '01', 'A')."),title:Me.describe("Action title."),description:Me.optional().describe("Action details."),icon:Vd.optional()}),mS=Gi.extend({type:Gt("steps").describe("Use for tutorials, 'how-to' guides, or process flows."),title:Me.describe("Process header."),subtitle:Me.optional(),steps:as(Z0).describe("Sequential steps.")}),gS=Gi.extend({type:Gt("half").describe("Use when you have a strong visual + explanations."),imageSide:In(["left","right"]).default("left").describe("Which side the image goes on."),image:Me.describe("URL to the image."),title:Me.describe("Headline."),tag:Me.optional(),paragraphs:as(Hr()).describe("Array of text blocks/paragraphs."),cta:Me.optional().describe("Call to Action label (button).")}),Xo=In(["none","xs","sm","md","lg","xl","2xl"]).describe("Spacing size token."),ds=In(["auto","quarter","third","half","two-thirds","three-quarters","full"]).describe("Element size in container."),_S=In(["top","center","bottom"]).describe("Vertical alignment."),yS=In(["left","center","right"]).describe("Horizontal alignment."),G0=In(["left","center","right"]).describe("Text alignment."),W0=Zt({type:Gt("title").describe("Large heading text."),text:Me.describe("The heading text."),size:In(["lg","xl","2xl","3xl"]).optional().describe("Heading size. Default: 'xl'."),align:G0.optional().describe("Text alignment. Default: 'left'.")}),K0=Zt({type:Gt("text").describe("Body paragraph text."),text:Me.describe("The paragraph text."),align:G0.optional().describe("Text alignment. Default: 'left'."),muted:_a().optional().describe("Muted/subtle appearance. Default: false.")}),J0=Zt({type:Gt("bullets").describe("Unordered bullet list."),items:as(Hr()).describe("List items.")}),Q0=Zt({type:Gt("ordered").describe("Numbered list."),items:as(Hr()).describe("List items.")}),bS=Zt({type:Gt("image").describe("Visual media element."),src:Me.describe("Image URL."),alt:Me.optional().describe("Alt text for accessibility."),fill:_a().optional().describe("Fill container edge-to-edge. Default: true."),fit:In(["cover","contain"]).optional().describe("Object-fit when fill. Default: 'cover'."),rounded:In(["none","sm","md","lg","xl","full"]).optional().describe("Border radius.")}),Y0=Zt({type:Gt("button").describe("Call-to-action button."),label:Me.describe("Button label text."),action:Me.optional().describe("Action identifier emitted on click."),variant:In(["primary","secondary","outline","ghost"]).optional().describe("Visual variant. Default: 'primary'."),fullWidth:_a().optional().describe("Full width button. Default: false.")}),X0=Zt({type:Gt("timeline").describe("Embedded timeline with events."),items:as(q0).describe("Timeline events."),compact:_a().optional().describe("Compact display mode. Default: false.")}),e_=Zt({type:Gt("stepper").describe("Embedded step-by-step process."),items:as(Z0).describe("Step items."),compact:_a().optional().describe("Compact display mode. Default: false.")}),vS=Zt({type:Gt("spacer").describe("Adds visual spacing."),size:Xo.optional().describe("Size of the space. Default: 'md'.")}),xS=Nd("type",[W0,K0,J0,Q0,Y0,X0,e_,vS]),wS=Zt({type:Gt("content").describe("Groups child elements vertically with alignment control."),elements:as(xS).describe("Child elements."),valign:_S.optional().describe("Vertical alignment. Default: 'center'."),halign:yS.optional().describe("Horizontal alignment. Default: 'left'."),gap:Xo.optional().describe("Gap between children. Default: 'md'."),padding:Xo.optional().describe("Internal padding. Default: 'lg'."),size:ds.optional().describe("Size in parent flex container.")}),TS=Nd("type",[bS.extend({size:ds.optional()}),wS,W0.extend({size:ds.optional()}),K0.extend({size:ds.optional()}),J0.extend({size:ds.optional()}),Q0.extend({size:ds.optional()}),Y0.extend({size:ds.optional()}),X0.extend({size:ds.optional()}),e_.extend({size:ds.optional()})]),ES=Gi.extend({type:Gt("flex").describe("Flow-based layout. Elements flow in order with semantic sizing."),direction:In(["horizontal","vertical"]).optional().describe("Main flow direction. Default: 'horizontal'."),gap:Xo.optional().describe("Gap between elements. Default: 'none'."),padding:Xo.optional().describe("Container padding. Default: 'none'."),elements:as(TS).describe("Flex elements in flow order.")}),SS=Nd("type",[dS,fS,pS,mS,gS,ES]),IS=Zt({title:Me.describe("Title of the entire presentation."),author:Me.optional(),date:Me.optional()}).passthrough();Zt({meta:IS.describe("Global deck settings."),slides:Dd(uS(vl,SS)).describe("Ordered array of slide definitions.")});const ya=Symbol("LuminaStore"),AS={loop:!1,navigation:!0,keyboard:!0,touch:!0,debug:!1,theme:"default",ui:{visible:!0,showProgressBar:!0,showSlideCount:!0,showControls:!0},keys:{next:["ArrowRight"," ","Enter"],prev:["ArrowLeft","Backspace"]},animation:{enabled:!0,type:"cascade",durationIn:1,durationOut:.5,stagger:.1,ease:"power3.out"}};function xi(t){if(typeof t=="string")return hw(t);if(Array.isArray(t))return t.map(xi);if(t&&typeof t=="object"){const e={};for(const n in t)e[n]=xi(t[n]);return e}return t}function t_(t,e){if(typeof t!="object"||t===null||typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(xi);const n={...t};for(const s in e)e[s]===Object(e[s])?s in t?n[s]=t_(t[s],e[s]):Object.assign(n,{[s]:xi(e[s])}):Object.assign(n,{[s]:xi(e[s])});return n}function kS(t={}){const e=ql({deck:null,currentIndex:0,options:{...AS,...t},isReady:!1,actionHistory:[]}),n=()=>!e.deck||e.deck.slides.length===0?null:e.deck.slides[e.currentIndex]||null,s=()=>e.deck?e.options.loop?!0:e.currentIndex<e.deck.slides.length-1:!1,r=()=>e.deck?e.options.loop?!0:e.currentIndex>0:!1,i=()=>!e.deck||e.deck.slides.length<=1?0:e.currentIndex/(e.deck.slides.length-1);function o(g){e.options={...e.options,...g},g.theme&&(g.theme,e.options.theme=g.theme),g.ui&&(e.options.ui={...e.options.ui,...g.ui}),g.keys&&(e.options.keys={...e.options.keys,...g.keys}),g.animation&&(e.options.animation={...e.options.animation,...g.animation})}function l(g){if(!g||!Array.isArray(g.slides)){console.error("[LuminaStore] Invalid deck format");return}const x=vl(g);e.deck=xi(x),e.currentIndex=0,e.isReady=!0,e.actionHistory=[]}function u(g){e.deck&&(e.deck=t_(e.deck,g))}function d(g){e.actionHistory.push(g),e.actionHistory.length>50&&e.actionHistory.shift()}function h(){var b;if(!s())return;const g=((b=e.deck)==null?void 0:b.slides.length)||0;let x=e.currentIndex;e.options.loop?x=(e.currentIndex+1)%g:x++,x!==e.currentIndex&&(e.currentIndex=x)}function m(){var b;if(!r())return;const g=((b=e.deck)==null?void 0:b.slides.length)||0;let x=e.currentIndex;e.options.loop?x=(e.currentIndex-1+g)%g:x--,x!==e.currentIndex&&(e.currentIndex=x)}function f(g){e.deck&&g>=0&&g<e.deck.slides.length&&e.currentIndex!==g&&(e.currentIndex=g)}return{state:ll(e),currentSlide:n,hasNext:s,hasPrev:r,progress:i,setOptions:o,loadDeck:l,patchDeck:u,recordAction:d,next:h,prev:m,goto:f}}function CS(){const t=Gs(ya);if(!t)throw new Error("Lumina: Component must be used within a Lumina instance.");return{slide:De(()=>t.currentSlide()),index:De(()=>t.state.currentIndex),total:De(()=>{var e;return((e=t.state.deck)==null?void 0:e.slides.length)||0}),next:t.next,prev:t.prev,goto:t.goto,options:t.state.options}}function PS(){const t=Gs(ya);if(!t)return;let e=0;const n=300,s=r=>{var d,h;const{options:i}=t.state;if(!i.keyboard||!i.navigation)return;const o=Date.now();if(o-e<n)return;const l=((d=i.keys)==null?void 0:d.next)||[],u=((h=i.keys)==null?void 0:h.prev)||[];l.includes(r.key)?(t.next(),e=o):u.includes(r.key)&&(t.prev(),e=o)};fn(()=>{window.addEventListener("keydown",s)}),Un(()=>{window.removeEventListener("keydown",s)})}class RS{constructor(){Kt(this,"handlers",new Map)}on(e,n){this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(n)}off(e,n){const s=this.handlers.get(e);s&&s.delete(n)}emit(e,n){const s=this.handlers.get(e);s&&s.forEach(r=>{try{r(n)}catch(i){console.error(`[LuminaBus] Error in handler for event "${e}":`,i)}})}clear(){this.handlers.clear()}}const Fs=new RS;function fs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Sn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ri={duration:.5,overwrite:!1,delay:0},Md,Pt,Ke,On=1e8,Fe=1/On,Su=Math.PI*2,DS=Su/4,OS=0,s_=Math.sqrt,NS=Math.cos,VS=Math.sin,St=function(e){return typeof e=="string"},ot=function(e){return typeof e=="function"},ws=function(e){return typeof e=="number"},Ld=function(e){return typeof e>"u"},rs=function(e){return typeof e=="object"},an=function(e){return e!==!1},$d=function(){return typeof window<"u"},Ua=function(e){return ot(e)||St(e)},r_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},qt=Array.isArray,MS=/random\([^)]+\)/g,LS=/,\s*/g,Ip=/(?:-?\.?\d|\.)+/gi,i_=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,fi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Hc=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,o_=/[+-]=-?[.\d]+/,$S=/[^,'"\[\]\s]+/gi,zS=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,et,Wn,Iu,zd,An={},xl={},a_,l_=function(e){return(xl=Di(e,An))&&hn},Fd=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},ea=function(e,n){return!n&&console.warn(e)},c_=function(e,n){return e&&(An[e]=n)&&xl&&(xl[e]=n)||An},ta=function(){return 0},FS={suppressEvents:!0,isStart:!0,kill:!1},el={suppressEvents:!0,kill:!1},jS={suppressEvents:!0},jd={},Ws=[],Au={},u_,vn={},qc={},Ap=30,tl=[],Ud="",Bd=function(e){var n=e[0],s,r;if(rs(n)||ot(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(r=tl.length;r--&&!tl[r].targetTest(n););s=tl[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new N_(e[r],s)))||e.splice(r,1);return e},Lr=function(e){return e._gsap||Bd(Nn(e))[0]._gsap},d_=function(e,n,s){return(s=e[n])&&ot(s)?e[n]():Ld(s)&&e.getAttribute&&e.getAttribute(n)||s},ln=function(e,n){return(e=e.split(",")).forEach(n)||e},ct=function(e){return Math.round(e*1e5)/1e5||0},Xe=function(e){return Math.round(e*1e7)/1e7||0},wi=function(e,n){var s=n.charAt(0),r=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+r:s==="-"?e-r:s==="*"?e*r:e/r},US=function(e,n){for(var s=n.length,r=0;e.indexOf(n[r])<0&&++r<s;);return r<s},wl=function(){var e=Ws.length,n=Ws.slice(0),s,r;for(Au={},Ws.length=0,s=0;s<e;s++)r=n[s],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},Hd=function(e){return!!(e._initted||e._startAt||e.add)},h_=function(e,n,s,r){Ws.length&&!Pt&&wl(),e.render(n,s,!!(Pt&&n<0&&Hd(e))),Ws.length&&!Pt&&wl()},f_=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match($S).length<2?n:St(e)?e.trim():e},p_=function(e){return e},kn=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},BS=function(e){return function(n,s){for(var r in s)r in n||r==="duration"&&e||r==="ease"||(n[r]=s[r])}},Di=function(e,n){for(var s in n)e[s]=n[s];return e},kp=function t(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=rs(n[s])?t(e[s]||(e[s]={}),n[s]):n[s]);return e},Tl=function(e,n){var s={},r;for(r in e)r in n||(s[r]=e[r]);return s},Oo=function(e){var n=e.parent||et,s=e.keyframes?BS(qt(e.keyframes)):kn;if(an(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},HS=function(e,n){for(var s=e.length,r=s===n.length;r&&s--&&e[s]===n[s];);return s<0},m_=function(e,n,s,r,i){var o=e[r],l;if(i)for(l=n[i];o&&o[i]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[r]=n,n._prev=o,n.parent=n._dp=e,n},nc=function(e,n,s,r){s===void 0&&(s="_first"),r===void 0&&(r="_last");var i=n._prev,o=n._next;i?i._next=o:e[s]===n&&(e[s]=o),o?o._prev=i:e[r]===n&&(e[r]=i),n._next=n._prev=n.parent=null},rr=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},$r=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},qS=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},ku=function(e,n,s,r){return e._startAt&&(Pt?e._startAt.revert(el):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,r))},ZS=function t(e){return!e||e._ts&&t(e.parent)},Cp=function(e){return e._repeat?Oi(e._tTime,e=e.duration()+e._rDelay)*e:0},Oi=function(e,n){var s=Math.floor(e=Xe(e/n));return e&&s===e?s-1:s},El=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},sc=function(e){return e._end=Xe(e._start+(e._tDur/Math.abs(e._ts||e._rts||Fe)||0))},rc=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=Xe(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),sc(e),s._dirty||$r(s,e)),e},g_=function(e,n){var s;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(s=El(e.rawTime(),n),(!n._dur||ba(0,n.totalDuration(),s)-n._tTime>Fe)&&n.render(s,!0)),$r(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-Fe}},Qn=function(e,n,s,r){return n.parent&&rr(n),n._start=Xe((ws(s)?s:s||e!==et?Rn(e,s,n):e._time)+n._delay),n._end=Xe(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),m_(e,n,"_first","_last",e._sort?"_start":0),Cu(n)||(e._recent=n),r||g_(e,n),e._ts<0&&rc(e,e._tTime),e},__=function(e,n){return(An.ScrollTrigger||Fd("scrollTrigger",n))&&An.ScrollTrigger.create(n,e)},y_=function(e,n,s,r,i){if(Zd(e,n,i),!e._initted)return 1;if(!s&&e._pt&&!Pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&u_!==xn.frame)return Ws.push(e),e._lazy=[i,r],1},GS=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Cu=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},WS=function(e,n,s,r){var i=e.ratio,o=n<0||!n&&(!e._start&&GS(e)&&!(!e._initted&&Cu(e))||(e._ts<0||e._dp._ts<0)&&!Cu(e))?0:1,l=e._rDelay,u=0,d,h,m;if(l&&e._repeat&&(u=ba(0,e._tDur,n),h=Oi(u,l),e._yoyo&&h&1&&(o=1-o),h!==Oi(e._tTime,l)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||Pt||r||e._zTime===Fe||!n&&e._zTime){if(!e._initted&&y_(e,n,r,s,u))return;for(m=e._zTime,e._zTime=n||(s?Fe:0),s||(s=n&&!m),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,d=e._pt;d;)d.r(o,d.d),d=d._next;n<0&&ku(e,n,s,!0),e._onUpdate&&!s&&Tn(e,"onUpdate"),u&&e._repeat&&!s&&e.parent&&Tn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&rr(e,1),!s&&!Pt&&(Tn(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},KS=function(e,n,s){var r;if(s>n)for(r=e._first;r&&r._start<=s;){if(r.data==="isPause"&&r._start>n)return r;r=r._next}else for(r=e._last;r&&r._start>=s;){if(r.data==="isPause"&&r._start<n)return r;r=r._prev}},Ni=function(e,n,s,r){var i=e._repeat,o=Xe(n)||0,l=e._tTime/e._tDur;return l&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Xe(o*(i+1)+e._rDelay*i):o,l>0&&!r&&rc(e,e._tTime=e._tDur*l),e.parent&&sc(e),s||$r(e.parent,e),e},Pp=function(e){return e instanceof tn?$r(e):Ni(e,e._dur)},JS={_start:0,endTime:ta,totalDuration:ta},Rn=function t(e,n,s){var r=e.labels,i=e._recent||JS,o=e.duration()>=On?i.endTime(!1):e._dur,l,u,d;return St(n)&&(isNaN(n)||n in r)?(u=n.charAt(0),d=n.substr(-1)==="%",l=n.indexOf("="),u==="<"||u===">"?(l>=0&&(n=n.replace(/=/,"")),(u==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(l<0?i:s).totalDuration()/100:1)):l<0?(n in r||(r[n]=o),r[n]):(u=parseFloat(n.charAt(l-1)+n.substr(l+1)),d&&s&&(u=u/100*(qt(s)?s[0]:s).totalDuration()),l>1?t(e,n.substr(0,l-1),s)+u:o+u)):n==null?o:+n},No=function(e,n,s){var r=ws(n[1]),i=(r?2:1)+(e<2?0:1),o=n[i],l,u;if(r&&(o.duration=n[1]),o.parent=s,e){for(l=o,u=s;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=an(u.vars.inherit)&&u.parent;o.immediateRender=an(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[i-1]}return new pt(n[0],o,n[i+1])},pr=function(e,n){return e||e===0?n(e):n},ba=function(e,n,s){return s<e?e:s>n?n:s},Bt=function(e,n){return!St(e)||!(n=zS.exec(e))?"":n[1]},QS=function(e,n,s){return pr(s,function(r){return ba(e,n,r)})},Pu=[].slice,b_=function(e,n){return e&&rs(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&rs(e[0]))&&!e.nodeType&&e!==Wn},YS=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(r){var i;return St(r)&&!n||b_(r,1)?(i=s).push.apply(i,Nn(r)):s.push(r)})||s},Nn=function(e,n,s){return Ke&&!n&&Ke.selector?Ke.selector(e):St(e)&&!s&&(Iu||!Vi())?Pu.call((n||zd).querySelectorAll(e),0):qt(e)?YS(e,s):b_(e)?Pu.call(e,0):e?[e]:[]},Ru=function(e){return e=Nn(e)[0]||ea("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return Nn(n,s.querySelectorAll?s:s===e?ea("Invalid scope")||zd.createElement("div"):e)}},v_=function(e){return e.sort(function(){return .5-Math.random()})},x_=function(e){if(ot(e))return e;var n=rs(e)?e:{each:e},s=zr(n.ease),r=n.from||0,i=parseFloat(n.base)||0,o={},l=r>0&&r<1,u=isNaN(r)||l,d=n.axis,h=r,m=r;return St(r)?h=m={center:.5,edges:.5,end:1}[r]||0:!l&&u&&(h=r[0],m=r[1]),function(f,g,x){var b=(x||n).length,C=o[b],O,V,M,P,D,F,S,w,v;if(!C){if(v=n.grid==="auto"?0:(n.grid||[1,On])[1],!v){for(S=-On;S<(S=x[v++].getBoundingClientRect().left)&&v<b;);v<b&&v--}for(C=o[b]=[],O=u?Math.min(v,b)*h-.5:r%v,V=v===On?0:u?b*m/v-.5:r/v|0,S=0,w=On,F=0;F<b;F++)M=F%v-O,P=V-(F/v|0),C[F]=D=d?Math.abs(d==="y"?P:M):s_(M*M+P*P),D>S&&(S=D),D<w&&(w=D);r==="random"&&v_(C),C.max=S-w,C.min=w,C.v=b=(parseFloat(n.amount)||parseFloat(n.each)*(v>b?b-1:d?d==="y"?b/v:v:Math.max(v,b/v))||0)*(r==="edges"?-1:1),C.b=b<0?i-b:i,C.u=Bt(n.amount||n.each)||0,s=s&&b<0?R_(s):s}return b=(C[f]-C.min)/C.max||0,Xe(C.b+(s?s(b):b)*C.v)+C.u}},Du=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var r=Xe(Math.round(parseFloat(s)/e)*e*n);return(r-r%1)/n+(ws(s)?0:Bt(s))}},w_=function(e,n){var s=qt(e),r,i;return!s&&rs(e)&&(r=s=e.radius||On,e.values?(e=Nn(e.values),(i=!ws(e[0]))&&(r*=r)):e=Du(e.increment)),pr(n,s?ot(e)?function(o){return i=e(o),Math.abs(i-o)<=r?i:o}:function(o){for(var l=parseFloat(i?o.x:o),u=parseFloat(i?o.y:0),d=On,h=0,m=e.length,f,g;m--;)i?(f=e[m].x-l,g=e[m].y-u,f=f*f+g*g):f=Math.abs(e[m]-l),f<d&&(d=f,h=m);return h=!r||d<=r?e[h]:o,i||h===o||ws(o)?h:h+Bt(o)}:Du(e))},T_=function(e,n,s,r){return pr(qt(e)?!n:s===!0?!!(s=0):!r,function(){return qt(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(r=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*r)/r})},XS=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(r){return n.reduce(function(i,o){return o(i)},r)}},eI=function(e,n){return function(s){return e(parseFloat(s))+(n||Bt(s))}},tI=function(e,n,s){return S_(e,n,0,1,s)},E_=function(e,n,s){return pr(s,function(r){return e[~~n(r)]})},nI=function t(e,n,s){var r=n-e;return qt(e)?E_(e,t(0,e.length),n):pr(s,function(i){return(r+(i-e)%r)%r+e})},sI=function t(e,n,s){var r=n-e,i=r*2;return qt(e)?E_(e,t(0,e.length-1),n):pr(s,function(o){return o=(i+(o-e)%i)%i||0,e+(o>r?i-o:o)})},na=function(e){return e.replace(MS,function(n){var s=n.indexOf("[")+1,r=n.substring(s||7,s?n.indexOf("]"):n.length-1).split(LS);return T_(s?r:+r[0],s?0:+r[1],+r[2]||1e-5)})},S_=function(e,n,s,r,i){var o=n-e,l=r-s;return pr(i,function(u){return s+((u-e)/o*l||0)})},rI=function t(e,n,s,r){var i=isNaN(e+n)?0:function(g){return(1-g)*e+g*n};if(!i){var o=St(e),l={},u,d,h,m,f;if(s===!0&&(r=1)&&(s=null),o)e={p:e},n={p:n};else if(qt(e)&&!qt(n)){for(h=[],m=e.length,f=m-2,d=1;d<m;d++)h.push(t(e[d-1],e[d]));m--,i=function(x){x*=m;var b=Math.min(f,~~x);return h[b](x-b)},s=n}else r||(e=Di(qt(e)?[]:{},e));if(!h){for(u in n)qd.call(l,e,u,"get",n[u]);i=function(x){return Kd(x,l)||(o?e.p:e)}}}return pr(s,i)},Rp=function(e,n,s){var r=e.labels,i=On,o,l,u;for(o in r)l=r[o]-n,l<0==!!s&&l&&i>(l=Math.abs(l))&&(u=o,i=l);return u},Tn=function(e,n,s){var r=e.vars,i=r[n],o=Ke,l=e._ctx,u,d,h;if(i)return u=r[n+"Params"],d=r.callbackScope||e,s&&Ws.length&&wl(),l&&(Ke=l),h=u?i.apply(d,u):i.call(d),Ke=o,h},xo=function(e){return rr(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Pt),e.progress()<1&&Tn(e,"onInterrupt"),e},pi,I_=[],A_=function(e){if(e)if(e=!e.name&&e.default||e,$d()||e.headless){var n=e.name,s=ot(e),r=n&&!s&&e.init?function(){this._props=[]}:e,i={init:ta,render:Kd,add:qd,kill:vI,modifier:bI,rawVars:0},o={targetTest:0,get:0,getSetter:Wd,aliases:{},register:0};if(Vi(),e!==r){if(vn[n])return;kn(r,kn(Tl(e,i),o)),Di(r.prototype,Di(i,Tl(e,o))),vn[r.prop=n]=r,e.targetTest&&(tl.push(r),jd[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}c_(n,r),e.register&&e.register(hn,r,cn)}else I_.push(e)},ze=255,wo={aqua:[0,ze,ze],lime:[0,ze,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ze],navy:[0,0,128],white:[ze,ze,ze],olive:[128,128,0],yellow:[ze,ze,0],orange:[ze,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ze,0,0],pink:[ze,192,203],cyan:[0,ze,ze],transparent:[ze,ze,ze,0]},Zc=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*ze+.5|0},k_=function(e,n,s){var r=e?ws(e)?[e>>16,e>>8&ze,e&ze]:0:wo.black,i,o,l,u,d,h,m,f,g,x;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),wo[e])r=wo[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+i+i+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&ze,r&ze,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&ze,e&ze]}else if(e.substr(0,3)==="hsl"){if(r=x=e.match(Ip),!n)u=+r[0]%360/360,d=+r[1]/100,h=+r[2]/100,o=h<=.5?h*(d+1):h+d-h*d,i=h*2-o,r.length>3&&(r[3]*=1),r[0]=Zc(u+1/3,i,o),r[1]=Zc(u,i,o),r[2]=Zc(u-1/3,i,o);else if(~e.indexOf("="))return r=e.match(i_),s&&r.length<4&&(r[3]=1),r}else r=e.match(Ip)||wo.transparent;r=r.map(Number)}return n&&!x&&(i=r[0]/ze,o=r[1]/ze,l=r[2]/ze,m=Math.max(i,o,l),f=Math.min(i,o,l),h=(m+f)/2,m===f?u=d=0:(g=m-f,d=h>.5?g/(2-m-f):g/(m+f),u=m===i?(o-l)/g+(o<l?6:0):m===o?(l-i)/g+2:(i-o)/g+4,u*=60),r[0]=~~(u+.5),r[1]=~~(d*100+.5),r[2]=~~(h*100+.5)),s&&r.length<4&&(r[3]=1),r},C_=function(e){var n=[],s=[],r=-1;return e.split(Ks).forEach(function(i){var o=i.match(fi)||[];n.push.apply(n,o),s.push(r+=o.length+1)}),n.c=s,n},Dp=function(e,n,s){var r="",i=(e+r).match(Ks),o=n?"hsla(":"rgba(",l=0,u,d,h,m;if(!i)return e;if(i=i.map(function(f){return(f=k_(f,n,1))&&o+(n?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),s&&(h=C_(e),u=s.c,u.join(r)!==h.c.join(r)))for(d=e.replace(Ks,"1").split(fi),m=d.length-1;l<m;l++)r+=d[l]+(~u.indexOf(l)?i.shift()||o+"0,0,0,0)":(h.length?h:i.length?i:s).shift());if(!d)for(d=e.split(Ks),m=d.length-1;l<m;l++)r+=d[l]+i[l];return r+d[m]},Ks=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in wo)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),iI=/hsl[a]?\(/,P_=function(e){var n=e.join(" "),s;if(Ks.lastIndex=0,Ks.test(n))return s=iI.test(n),e[1]=Dp(e[1],s),e[0]=Dp(e[0],s,C_(e[1])),!0},sa,xn=function(){var t=Date.now,e=500,n=33,s=t(),r=s,i=1e3/240,o=i,l=[],u,d,h,m,f,g,x=function b(C){var O=t()-r,V=C===!0,M,P,D,F;if((O>e||O<0)&&(s+=O-n),r+=O,D=r-s,M=D-o,(M>0||V)&&(F=++m.frame,f=D-m.time*1e3,m.time=D=D/1e3,o+=M+(M>=i?4:i-M),P=1),V||(u=d(b)),P)for(g=0;g<l.length;g++)l[g](D,f,F,C)};return m={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(C){return f/(1e3/(C||60))},wake:function(){a_&&(!Iu&&$d()&&(Wn=Iu=window,zd=Wn.document||{},An.gsap=hn,(Wn.gsapVersions||(Wn.gsapVersions=[])).push(hn.version),l_(xl||Wn.GreenSockGlobals||!Wn.gsap&&Wn||{}),I_.forEach(A_)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&m.sleep(),d=h||function(C){return setTimeout(C,o-m.time*1e3+1|0)},sa=1,x(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(u),sa=0,d=ta},lagSmoothing:function(C,O){e=C||1/0,n=Math.min(O||33,e)},fps:function(C){i=1e3/(C||240),o=m.time*1e3+i},add:function(C,O,V){var M=O?function(P,D,F,S){C(P,D,F,S),m.remove(M)}:C;return m.remove(C),l[V?"unshift":"push"](M),Vi(),M},remove:function(C,O){~(O=l.indexOf(C))&&l.splice(O,1)&&g>=O&&g--},_listeners:l},m}(),Vi=function(){return!sa&&xn.wake()},Ie={},oI=/^[\d.\-M][\d.\-,\s]/,aI=/["']/g,lI=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),r=s[0],i=1,o=s.length,l,u,d;i<o;i++)u=s[i],l=i!==o-1?u.lastIndexOf(","):u.length,d=u.substr(0,l),n[r]=isNaN(d)?d.replace(aI,"").trim():+d,r=u.substr(l+1).trim();return n},cI=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),r=e.indexOf("(",n);return e.substring(n,~r&&r<s?e.indexOf(")",s+1):s)},uI=function(e){var n=(e+"").split("("),s=Ie[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[lI(n[1])]:cI(e).split(",").map(f_)):Ie._CE&&oI.test(e)?Ie._CE("",e):s},R_=function(e){return function(n){return 1-e(1-n)}},D_=function t(e,n){for(var s=e._first,r;s;)s instanceof tn?t(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?t(s.timeline,n):(r=s._ease,s._ease=s._yEase,s._yEase=r,s._yoyo=n)),s=s._next},zr=function(e,n){return e&&(ot(e)?e:Ie[e]||uI(e))||n},Jr=function(e,n,s,r){s===void 0&&(s=function(u){return 1-n(1-u)}),r===void 0&&(r=function(u){return u<.5?n(u*2)/2:1-n((1-u)*2)/2});var i={easeIn:n,easeOut:s,easeInOut:r},o;return ln(e,function(l){Ie[l]=An[l]=i,Ie[o=l.toLowerCase()]=s;for(var u in i)Ie[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Ie[l+"."+u]=i[u]}),i},O_=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Gc=function t(e,n,s){var r=n>=1?n:1,i=(s||(e?.3:.45))/(n<1?n:1),o=i/Su*(Math.asin(1/r)||0),l=function(h){return h===1?1:r*Math.pow(2,-10*h)*VS((h-o)*i)+1},u=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:O_(l);return i=Su/i,u.config=function(d,h){return t(e,d,h)},u},Wc=function t(e,n){n===void 0&&(n=1.70158);var s=function(o){return o?--o*o*((n+1)*o+n)+1:0},r=e==="out"?s:e==="in"?function(i){return 1-s(1-i)}:O_(s);return r.config=function(i){return t(e,i)},r};ln("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Jr(t+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});Ie.Linear.easeNone=Ie.none=Ie.Linear.easeIn;Jr("Elastic",Gc("in"),Gc("out"),Gc());(function(t,e){var n=1/e,s=2*n,r=2.5*n,i=function(l){return l<n?t*l*l:l<s?t*Math.pow(l-1.5/e,2)+.75:l<r?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};Jr("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Jr("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Jr("Circ",function(t){return-(s_(1-t*t)-1)});Jr("Sine",function(t){return t===1?1:-NS(t*DS)+1});Jr("Back",Wc("in"),Wc("out"),Wc());Ie.SteppedEase=Ie.steps=An.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,r=e+(n?0:1),i=n?1:0,o=1-Fe;return function(l){return((r*ba(0,o,l)|0)+i)*s}}};Ri.ease=Ie["quad.out"];ln("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Ud+=t+","+t+"Params,"});var N_=function(e,n){this.id=OS++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:d_,this.set=n?n.getSetter:Wd},ra=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Ni(this,+n.duration,1,1),this.data=n.data,Ke&&(this._ctx=Ke,Ke.data.push(this)),sa||xn.wake()}var e=t.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,Ni(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,r){if(Vi(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(rc(this,s),!i._dp||i.parent||g_(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&Qn(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Fe||!this._initted&&this._dur&&s||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),h_(this,s,r)),this},e.time=function(s,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Cp(this))%(this._dur+this._rDelay)||(s?this._dur:0),r):this._time},e.totalProgress=function(s,r){return arguments.length?this.totalTime(this.totalDuration()*s,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(s,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Cp(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,r){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*i,r):this._repeat?Oi(this._tTime,i)+1:1},e.timeScale=function(s,r){if(!arguments.length)return this._rts===-Fe?0:this._rts;if(this._rts===s)return this;var i=this.parent&&this._ts?El(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-Fe?0:this._rts,this.totalTime(ba(-Math.abs(this._delay),this.totalDuration(),i),r!==!1),sc(this),qS(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Vi(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Fe&&(this._tTime-=Fe)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=Xe(s);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Qn(r,this,this._start-this._delay),this}return this._start},e.endTime=function(s){return this._start+(an(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var r=this.parent||this._dp;return r?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?El(r.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=jS);var r=Pt;return Pt=s,Hd(this)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),Pt=r,this},e.globalTime=function(s){for(var r=this,i=arguments.length?s:r.rawTime();r;)i=r._start+i/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(s):i},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,Pp(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var r=this._time;return this._rDelay=s,Pp(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,r){return this.totalTime(Rn(this,s),an(r))},e.restart=function(s,r){return this.play().totalTime(s?-this._delay:0,an(r)),this._dur||(this._zTime=-Fe),this},e.play=function(s,r){return s!=null&&this.seek(s,r),this.reversed(!1).paused(!1)},e.reverse=function(s,r){return s!=null&&this.seek(s||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(s,r){return s!=null&&this.seek(s,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-Fe:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Fe,this},e.isActive=function(){var s=this.parent||this._dp,r=this._start,i;return!!(!s||this._ts&&this._initted&&s.isActive()&&(i=s.rawTime(!0))>=r&&i<this.endTime(!0)-Fe)},e.eventCallback=function(s,r,i){var o=this.vars;return arguments.length>1?(r?(o[s]=r,i&&(o[s+"Params"]=i),s==="onUpdate"&&(this._onUpdate=r)):delete o[s],this):o[s]},e.then=function(s){var r=this,i=r._prom;return new Promise(function(o){var l=ot(s)?s:p_,u=function(){var h=r.then;r.then=null,i&&i(),ot(l)&&(l=l(r))&&(l.then||l===r)&&(r.then=h),o(l),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?u():r._prom=u})},e.kill=function(){xo(this)},t}();kn(ra.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Fe,_prom:0,_ps:!1,_rts:1});var tn=function(t){n_(e,t);function e(s,r){var i;return s===void 0&&(s={}),i=t.call(this,s)||this,i.labels={},i.smoothChildTiming=!!s.smoothChildTiming,i.autoRemoveChildren=!!s.autoRemoveChildren,i._sort=an(s.sortChildren),et&&Qn(s.parent||et,fs(i),r),s.reversed&&i.reverse(),s.paused&&i.paused(!0),s.scrollTrigger&&__(fs(i),s.scrollTrigger),i}var n=e.prototype;return n.to=function(r,i,o){return No(0,arguments,this),this},n.from=function(r,i,o){return No(1,arguments,this),this},n.fromTo=function(r,i,o,l){return No(2,arguments,this),this},n.set=function(r,i,o){return i.duration=0,i.parent=this,Oo(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new pt(r,i,Rn(this,o),1),this},n.call=function(r,i,o){return Qn(this,pt.delayedCall(0,r,i),o)},n.staggerTo=function(r,i,o,l,u,d,h){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=d,o.onCompleteParams=h,o.parent=this,new pt(r,o,Rn(this,u)),this},n.staggerFrom=function(r,i,o,l,u,d,h){return o.runBackwards=1,Oo(o).immediateRender=an(o.immediateRender),this.staggerTo(r,i,o,l,u,d,h)},n.staggerFromTo=function(r,i,o,l,u,d,h,m){return l.startAt=o,Oo(l).immediateRender=an(l.immediateRender),this.staggerTo(r,i,l,u,d,h,m)},n.render=function(r,i,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,d=this._dur,h=r<=0?0:Xe(r),m=this._zTime<0!=r<0&&(this._initted||!d),f,g,x,b,C,O,V,M,P,D,F,S;if(this!==et&&h>u&&r>=0&&(h=u),h!==this._tTime||o||m){if(l!==this._time&&d&&(h+=this._time-l,r+=this._time-l),f=h,P=this._start,M=this._ts,O=!M,m&&(d||(l=this._zTime),(r||!i)&&(this._zTime=r)),this._repeat){if(F=this._yoyo,C=d+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(C*100+r,i,o);if(f=Xe(h%C),h===u?(b=this._repeat,f=d):(D=Xe(h/C),b=~~D,b&&b===D&&(f=d,b--),f>d&&(f=d)),D=Oi(this._tTime,C),!l&&this._tTime&&D!==b&&this._tTime-D*C-this._dur<=0&&(D=b),F&&b&1&&(f=d-f,S=1),b!==D&&!this._lock){var w=F&&D&1,v=w===(F&&b&1);if(b<D&&(w=!w),l=w?0:h%d?d:h,this._lock=1,this.render(l||(S?0:Xe(b*C)),i,!d)._lock=0,this._tTime=h,!i&&this.parent&&Tn(this,"onRepeat"),this.vars.repeatRefresh&&!S&&(this.invalidate()._lock=1,D=b),l&&l!==this._time||O!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,u=this._tDur,v&&(this._lock=2,l=w?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!S&&this.invalidate()),this._lock=0,!this._ts&&!O)return this;D_(this,S)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(V=KS(this,Xe(l),Xe(f)),V&&(h-=f-(f=V._start))),this._tTime=h,this._time=f,this._act=!M,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,l=0),!l&&h&&d&&!i&&!D&&(Tn(this,"onStart"),this._tTime!==h))return this;if(f>=l&&r>=0)for(g=this._first;g;){if(x=g._next,(g._act||f>=g._start)&&g._ts&&V!==g){if(g.parent!==this)return this.render(r,i,o);if(g.render(g._ts>0?(f-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(f-g._start)*g._ts,i,o),f!==this._time||!this._ts&&!O){V=0,x&&(h+=this._zTime=-Fe);break}}g=x}else{g=this._last;for(var k=r<0?r:f;g;){if(x=g._prev,(g._act||k<=g._end)&&g._ts&&V!==g){if(g.parent!==this)return this.render(r,i,o);if(g.render(g._ts>0?(k-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(k-g._start)*g._ts,i,o||Pt&&Hd(g)),f!==this._time||!this._ts&&!O){V=0,x&&(h+=this._zTime=k?-Fe:Fe);break}}g=x}}if(V&&!i&&(this.pause(),V.render(f>=l?0:-Fe)._zTime=f>=l?1:-1,this._ts))return this._start=P,sc(this),this.render(r,i,o);this._onUpdate&&!i&&Tn(this,"onUpdate",!0),(h===u&&this._tTime>=this.totalDuration()||!h&&l)&&(P===this._start||Math.abs(M)!==Math.abs(this._ts))&&(this._lock||((r||!d)&&(h===u&&this._ts>0||!h&&this._ts<0)&&rr(this,1),!i&&!(r<0&&!l)&&(h||l||!u)&&(Tn(this,h===u&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(r,i){var o=this;if(ws(i)||(i=Rn(this,i,r)),!(r instanceof ra)){if(qt(r))return r.forEach(function(l){return o.add(l,i)}),this;if(St(r))return this.addLabel(r,i);if(ot(r))r=pt.delayedCall(0,r);else return this}return this!==r?Qn(this,r,i):this},n.getChildren=function(r,i,o,l){r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-On);for(var u=[],d=this._first;d;)d._start>=l&&(d instanceof pt?i&&u.push(d):(o&&u.push(d),r&&u.push.apply(u,d.getChildren(!0,i,o)))),d=d._next;return u},n.getById=function(r){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===r)return i[o]},n.remove=function(r){return St(r)?this.removeLabel(r):ot(r)?this.killTweensOf(r):(r.parent===this&&nc(this,r),r===this._recent&&(this._recent=this._last),$r(this))},n.totalTime=function(r,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Xe(xn.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),t.prototype.totalTime.call(this,r,i),this._forcing=0,this):this._tTime},n.addLabel=function(r,i){return this.labels[r]=Rn(this,i),this},n.removeLabel=function(r){return delete this.labels[r],this},n.addPause=function(r,i,o){var l=pt.delayedCall(0,i||ta,o);return l.data="isPause",this._hasPause=1,Qn(this,l,Rn(this,r))},n.removePause=function(r){var i=this._first;for(r=Rn(this,r);i;)i._start===r&&i.data==="isPause"&&rr(i),i=i._next},n.killTweensOf=function(r,i,o){for(var l=this.getTweensOf(r,o),u=l.length;u--;)js!==l[u]&&l[u].kill(r,i);return this},n.getTweensOf=function(r,i){for(var o=[],l=Nn(r),u=this._first,d=ws(i),h;u;)u instanceof pt?US(u._targets,l)&&(d?(!js||u._initted&&u._ts)&&u.globalTime(0)<=i&&u.globalTime(u.totalDuration())>i:!i||u.isActive())&&o.push(u):(h=u.getTweensOf(l,i)).length&&o.push.apply(o,h),u=u._next;return o},n.tweenTo=function(r,i){i=i||{};var o=this,l=Rn(o,r),u=i,d=u.startAt,h=u.onStart,m=u.onStartParams,f=u.immediateRender,g,x=pt.to(o,kn({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale())||Fe,onStart:function(){if(o.pause(),!g){var C=i.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale());x._dur!==C&&Ni(x,C,0,1).render(x._time,!0,!0),g=1}h&&h.apply(x,m||[])}},i));return f?x.render(0):x},n.tweenFromTo=function(r,i,o){return this.tweenTo(i,kn({startAt:{time:Rn(this,r)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(r){return r===void 0&&(r=this._time),Rp(this,Rn(this,r))},n.previousLabel=function(r){return r===void 0&&(r=this._time),Rp(this,Rn(this,r),1)},n.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Fe)},n.shiftChildren=function(r,i,o){o===void 0&&(o=0);var l=this._first,u=this.labels,d;for(r=Xe(r);l;)l._start>=o&&(l._start+=r,l._end+=r),l=l._next;if(i)for(d in u)u[d]>=o&&(u[d]+=r);return $r(this)},n.invalidate=function(r){var i=this._first;for(this._lock=0;i;)i.invalidate(r),i=i._next;return t.prototype.invalidate.call(this,r)},n.clear=function(r){r===void 0&&(r=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),$r(this)},n.totalDuration=function(r){var i=0,o=this,l=o._last,u=On,d,h,m;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(m=o.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),h=l._start,h>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,Qn(o,l,h-l._delay,1)._lock=0):u=h,h<0&&l._ts&&(i-=h,(!m&&!o._dp||m&&m.smoothChildTiming)&&(o._start+=Xe(h/o._ts),o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),u=0),l._end>i&&l._ts&&(i=l._end),l=d;Ni(o,o===et&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(et._ts&&(h_(et,El(r,et)),u_=xn.frame),xn.frame>=Ap){Ap+=Sn.autoSleep||120;var i=et._first;if((!i||!i._ts)&&Sn.autoSleep&&xn._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||xn.sleep()}}},e}(ra);kn(tn.prototype,{_lock:0,_hasPause:0,_forcing:0});var dI=function(e,n,s,r,i,o,l){var u=new cn(this._pt,e,n,0,1,F_,null,i),d=0,h=0,m,f,g,x,b,C,O,V;for(u.b=s,u.e=r,s+="",r+="",(O=~r.indexOf("random("))&&(r=na(r)),o&&(V=[s,r],o(V,e,n),s=V[0],r=V[1]),f=s.match(Hc)||[];m=Hc.exec(r);)x=m[0],b=r.substring(d,m.index),g?g=(g+1)%5:b.substr(-5)==="rgba("&&(g=1),x!==f[h++]&&(C=parseFloat(f[h-1])||0,u._pt={_next:u._pt,p:b||h===1?b:",",s:C,c:x.charAt(1)==="="?wi(C,x)-C:parseFloat(x)-C,m:g&&g<4?Math.round:0},d=Hc.lastIndex);return u.c=d<r.length?r.substring(d,r.length):"",u.fp=l,(o_.test(r)||O)&&(u.e=0),this._pt=u,u},qd=function(e,n,s,r,i,o,l,u,d,h){ot(r)&&(r=r(i||0,e,o));var m=e[n],f=s!=="get"?s:ot(m)?d?e[n.indexOf("set")||!ot(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():m,g=ot(m)?d?gI:$_:Gd,x;if(St(r)&&(~r.indexOf("random(")&&(r=na(r)),r.charAt(1)==="="&&(x=wi(f,r)+(Bt(f)||0),(x||x===0)&&(r=x))),!h||f!==r||Ou)return!isNaN(f*r)&&r!==""?(x=new cn(this._pt,e,n,+f||0,r-(f||0),typeof m=="boolean"?yI:z_,0,g),d&&(x.fp=d),l&&x.modifier(l,this,e),this._pt=x):(!m&&!(n in e)&&Fd(n,r),dI.call(this,e,n,f,r,g,u||Sn.stringFilter,d))},hI=function(e,n,s,r,i){if(ot(e)&&(e=Vo(e,i,n,s,r)),!rs(e)||e.style&&e.nodeType||qt(e)||r_(e))return St(e)?Vo(e,i,n,s,r):e;var o={},l;for(l in e)o[l]=Vo(e[l],i,n,s,r);return o},V_=function(e,n,s,r,i,o){var l,u,d,h;if(vn[e]&&(l=new vn[e]).init(i,l.rawVars?n[e]:hI(n[e],r,i,o,s),s,r,o)!==!1&&(s._pt=u=new cn(s._pt,i,e,0,1,l.render,l,0,l.priority),s!==pi))for(d=s._ptLookup[s._targets.indexOf(i)],h=l._props.length;h--;)d[l._props[h]]=u;return l},js,Ou,Zd=function t(e,n,s){var r=e.vars,i=r.ease,o=r.startAt,l=r.immediateRender,u=r.lazy,d=r.onUpdate,h=r.runBackwards,m=r.yoyoEase,f=r.keyframes,g=r.autoRevert,x=e._dur,b=e._startAt,C=e._targets,O=e.parent,V=O&&O.data==="nested"?O.vars.targets:C,M=e._overwrite==="auto"&&!Md,P=e.timeline,D,F,S,w,v,k,I,A,T,re,ve,pe,me;if(P&&(!f||!i)&&(i="none"),e._ease=zr(i,Ri.ease),e._yEase=m?R_(zr(m===!0?i:m,Ri.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!P&&!!r.runBackwards,!P||f&&!r.stagger){if(A=C[0]?Lr(C[0]).harness:0,pe=A&&r[A.prop],D=Tl(r,jd),b&&(b._zTime<0&&b.progress(1),n<0&&h&&l&&!g?b.render(-1,!0):b.revert(h&&x?el:FS),b._lazy=0),o){if(rr(e._startAt=pt.set(C,kn({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!b&&an(u),startAt:null,delay:0,onUpdate:d&&function(){return Tn(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Pt||!l&&!g)&&e._startAt.revert(el),l&&x&&n<=0&&s<=0){n&&(e._zTime=n);return}}else if(h&&x&&!b){if(n&&(l=!1),S=kn({overwrite:!1,data:"isFromStart",lazy:l&&!b&&an(u),immediateRender:l,stagger:0,parent:O},D),pe&&(S[A.prop]=pe),rr(e._startAt=pt.set(C,S)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Pt?e._startAt.revert(el):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,Fe,Fe);else if(!n)return}for(e._pt=e._ptCache=0,u=x&&an(u)||u&&!x,F=0;F<C.length;F++){if(v=C[F],I=v._gsap||Bd(C)[F]._gsap,e._ptLookup[F]=re={},Au[I.id]&&Ws.length&&wl(),ve=V===C?F:V.indexOf(v),A&&(T=new A).init(v,pe||D,e,ve,V)!==!1&&(e._pt=w=new cn(e._pt,v,T.name,0,1,T.render,T,0,T.priority),T._props.forEach(function(ye){re[ye]=w}),T.priority&&(k=1)),!A||pe)for(S in D)vn[S]&&(T=V_(S,D,e,ve,v,V))?T.priority&&(k=1):re[S]=w=qd.call(e,v,S,"get",D[S],ve,V,0,r.stringFilter);e._op&&e._op[F]&&e.kill(v,e._op[F]),M&&e._pt&&(js=e,et.killTweensOf(v,re,e.globalTime(n)),me=!e.parent,js=0),e._pt&&u&&(Au[I.id]=1)}k&&j_(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!me,f&&n<=0&&P.render(On,!0,!0)},fI=function(e,n,s,r,i,o,l,u){var d=(e._pt&&e._ptCache||(e._ptCache={}))[n],h,m,f,g;if(!d)for(d=e._ptCache[n]=[],f=e._ptLookup,g=e._targets.length;g--;){if(h=f[g][n],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==n&&h.fp!==n;)h=h._next;if(!h)return Ou=1,e.vars[n]="+=0",Zd(e,l),Ou=0,u?ea(n+" not eligible for reset"):1;d.push(h)}for(g=d.length;g--;)m=d[g],h=m._pt||m,h.s=(r||r===0)&&!i?r:h.s+(r||0)+o*h.c,h.c=s-h.s,m.e&&(m.e=ct(s)+Bt(m.e)),m.b&&(m.b=h.s+Bt(m.b))},pI=function(e,n){var s=e[0]?Lr(e[0]).harness:0,r=s&&s.aliases,i,o,l,u;if(!r)return n;i=Di({},n);for(o in r)if(o in i)for(u=r[o].split(","),l=u.length;l--;)i[u[l]]=i[o];return i},mI=function(e,n,s,r){var i=n.ease||r||"power1.inOut",o,l;if(qt(n))l=s[e]||(s[e]=[]),n.forEach(function(u,d){return l.push({t:d/(n.length-1)*100,v:u,e:i})});else for(o in n)l=s[o]||(s[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:i})},Vo=function(e,n,s,r,i){return ot(e)?e.call(n,s,r,i):St(e)&&~e.indexOf("random(")?na(e):e},M_=Ud+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",L_={};ln(M_+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return L_[t]=1});var pt=function(t){n_(e,t);function e(s,r,i,o){var l;typeof r=="number"&&(i.duration=r,r=i,i=null),l=t.call(this,o?r:Oo(r))||this;var u=l.vars,d=u.duration,h=u.delay,m=u.immediateRender,f=u.stagger,g=u.overwrite,x=u.keyframes,b=u.defaults,C=u.scrollTrigger,O=u.yoyoEase,V=r.parent||et,M=(qt(s)||r_(s)?ws(s[0]):"length"in r)?[s]:Nn(s),P,D,F,S,w,v,k,I;if(l._targets=M.length?Bd(M):ea("GSAP target "+s+" not found. https://gsap.com",!Sn.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=g,x||f||Ua(d)||Ua(h)){if(r=l.vars,P=l.timeline=new tn({data:"nested",defaults:b||{},targets:V&&V.data==="nested"?V.vars.targets:M}),P.kill(),P.parent=P._dp=fs(l),P._start=0,f||Ua(d)||Ua(h)){if(S=M.length,k=f&&x_(f),rs(f))for(w in f)~M_.indexOf(w)&&(I||(I={}),I[w]=f[w]);for(D=0;D<S;D++)F=Tl(r,L_),F.stagger=0,O&&(F.yoyoEase=O),I&&Di(F,I),v=M[D],F.duration=+Vo(d,fs(l),D,v,M),F.delay=(+Vo(h,fs(l),D,v,M)||0)-l._delay,!f&&S===1&&F.delay&&(l._delay=h=F.delay,l._start+=h,F.delay=0),P.to(v,F,k?k(D,v,M):0),P._ease=Ie.none;P.duration()?d=h=0:l.timeline=0}else if(x){Oo(kn(P.vars.defaults,{ease:"none"})),P._ease=zr(x.ease||r.ease||"none");var A=0,T,re,ve;if(qt(x))x.forEach(function(pe){return P.to(M,pe,">")}),P.duration();else{F={};for(w in x)w==="ease"||w==="easeEach"||mI(w,x[w],F,x.easeEach);for(w in F)for(T=F[w].sort(function(pe,me){return pe.t-me.t}),A=0,D=0;D<T.length;D++)re=T[D],ve={ease:re.e,duration:(re.t-(D?T[D-1].t:0))/100*d},ve[w]=re.v,P.to(M,ve,A),A+=ve.duration;P.duration()<d&&P.to({},{duration:d-P.duration()})}}d||l.duration(d=P.duration())}else l.timeline=0;return g===!0&&!Md&&(js=fs(l),et.killTweensOf(M),js=0),Qn(V,fs(l),i),r.reversed&&l.reverse(),r.paused&&l.paused(!0),(m||!d&&!x&&l._start===Xe(V._time)&&an(m)&&ZS(fs(l))&&V.data!=="nested")&&(l._tTime=-Fe,l.render(Math.max(0,-h)||0)),C&&__(fs(l),C),l}var n=e.prototype;return n.render=function(r,i,o){var l=this._time,u=this._tDur,d=this._dur,h=r<0,m=r>u-Fe&&!h?u:r<Fe?0:r,f,g,x,b,C,O,V,M,P;if(!d)WS(this,r,i,o);else if(m!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(f=m,M=this.timeline,this._repeat){if(b=d+this._rDelay,this._repeat<-1&&h)return this.totalTime(b*100+r,i,o);if(f=Xe(m%b),m===u?(x=this._repeat,f=d):(C=Xe(m/b),x=~~C,x&&x===C?(f=d,x--):f>d&&(f=d)),O=this._yoyo&&x&1,O&&(P=this._yEase,f=d-f),C=Oi(this._tTime,b),f===l&&!o&&this._initted&&x===C)return this._tTime=m,this;x!==C&&(M&&this._yEase&&D_(M,O),this.vars.repeatRefresh&&!O&&!this._lock&&f!==b&&this._initted&&(this._lock=o=1,this.render(Xe(b*x),!0).invalidate()._lock=0))}if(!this._initted){if(y_(this,h?r:f,o,i,m))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&x!==C))return this;if(d!==this._dur)return this.render(r,i,o)}if(this._tTime=m,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=V=(P||this._ease)(f/d),this._from&&(this.ratio=V=1-V),!l&&m&&!i&&!C&&(Tn(this,"onStart"),this._tTime!==m))return this;for(g=this._pt;g;)g.r(V,g.d),g=g._next;M&&M.render(r<0?r:M._dur*M._ease(f/this._dur),i,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!i&&(h&&ku(this,r,i,o),Tn(this,"onUpdate")),this._repeat&&x!==C&&this.vars.onRepeat&&!i&&this.parent&&Tn(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(h&&!this._onUpdate&&ku(this,r,!0,!0),(r||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&rr(this,1),!i&&!(h&&!l)&&(m||l||O)&&(Tn(this,m===u?"onComplete":"onReverseComplete",!0),this._prom&&!(m<u&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),t.prototype.invalidate.call(this,r)},n.resetTo=function(r,i,o,l,u){sa||xn.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||Zd(this,d),h=this._ease(d/this._dur),fI(this,r,i,o,l,h,d,u)?this.resetTo(r,i,o,l,1):(rc(this,0),this.parent||m_(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(r,i){if(i===void 0&&(i="all"),!r&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?xo(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Pt),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,i,js&&js.vars.overwrite!==!0)._first||xo(this),this.parent&&o!==this.timeline.totalDuration()&&Ni(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=r?Nn(r):l,d=this._ptLookup,h=this._pt,m,f,g,x,b,C,O;if((!i||i==="all")&&HS(l,u))return i==="all"&&(this._pt=0),xo(this);for(m=this._op=this._op||[],i!=="all"&&(St(i)&&(b={},ln(i,function(V){return b[V]=1}),i=b),i=pI(l,i)),O=l.length;O--;)if(~u.indexOf(l[O])){f=d[O],i==="all"?(m[O]=i,x=f,g={}):(g=m[O]=m[O]||{},x=i);for(b in x)C=f&&f[b],C&&((!("kill"in C.d)||C.d.kill(b)===!0)&&nc(this,C,"_pt"),delete f[b]),g!=="all"&&(g[b]=1)}return this._initted&&!this._pt&&h&&xo(this),this},e.to=function(r,i){return new e(r,i,arguments[2])},e.from=function(r,i){return No(1,arguments)},e.delayedCall=function(r,i,o,l){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(r,i,o){return No(2,arguments)},e.set=function(r,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(r,i)},e.killTweensOf=function(r,i,o){return et.killTweensOf(r,i,o)},e}(ra);kn(pt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ln("staggerTo,staggerFrom,staggerFromTo",function(t){pt[t]=function(){var e=new tn,n=Pu.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Gd=function(e,n,s){return e[n]=s},$_=function(e,n,s){return e[n](s)},gI=function(e,n,s,r){return e[n](r.fp,s)},_I=function(e,n,s){return e.setAttribute(n,s)},Wd=function(e,n){return ot(e[n])?$_:Ld(e[n])&&e.setAttribute?_I:Gd},z_=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},yI=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},F_=function(e,n){var s=n._pt,r="";if(!e&&n.b)r=n.b;else if(e===1&&n.e)r=n.e;else{for(;s;)r=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+r,s=s._next;r+=n.c}n.set(n.t,n.p,r,n)},Kd=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},bI=function(e,n,s,r){for(var i=this._pt,o;i;)o=i._next,i.p===r&&i.modifier(e,n,s),i=o},vI=function(e){for(var n=this._pt,s,r;n;)r=n._next,n.p===e&&!n.op||n.op===e?nc(this,n,"_pt"):n.dep||(s=1),n=r;return!s},xI=function(e,n,s,r){r.mSet(e,n,r.m.call(r.tween,s,r.mt),r)},j_=function(e){for(var n=e._pt,s,r,i,o;n;){for(s=n._next,r=i;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:o)?n._prev._next=n:i=n,(n._next=r)?r._prev=n:o=n,n=s}e._pt=i},cn=function(){function t(n,s,r,i,o,l,u,d,h){this.t=s,this.s=i,this.c=o,this.p=r,this.r=l||z_,this.d=u||this,this.set=d||Gd,this.pr=h||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(s,r,i){this.mSet=this.mSet||this.set,this.set=xI,this.m=s,this.mt=i,this.tween=r},t}();ln(Ud+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return jd[t]=1});An.TweenMax=An.TweenLite=pt;An.TimelineLite=An.TimelineMax=tn;et=new tn({sortChildren:!1,defaults:Ri,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Sn.stringFilter=P_;var Fr=[],nl={},wI=[],Op=0,TI=0,Kc=function(e){return(nl[e]||wI).map(function(n){return n()})},Nu=function(){var e=Date.now(),n=[];e-Op>2&&(Kc("matchMediaInit"),Fr.forEach(function(s){var r=s.queries,i=s.conditions,o,l,u,d;for(l in r)o=Wn.matchMedia(r[l]).matches,o&&(u=1),o!==i[l]&&(i[l]=o,d=1);d&&(s.revert(),u&&n.push(s))}),Kc("matchMediaRevert"),n.forEach(function(s){return s.onMatch(s,function(r){return s.add(null,r)})}),Op=e,Kc("matchMedia"))},U_=function(){function t(n,s){this.selector=s&&Ru(s),this.data=[],this._r=[],this.isReverted=!1,this.id=TI++,n&&this.add(n)}var e=t.prototype;return e.add=function(s,r,i){ot(s)&&(i=r,r=s,s=ot);var o=this,l=function(){var d=Ke,h=o.selector,m;return d&&d!==o&&d.data.push(o),i&&(o.selector=Ru(i)),Ke=o,m=r.apply(o,arguments),ot(m)&&o._r.push(m),Ke=d,o.selector=h,o.isReverted=!1,m};return o.last=l,s===ot?l(o,function(u){return o.add(null,u)}):s?o[s]=l:l},e.ignore=function(s){var r=Ke;Ke=null,s(this),Ke=r},e.getTweens=function(){var s=[];return this.data.forEach(function(r){return r instanceof t?s.push.apply(s,r.getTweens()):r instanceof pt&&!(r.parent&&r.parent.data==="nested")&&s.push(r)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,r){var i=this;if(s?function(){for(var l=i.getTweens(),u=i.data.length,d;u--;)d=i.data[u],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(h){return l.splice(l.indexOf(h),1)}));for(l.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,m){return m.g-h.g||-1/0}).forEach(function(h){return h.t.revert(s)}),u=i.data.length;u--;)d=i.data[u],d instanceof tn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof pt)&&d.revert&&d.revert(s);i._r.forEach(function(h){return h(s,i)}),i.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),r)for(var o=Fr.length;o--;)Fr[o].id===this.id&&Fr.splice(o,1)},e.revert=function(s){this.kill(s||{})},t}(),EI=function(){function t(n){this.contexts=[],this.scope=n,Ke&&Ke.data.push(this)}var e=t.prototype;return e.add=function(s,r,i){rs(s)||(s={matches:s});var o=new U_(0,i||this.scope),l=o.conditions={},u,d,h;Ke&&!o.selector&&(o.selector=Ke.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=s;for(d in s)d==="all"?h=1:(u=Wn.matchMedia(s[d]),u&&(Fr.indexOf(o)<0&&Fr.push(o),(l[d]=u.matches)&&(h=1),u.addListener?u.addListener(Nu):u.addEventListener("change",Nu)));return h&&r(o,function(m){return o.add(null,m)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(r){return r.kill(s,!0)})},t}(),Sl={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(r){return A_(r)})},timeline:function(e){return new tn(e)},getTweensOf:function(e,n){return et.getTweensOf(e,n)},getProperty:function(e,n,s,r){St(e)&&(e=Nn(e)[0]);var i=Lr(e||{}).get,o=s?p_:f_;return s==="native"&&(s=""),e&&(n?o((vn[n]&&vn[n].get||i)(e,n,s,r)):function(l,u,d){return o((vn[l]&&vn[l].get||i)(e,l,u,d))})},quickSetter:function(e,n,s){if(e=Nn(e),e.length>1){var r=e.map(function(h){return hn.quickSetter(h,n,s)}),i=r.length;return function(h){for(var m=i;m--;)r[m](h)}}e=e[0]||{};var o=vn[n],l=Lr(e),u=l.harness&&(l.harness.aliases||{})[n]||n,d=o?function(h){var m=new o;pi._pt=0,m.init(e,s?h+s:h,pi,0,[e]),m.render(1,m),pi._pt&&Kd(1,pi)}:l.set(e,u);return o?d:function(h){return d(e,u,s?h+s:h,l,1)}},quickTo:function(e,n,s){var r,i=hn.to(e,kn((r={},r[n]="+=0.1",r.paused=!0,r.stagger=0,r),s||{})),o=function(u,d,h){return i.resetTo(n,u,d,h)};return o.tween=i,o},isTweening:function(e){return et.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=zr(e.ease,Ri.ease)),kp(Ri,e||{})},config:function(e){return kp(Sn,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(l){return l&&!vn[l]&&!An[l]&&ea(n+" effect requires "+l+" plugin.")}),qc[n]=function(l,u,d){return s(Nn(l),kn(u||{},i),d)},o&&(tn.prototype[n]=function(l,u,d){return this.add(qc[n](l,rs(u)?u:(d=u)&&{},this),d)})},registerEase:function(e,n){Ie[e]=zr(n)},parseEase:function(e,n){return arguments.length?zr(e,n):Ie},getById:function(e){return et.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new tn(e),r,i;for(s.smoothChildTiming=an(e.smoothChildTiming),et.remove(s),s._dp=0,s._time=s._tTime=et._time,r=et._first;r;)i=r._next,(n||!(!r._dur&&r instanceof pt&&r.vars.onComplete===r._targets[0]))&&Qn(s,r,r._start-r._delay),r=i;return Qn(et,s,0),s},context:function(e,n){return e?new U_(e,n):Ke},matchMedia:function(e){return new EI(e)},matchMediaRefresh:function(){return Fr.forEach(function(e){var n=e.conditions,s,r;for(r in n)n[r]&&(n[r]=!1,s=1);s&&e.revert()})||Nu()},addEventListener:function(e,n){var s=nl[e]||(nl[e]=[]);~s.indexOf(n)||s.push(n)},removeEventListener:function(e,n){var s=nl[e],r=s&&s.indexOf(n);r>=0&&s.splice(r,1)},utils:{wrap:nI,wrapYoyo:sI,distribute:x_,random:T_,snap:w_,normalize:tI,getUnit:Bt,clamp:QS,splitColor:k_,toArray:Nn,selector:Ru,mapRange:S_,pipe:XS,unitize:eI,interpolate:rI,shuffle:v_},install:l_,effects:qc,ticker:xn,updateRoot:tn.updateRoot,plugins:vn,globalTimeline:et,core:{PropTween:cn,globals:c_,Tween:pt,Timeline:tn,Animation:ra,getCache:Lr,_removeLinkedListItem:nc,reverting:function(){return Pt},context:function(e){return e&&Ke&&(Ke.data.push(e),e._ctx=Ke),Ke},suppressOverwrites:function(e){return Md=e}}};ln("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Sl[t]=pt[t]});xn.add(tn.updateRoot);pi=Sl.to({},{duration:0});var SI=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},II=function(e,n){var s=e._targets,r,i,o;for(r in n)for(i=s.length;i--;)o=e._ptLookup[i][r],o&&(o=o.d)&&(o._pt&&(o=SI(o,r)),o&&o.modifier&&o.modifier(n[r],e,s[i],r))},Jc=function(e,n){return{name:e,headless:1,rawVars:1,init:function(r,i,o){o._onInit=function(l){var u,d;if(St(i)&&(u={},ln(i,function(h){return u[h]=1}),i=u),n){u={};for(d in i)u[d]=n(i[d]);i=u}II(l,i)}}}},hn=Sl.registerPlugin({name:"attr",init:function(e,n,s,r,i){var o,l,u;this.tween=s;for(o in n)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",n[o],r,i,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,n){for(var s=n._pt;s;)Pt?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",headless:1,init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s],0,0,0,0,0,1)}},Jc("roundProps",Du),Jc("modifiers"),Jc("snap",w_))||Sl;pt.version=tn.version=hn.version="3.14.2";a_=1;$d()&&Vi();Ie.Power0;Ie.Power1;Ie.Power2;Ie.Power3;Ie.Power4;Ie.Linear;Ie.Quad;Ie.Cubic;Ie.Quart;Ie.Quint;Ie.Strong;Ie.Elastic;Ie.Back;Ie.SteppedEase;Ie.Bounce;Ie.Sine;Ie.Expo;Ie.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Np,Us,Ti,Jd,Or,Vp,Qd,AI=function(){return typeof window<"u"},Ts={},Pr=180/Math.PI,Ei=Math.PI/180,ri=Math.atan2,Mp=1e8,Yd=/([A-Z])/g,kI=/(left|right|width|margin|padding|x)/i,CI=/[\s,\(]\S/,es={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Vu=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},PI=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},RI=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},DI=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},OI=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},B_=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},H_=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},NI=function(e,n,s){return e.style[n]=s},VI=function(e,n,s){return e.style.setProperty(n,s)},MI=function(e,n,s){return e._gsap[n]=s},LI=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},$I=function(e,n,s,r,i){var o=e._gsap;o.scaleX=o.scaleY=s,o.renderTransform(i,o)},zI=function(e,n,s,r,i){var o=e._gsap;o[n]=s,o.renderTransform(i,o)},nt="transform",un=nt+"Origin",FI=function t(e,n){var s=this,r=this.target,i=r.style,o=r._gsap;if(e in Ts&&i){if(this.tfm=this.tfm||{},e!=="transform")e=es[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return s.tfm[l]=ms(r,l)}):this.tfm[e]=o.x?o[e]:ms(r,e),e===un&&(this.tfm.zOrigin=o.zOrigin);else return es.transform.split(",").forEach(function(l){return t.call(s,l,n)});if(this.props.indexOf(nt)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(un,n,"")),e=nt}(i||n)&&this.props.push(e,n,i[e])},q_=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},jI=function(){var e=this.props,n=this.target,s=n.style,r=n._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?n[e[i]](e[i+2]):n[e[i]]=e[i+2]:e[i+2]?s[e[i]]=e[i+2]:s.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(Yd,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=Qd(),(!i||!i.isStart)&&!s[nt]&&(q_(s),r.zOrigin&&s[un]&&(s[un]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Z_=function(e,n){var s={target:e,props:[],revert:jI,save:FI};return e._gsap||hn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(r){return s.save(r)}),s},G_,Mu=function(e,n){var s=Us.createElementNS?Us.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Us.createElement(e);return s&&s.style?s:Us.createElement(e)},En=function t(e,n,s){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(Yd,"-$1").toLowerCase())||r.getPropertyValue(n)||!s&&t(e,Mi(n)||n,1)||""},Lp="O,Moz,ms,Ms,Webkit".split(","),Mi=function(e,n,s){var r=n||Or,i=r.style,o=5;if(e in i&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Lp[o]+e in i););return o<0?null:(o===3?"ms":o>=0?Lp[o]:"")+e},Lu=function(){AI()&&window.document&&(Np=window,Us=Np.document,Ti=Us.documentElement,Or=Mu("div")||{style:{}},Mu("div"),nt=Mi(nt),un=nt+"Origin",Or.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",G_=!!Mi("perspective"),Qd=hn.core.reverting,Jd=1)},$p=function(e){var n=e.ownerSVGElement,s=Mu("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),i;r.style.display="block",s.appendChild(r),Ti.appendChild(s);try{i=r.getBBox()}catch{}return s.removeChild(r),Ti.removeChild(s),i},zp=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},W_=function(e){var n,s;try{n=e.getBBox()}catch{n=$p(e),s=1}return n&&(n.width||n.height)||s||(n=$p(e)),n&&!n.width&&!n.x&&!n.y?{x:+zp(e,["x","cx","x1"])||0,y:+zp(e,["y","cy","y1"])||0,width:0,height:0}:n},K_=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&W_(e))},ir=function(e,n){if(n){var s=e.style,r;n in Ts&&n!==un&&(n=nt),s.removeProperty?(r=n.substr(0,2),(r==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(r==="--"?n:n.replace(Yd,"-$1").toLowerCase())):s.removeAttribute(n)}},Bs=function(e,n,s,r,i,o){var l=new cn(e._pt,n,s,0,1,o?H_:B_);return e._pt=l,l.b=r,l.e=i,e._props.push(s),l},Fp={deg:1,rad:1,turn:1},UI={grid:1,flex:1},or=function t(e,n,s,r){var i=parseFloat(s)||0,o=(s+"").trim().substr((i+"").length)||"px",l=Or.style,u=kI.test(n),d=e.tagName.toLowerCase()==="svg",h=(d?"client":"offset")+(u?"Width":"Height"),m=100,f=r==="px",g=r==="%",x,b,C,O;if(r===o||!i||Fp[r]||Fp[o])return i;if(o!=="px"&&!f&&(i=t(e,n,s,"px")),O=e.getCTM&&K_(e),(g||o==="%")&&(Ts[n]||~n.indexOf("adius")))return x=O?e.getBBox()[u?"width":"height"]:e[h],ct(g?i/x*m:i/100*x);if(l[u?"width":"height"]=m+(f?o:r),b=r!=="rem"&&~n.indexOf("adius")||r==="em"&&e.appendChild&&!d?e:e.parentNode,O&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===Us||!b.appendChild)&&(b=Us.body),C=b._gsap,C&&g&&C.width&&u&&C.time===xn.time&&!C.uncache)return ct(i/C.width*m);if(g&&(n==="height"||n==="width")){var V=e.style[n];e.style[n]=m+r,x=e[h],V?e.style[n]=V:ir(e,n)}else(g||o==="%")&&!UI[En(b,"display")]&&(l.position=En(e,"position")),b===e&&(l.position="static"),b.appendChild(Or),x=Or[h],b.removeChild(Or),l.position="absolute";return u&&g&&(C=Lr(b),C.time=xn.time,C.width=b[h]),ct(f?x*i/m:x&&i?m/x*i:0)},ms=function(e,n,s,r){var i;return Jd||Lu(),n in es&&n!=="transform"&&(n=es[n],~n.indexOf(",")&&(n=n.split(",")[0])),Ts[n]&&n!=="transform"?(i=oa(e,r),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:Al(En(e,un))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||r||~(i+"").indexOf("calc("))&&(i=Il[n]&&Il[n](e,n,s)||En(e,n)||d_(e,n)||(n==="opacity"?1:0))),s&&!~(i+"").trim().indexOf(" ")?or(e,n,i,s)+s:i},BI=function(e,n,s,r){if(!s||s==="none"){var i=Mi(n,e,1),o=i&&En(e,i,1);o&&o!==s?(n=i,s=o):n==="borderColor"&&(s=En(e,"borderTopColor"))}var l=new cn(this._pt,e.style,n,0,1,F_),u=0,d=0,h,m,f,g,x,b,C,O,V,M,P,D;if(l.b=s,l.e=r,s+="",r+="",r.substring(0,6)==="var(--"&&(r=En(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(b=e.style[n],e.style[n]=r,r=En(e,n)||r,b?e.style[n]=b:ir(e,n)),h=[s,r],P_(h),s=h[0],r=h[1],f=s.match(fi)||[],D=r.match(fi)||[],D.length){for(;m=fi.exec(r);)C=m[0],V=r.substring(u,m.index),x?x=(x+1)%5:(V.substr(-5)==="rgba("||V.substr(-5)==="hsla(")&&(x=1),C!==(b=f[d++]||"")&&(g=parseFloat(b)||0,P=b.substr((g+"").length),C.charAt(1)==="="&&(C=wi(g,C)+P),O=parseFloat(C),M=C.substr((O+"").length),u=fi.lastIndex-M.length,M||(M=M||Sn.units[n]||P,u===r.length&&(r+=M,l.e+=M)),P!==M&&(g=or(e,n,b,M)||0),l._pt={_next:l._pt,p:V||d===1?V:",",s:g,c:O-g,m:x&&x<4||n==="zIndex"?Math.round:0});l.c=u<r.length?r.substring(u,r.length):""}else l.r=n==="display"&&r==="none"?H_:B_;return o_.test(r)&&(l.e=0),this._pt=l,l},jp={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},HI=function(e){var n=e.split(" "),s=n[0],r=n[1]||"50%";return(s==="top"||s==="bottom"||r==="left"||r==="right")&&(e=s,s=r,r=e),n[0]=jp[s]||s,n[1]=jp[r]||r,n.join(" ")},qI=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,r=s.style,i=n.u,o=s._gsap,l,u,d;if(i==="all"||i===!0)r.cssText="",u=1;else for(i=i.split(","),d=i.length;--d>-1;)l=i[d],Ts[l]&&(u=1,l=l==="transformOrigin"?un:nt),ir(s,l);u&&(ir(s,nt),o&&(o.svg&&s.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",oa(s,1),o.uncache=1,q_(r)))}},Il={clearProps:function(e,n,s,r,i){if(i.data!=="isFromStart"){var o=e._pt=new cn(e._pt,n,s,0,0,qI);return o.u=r,o.pr=-10,o.tween=i,e._props.push(s),1}}},ia=[1,0,0,1,0,0],J_={},Q_=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Up=function(e){var n=En(e,nt);return Q_(n)?ia:n.substr(7).match(i_).map(ct)},Xd=function(e,n){var s=e._gsap||Lr(e),r=e.style,i=Up(e),o,l,u,d;return s.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,i=[u.a,u.b,u.c,u.d,u.e,u.f],i.join(",")==="1,0,0,1,0,0"?ia:i):(i===ia&&!e.offsetParent&&e!==Ti&&!s.svg&&(u=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,Ti.appendChild(e)),i=Up(e),u?r.display=u:ir(e,"display"),d&&(l?o.insertBefore(e,l):o?o.appendChild(e):Ti.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},$u=function(e,n,s,r,i,o){var l=e._gsap,u=i||Xd(e,!0),d=l.xOrigin||0,h=l.yOrigin||0,m=l.xOffset||0,f=l.yOffset||0,g=u[0],x=u[1],b=u[2],C=u[3],O=u[4],V=u[5],M=n.split(" "),P=parseFloat(M[0])||0,D=parseFloat(M[1])||0,F,S,w,v;s?u!==ia&&(S=g*C-x*b)&&(w=P*(C/S)+D*(-b/S)+(b*V-C*O)/S,v=P*(-x/S)+D*(g/S)-(g*V-x*O)/S,P=w,D=v):(F=W_(e),P=F.x+(~M[0].indexOf("%")?P/100*F.width:P),D=F.y+(~(M[1]||M[0]).indexOf("%")?D/100*F.height:D)),r||r!==!1&&l.smooth?(O=P-d,V=D-h,l.xOffset=m+(O*g+V*b)-O,l.yOffset=f+(O*x+V*C)-V):l.xOffset=l.yOffset=0,l.xOrigin=P,l.yOrigin=D,l.smooth=!!r,l.origin=n,l.originIsAbsolute=!!s,e.style[un]="0px 0px",o&&(Bs(o,l,"xOrigin",d,P),Bs(o,l,"yOrigin",h,D),Bs(o,l,"xOffset",m,l.xOffset),Bs(o,l,"yOffset",f,l.yOffset)),e.setAttribute("data-svg-origin",P+" "+D)},oa=function(e,n){var s=e._gsap||new N_(e);if("x"in s&&!n&&!s.uncache)return s;var r=e.style,i=s.scaleX<0,o="px",l="deg",u=getComputedStyle(e),d=En(e,un)||"0",h,m,f,g,x,b,C,O,V,M,P,D,F,S,w,v,k,I,A,T,re,ve,pe,me,ye,It,Cn,Dt,lt,ks,Ot,mn;return h=m=f=b=C=O=V=M=P=0,g=x=1,s.svg=!!(e.getCTM&&K_(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(r[nt]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[nt]!=="none"?u[nt]:"")),r.scale=r.rotate=r.translate="none"),S=Xd(e,s.svg),s.svg&&(s.uncache?(ye=e.getBBox(),d=s.xOrigin-ye.x+"px "+(s.yOrigin-ye.y)+"px",me=""):me=!n&&e.getAttribute("data-svg-origin"),$u(e,me||d,!!me||s.originIsAbsolute,s.smooth!==!1,S)),D=s.xOrigin||0,F=s.yOrigin||0,S!==ia&&(I=S[0],A=S[1],T=S[2],re=S[3],h=ve=S[4],m=pe=S[5],S.length===6?(g=Math.sqrt(I*I+A*A),x=Math.sqrt(re*re+T*T),b=I||A?ri(A,I)*Pr:0,V=T||re?ri(T,re)*Pr+b:0,V&&(x*=Math.abs(Math.cos(V*Ei))),s.svg&&(h-=D-(D*I+F*T),m-=F-(D*A+F*re))):(mn=S[6],ks=S[7],Cn=S[8],Dt=S[9],lt=S[10],Ot=S[11],h=S[12],m=S[13],f=S[14],w=ri(mn,lt),C=w*Pr,w&&(v=Math.cos(-w),k=Math.sin(-w),me=ve*v+Cn*k,ye=pe*v+Dt*k,It=mn*v+lt*k,Cn=ve*-k+Cn*v,Dt=pe*-k+Dt*v,lt=mn*-k+lt*v,Ot=ks*-k+Ot*v,ve=me,pe=ye,mn=It),w=ri(-T,lt),O=w*Pr,w&&(v=Math.cos(-w),k=Math.sin(-w),me=I*v-Cn*k,ye=A*v-Dt*k,It=T*v-lt*k,Ot=re*k+Ot*v,I=me,A=ye,T=It),w=ri(A,I),b=w*Pr,w&&(v=Math.cos(w),k=Math.sin(w),me=I*v+A*k,ye=ve*v+pe*k,A=A*v-I*k,pe=pe*v-ve*k,I=me,ve=ye),C&&Math.abs(C)+Math.abs(b)>359.9&&(C=b=0,O=180-O),g=ct(Math.sqrt(I*I+A*A+T*T)),x=ct(Math.sqrt(pe*pe+mn*mn)),w=ri(ve,pe),V=Math.abs(w)>2e-4?w*Pr:0,P=Ot?1/(Ot<0?-Ot:Ot):0),s.svg&&(me=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!Q_(En(e,nt)),me&&e.setAttribute("transform",me))),Math.abs(V)>90&&Math.abs(V)<270&&(i?(g*=-1,V+=b<=0?180:-180,b+=b<=0?180:-180):(x*=-1,V+=V<=0?180:-180)),n=n||s.uncache,s.x=h-((s.xPercent=h&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+o,s.y=m-((s.yPercent=m&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+o,s.z=f+o,s.scaleX=ct(g),s.scaleY=ct(x),s.rotation=ct(b)+l,s.rotationX=ct(C)+l,s.rotationY=ct(O)+l,s.skewX=V+l,s.skewY=M+l,s.transformPerspective=P+o,(s.zOrigin=parseFloat(d.split(" ")[2])||!n&&s.zOrigin||0)&&(r[un]=Al(d)),s.xOffset=s.yOffset=0,s.force3D=Sn.force3D,s.renderTransform=s.svg?GI:G_?Y_:ZI,s.uncache=0,s},Al=function(e){return(e=e.split(" "))[0]+" "+e[1]},Qc=function(e,n,s){var r=Bt(n);return ct(parseFloat(n)+parseFloat(or(e,"x",s+"px",r)))+r},ZI=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Y_(e,n)},Ar="0deg",_o="0px",kr=") ",Y_=function(e,n){var s=n||this,r=s.xPercent,i=s.yPercent,o=s.x,l=s.y,u=s.z,d=s.rotation,h=s.rotationY,m=s.rotationX,f=s.skewX,g=s.skewY,x=s.scaleX,b=s.scaleY,C=s.transformPerspective,O=s.force3D,V=s.target,M=s.zOrigin,P="",D=O==="auto"&&e&&e!==1||O===!0;if(M&&(m!==Ar||h!==Ar)){var F=parseFloat(h)*Ei,S=Math.sin(F),w=Math.cos(F),v;F=parseFloat(m)*Ei,v=Math.cos(F),o=Qc(V,o,S*v*-M),l=Qc(V,l,-Math.sin(F)*-M),u=Qc(V,u,w*v*-M+M)}C!==_o&&(P+="perspective("+C+kr),(r||i)&&(P+="translate("+r+"%, "+i+"%) "),(D||o!==_o||l!==_o||u!==_o)&&(P+=u!==_o||D?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+kr),d!==Ar&&(P+="rotate("+d+kr),h!==Ar&&(P+="rotateY("+h+kr),m!==Ar&&(P+="rotateX("+m+kr),(f!==Ar||g!==Ar)&&(P+="skew("+f+", "+g+kr),(x!==1||b!==1)&&(P+="scale("+x+", "+b+kr),V.style[nt]=P||"translate(0, 0)"},GI=function(e,n){var s=n||this,r=s.xPercent,i=s.yPercent,o=s.x,l=s.y,u=s.rotation,d=s.skewX,h=s.skewY,m=s.scaleX,f=s.scaleY,g=s.target,x=s.xOrigin,b=s.yOrigin,C=s.xOffset,O=s.yOffset,V=s.forceCSS,M=parseFloat(o),P=parseFloat(l),D,F,S,w,v;u=parseFloat(u),d=parseFloat(d),h=parseFloat(h),h&&(h=parseFloat(h),d+=h,u+=h),u||d?(u*=Ei,d*=Ei,D=Math.cos(u)*m,F=Math.sin(u)*m,S=Math.sin(u-d)*-f,w=Math.cos(u-d)*f,d&&(h*=Ei,v=Math.tan(d-h),v=Math.sqrt(1+v*v),S*=v,w*=v,h&&(v=Math.tan(h),v=Math.sqrt(1+v*v),D*=v,F*=v)),D=ct(D),F=ct(F),S=ct(S),w=ct(w)):(D=m,w=f,F=S=0),(M&&!~(o+"").indexOf("px")||P&&!~(l+"").indexOf("px"))&&(M=or(g,"x",o,"px"),P=or(g,"y",l,"px")),(x||b||C||O)&&(M=ct(M+x-(x*D+b*S)+C),P=ct(P+b-(x*F+b*w)+O)),(r||i)&&(v=g.getBBox(),M=ct(M+r/100*v.width),P=ct(P+i/100*v.height)),v="matrix("+D+","+F+","+S+","+w+","+M+","+P+")",g.setAttribute("transform",v),V&&(g.style[nt]=v)},WI=function(e,n,s,r,i){var o=360,l=St(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?Pr:1),d=u-r,h=r+d+"deg",m,f;return l&&(m=i.split("_")[1],m==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),m==="cw"&&d<0?d=(d+o*Mp)%o-~~(d/o)*o:m==="ccw"&&d>0&&(d=(d-o*Mp)%o-~~(d/o)*o)),e._pt=f=new cn(e._pt,n,s,r,d,PI),f.e=h,f.u="deg",e._props.push(s),f},Bp=function(e,n){for(var s in n)e[s]=n[s];return e},KI=function(e,n,s){var r=Bp({},s._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=s.style,l,u,d,h,m,f,g,x;r.svg?(d=s.getAttribute("transform"),s.setAttribute("transform",""),o[nt]=n,l=oa(s,1),ir(s,nt),s.setAttribute("transform",d)):(d=getComputedStyle(s)[nt],o[nt]=n,l=oa(s,1),o[nt]=d);for(u in Ts)d=r[u],h=l[u],d!==h&&i.indexOf(u)<0&&(g=Bt(d),x=Bt(h),m=g!==x?or(s,u,d,x):parseFloat(d),f=parseFloat(h),e._pt=new cn(e._pt,l,u,m,f-m,Vu),e._pt.u=x||0,e._props.push(u));Bp(l,r)};ln("padding,margin,Width,Radius",function(t,e){var n="Top",s="Right",r="Bottom",i="Left",o=(e<3?[n,s,r,i]:[n+i,n+s,r+s,r+i]).map(function(l){return e<2?t+l:"border"+l+t});Il[e>1?"border"+t:t]=function(l,u,d,h,m){var f,g;if(arguments.length<4)return f=o.map(function(x){return ms(l,x,d)}),g=f.join(" "),g.split(f[0]).length===5?f[0]:g;f=(h+"").split(" "),g={},o.forEach(function(x,b){return g[x]=f[b]=f[b]||f[(b-1)/2|0]}),l.init(u,g,m)}});var X_={name:"css",register:Lu,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,r,i){var o=this._props,l=e.style,u=s.vars.startAt,d,h,m,f,g,x,b,C,O,V,M,P,D,F,S,w,v;Jd||Lu(),this.styles=this.styles||Z_(e),w=this.styles.props,this.tween=s;for(b in n)if(b!=="autoRound"&&(h=n[b],!(vn[b]&&V_(b,n,s,r,e,i)))){if(g=typeof h,x=Il[b],g==="function"&&(h=h.call(s,r,e,i),g=typeof h),g==="string"&&~h.indexOf("random(")&&(h=na(h)),x)x(this,e,b,h,s)&&(S=1);else if(b.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(b)+"").trim(),h+="",Ks.lastIndex=0,Ks.test(d)||(C=Bt(d),O=Bt(h),O?C!==O&&(d=or(e,b,d,O)+O):C&&(h+=C)),this.add(l,"setProperty",d,h,r,i,0,0,b),o.push(b),w.push(b,0,l[b]);else if(g!=="undefined"){if(u&&b in u?(d=typeof u[b]=="function"?u[b].call(s,r,e,i):u[b],St(d)&&~d.indexOf("random(")&&(d=na(d)),Bt(d+"")||d==="auto"||(d+=Sn.units[b]||Bt(ms(e,b))||""),(d+"").charAt(1)==="="&&(d=ms(e,b))):d=ms(e,b),f=parseFloat(d),V=g==="string"&&h.charAt(1)==="="&&h.substr(0,2),V&&(h=h.substr(2)),m=parseFloat(h),b in es&&(b==="autoAlpha"&&(f===1&&ms(e,"visibility")==="hidden"&&m&&(f=0),w.push("visibility",0,l.visibility),Bs(this,l,"visibility",f?"inherit":"hidden",m?"inherit":"hidden",!m)),b!=="scale"&&b!=="transform"&&(b=es[b],~b.indexOf(",")&&(b=b.split(",")[0]))),M=b in Ts,M){if(this.styles.save(b),v=h,g==="string"&&h.substring(0,6)==="var(--"){if(h=En(e,h.substring(4,h.indexOf(")"))),h.substring(0,5)==="calc("){var k=e.style.perspective;e.style.perspective=h,h=En(e,"perspective"),k?e.style.perspective=k:ir(e,"perspective")}m=parseFloat(h)}if(P||(D=e._gsap,D.renderTransform&&!n.parseTransform||oa(e,n.parseTransform),F=n.smoothOrigin!==!1&&D.smooth,P=this._pt=new cn(this._pt,l,nt,0,1,D.renderTransform,D,0,-1),P.dep=1),b==="scale")this._pt=new cn(this._pt,D,"scaleY",D.scaleY,(V?wi(D.scaleY,V+m):m)-D.scaleY||0,Vu),this._pt.u=0,o.push("scaleY",b),b+="X";else if(b==="transformOrigin"){w.push(un,0,l[un]),h=HI(h),D.svg?$u(e,h,0,F,0,this):(O=parseFloat(h.split(" ")[2])||0,O!==D.zOrigin&&Bs(this,D,"zOrigin",D.zOrigin,O),Bs(this,l,b,Al(d),Al(h)));continue}else if(b==="svgOrigin"){$u(e,h,1,F,0,this);continue}else if(b in J_){WI(this,D,b,f,V?wi(f,V+h):h);continue}else if(b==="smoothOrigin"){Bs(this,D,"smooth",D.smooth,h);continue}else if(b==="force3D"){D[b]=h;continue}else if(b==="transform"){KI(this,h,e);continue}}else b in l||(b=Mi(b)||b);if(M||(m||m===0)&&(f||f===0)&&!CI.test(h)&&b in l)C=(d+"").substr((f+"").length),m||(m=0),O=Bt(h)||(b in Sn.units?Sn.units[b]:C),C!==O&&(f=or(e,b,d,O)),this._pt=new cn(this._pt,M?D:l,b,f,(V?wi(f,V+m):m)-f,!M&&(O==="px"||b==="zIndex")&&n.autoRound!==!1?OI:Vu),this._pt.u=O||0,M&&v!==h?(this._pt.b=d,this._pt.e=v,this._pt.r=DI):C!==O&&O!=="%"&&(this._pt.b=d,this._pt.r=RI);else if(b in l)BI.call(this,e,b,d,V?V+h:h);else if(b in e)this.add(e,b,d||e[b],V?V+h:h,r,i);else if(b!=="parseTransform"){Fd(b,h);continue}M||(b in l?w.push(b,0,l[b]):typeof e[b]=="function"?w.push(b,2,e[b]()):w.push(b,1,d||e[b])),o.push(b)}}S&&j_(this)},render:function(e,n){if(n.tween._time||!Qd())for(var s=n._pt;s;)s.r(e,s.d),s=s._next;else n.styles.revert()},get:ms,aliases:es,getSetter:function(e,n,s){var r=es[n];return r&&r.indexOf(",")<0&&(n=r),n in Ts&&n!==un&&(e._gsap.x||ms(e,"x"))?s&&Vp===s?n==="scale"?LI:MI:(Vp=s||{})&&(n==="scale"?$I:zI):e.style&&!Ld(e.style[n])?NI:~n.indexOf("-")?VI:Wd(e,n)},core:{_removeProperty:ir,_getMatrix:Xd}};hn.utils.checkPrefix=Mi;hn.core.getStyleSaver=Z_;(function(t,e,n,s){var r=ln(t+","+e+","+n,function(i){Ts[i]=1});ln(e,function(i){Sn.units[i]="deg",J_[i]=1}),es[r[13]]=t+","+e,ln(s,function(i){var o=i.split(":");es[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ln("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Sn.units[t]="px"});hn.registerPlugin(X_);var Gn=hn.registerPlugin(X_)||hn;Gn.core.Tween;const JI={class:"h-full w-full relative flex flex-col text-white overflow-hidden",style:{"background-color":"var(--lumina-colors-background, #030303)",color:"var(--lumina-colors-text, #ffffff)"}},QI={class:"absolute inset-0 z-0 overflow-hidden pointer-events-none"},YI={key:0,class:"absolute top-0 right-0 p-6 z-50 flex gap-4 pointer-events-auto"},XI={class:"relative h-full w-full md:w-[450px] bg-[#0a0a0a]/95 border-l border-white/10 shadow-2xl overflow-auto text-left flex flex-col transform transition-transform duration-300"},e4={class:"p-6 pb-2 border-b border-white/5 flex items-center justify-between shrink-0"},t4={class:"p-6"},n4={class:"text-[10px] font-mono text-green-400 whitespace-pre-wrap"},s4={class:"flex-1 w-full relative overflow-y-auto overflow-x-hidden z-10 scroll-smooth"},r4={key:1,class:"absolute bottom-0 left-0 w-full z-40 px-8 py-6 bg-gradient-to-t from-black via-black/80 to-transparent flex justify-between items-end pointer-events-none"},i4={key:0,class:"pointer-events-auto text-left"},o4={class:"text-[10px] font-bold text-gray-500 tracking-[0.2em] uppercase mb-1"},a4={class:"flex items-center gap-2 text-white/50 text-sm font-mono"},l4={key:0,class:"h-px w-8 bg-white/20"},c4={key:1,class:"flex-1"},u4={key:2,class:"pointer-events-auto flex gap-3"},d4=["disabled"],h4=["disabled"],f4=Ne({__name:"LuminaDeck",setup(t){const{slide:e,index:n,total:s,next:r,prev:i,options:o}=CS(),l=Gs(ya),u=De(()=>l.hasNext()),d=De(()=>l.hasPrev()),h=De(()=>{var P,D;return(D=(P=l.state.deck)==null?void 0:P.meta)==null?void 0:D.title}),m=De(()=>l.state.options.ui),f=De(()=>l.state.options.navigation);PS();const g=he({showJson:!1}),x=De(()=>o.debug),b=De(()=>!e.value||!e.value.type?null:`layout-${e.value.type}`),C=De(()=>{var P,D,F,S,w,v,k,I;return{backgroundColor:((D=(P=e.value)==null?void 0:P.meta)==null?void 0:D.orbColor)||"var(--lumina-colors-primary, #3b82f6)",width:"60vw",height:"60vw",top:((w=(S=(F=e.value)==null?void 0:F.meta)==null?void 0:S.orbPos)==null?void 0:w.top)||"-20%",left:((I=(k=(v=e.value)==null?void 0:v.meta)==null?void 0:k.orbPos)==null?void 0:I.left)||"-10%"}}),O=P=>{Fs.emit("action",P)},V=(P,D)=>{const F=P;F.style.opacity="1",D()},M=(P,D)=>{var k,I,A;const{options:F}=l.state;if(((k=F.animation)==null?void 0:k.enabled)===!1){D();return}const S=((I=F.animation)==null?void 0:I.durationOut)||.5,w=((A=F.animation)==null?void 0:A.type)||"cascade",v=Gn.timeline({onComplete:D});w==="fade"?v.to(P,{opacity:0,duration:S}):w==="zoom"?v.to(P,{opacity:0,scale:1.1,duration:S}):v.to(P,{opacity:0,y:-20,duration:S,ease:"power2.in"})};return(P,D)=>{var F,S,w,v;return L(),z("div",JI,[a("div",QI,[a("div",{class:"ambient-orb",style:Xt(C.value)},null,4),D[6]||(D[6]=a("div",{class:"absolute inset-0 opacity-[0.04]",style:{"background-image":"url('https://grainy-gradients.vercel.app/noise.svg')"}},null,-1))]),x.value?(L(),z("div",YI,[a("button",{onClick:D[0]||(D[0]=k=>g.value.showJson=!g.value.showJson),class:"w-8 h-8 rounded-full glass-panel flex items-center justify-center text-gray-400 hover:text-white transition",title:"JSON"},[...D[7]||(D[7]=[a("i",{class:"fa-solid fa-code text-xs"},null,-1)])])])):oe("",!0),we(Jo,{name:"fade"},{default:dn(()=>[g.value.showJson?(L(),z("div",{key:0,class:"fixed inset-0 z-[100] flex justify-end",onClick:D[3]||(D[3]=Yt(k=>g.value.showJson=!1,["self"]))},[a("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity",onClick:D[1]||(D[1]=k=>g.value.showJson=!1)}),a("div",XI,[a("div",e4,[D[9]||(D[9]=a("span",{class:"text-xs font-bold text-gray-400 uppercase tracking-widest"},"Slide Data",-1)),a("button",{onClick:D[2]||(D[2]=k=>g.value.showJson=!1),class:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-white/50 hover:text-white transition"},[...D[8]||(D[8]=[a("i",{class:"fa-solid fa-xmark"},null,-1)])])]),a("div",t4,[a("pre",n4,ee(JSON.stringify(Qe(e),null,2)),1)])])])):oe("",!0)]),_:1}),a("main",s4,[we(Jo,{css:!1,onLeave:M,onEnter:V,mode:"out-in"},{default:dn(()=>[b.value?(L(),dt(fl(b.value),{key:Qe(n),data:Qe(e),onAction:O,class:"min-h-full w-full"},null,40,["data"])):oe("",!0)]),_:1})]),(F=m.value)!=null&&F.visible?(L(),z("div",r4,[(S=m.value)!=null&&S.showSlideCount?(L(),z("div",i4,[a("h2",o4,ee(h.value),1),a("div",a4,[a("span",null,ee((Qe(n)+1).toString().padStart(2,"0")),1),(w=m.value)!=null&&w.showProgressBar?(L(),z("div",l4)):oe("",!0),a("span",null,ee(Qe(s).toString().padStart(2,"0")),1)])])):(L(),z("div",c4)),(v=m.value)!=null&&v.showControls?(L(),z("div",u4,[a("button",{onClick:D[4]||(D[4]=(...k)=>Qe(i)&&Qe(i)(...k)),class:ne(["w-12 h-12 rounded-full glass-panel hover:bg-white/10 flex items-center justify-center transition active:scale-95",!d.value||!f.value?"opacity-30 cursor-not-allowed":""]),disabled:!d.value||!f.value},[...D[10]||(D[10]=[a("i",{class:"fa-solid fa-arrow-left"},null,-1)])],10,d4),a("button",{onClick:D[5]||(D[5]=(...k)=>Qe(r)&&Qe(r)(...k)),class:ne(["w-12 h-12 rounded-full bg-white text-black hover:scale-105 flex items-center justify-center transition shadow-lg active:scale-95",!u.value||!f.value?"opacity-30 cursor-not-allowed":""]),disabled:!u.value||!f.value},[...D[11]||(D[11]=[a("i",{class:"fa-solid fa-arrow-right"},null,-1)])],10,h4)])):oe("",!0)])):oe("",!0)])}}}),Dn=class Dn{constructor(e){Kt(this,"channel",null);Kt(this,"handlers",new Set);Kt(this,"lastTimestamp",0);Kt(this,"heartbeatInterval",null);Kt(this,"isConnected",!1);Kt(this,"connectionHandlers",new Set);this.channelName=e,this.initChannel()}static getInstance(e,n=!1){return n?new Dn(e):(Dn.instances.has(e)||Dn.instances.set(e,new Dn(e)),Dn.instances.get(e))}static isSupported(){return typeof BroadcastChannel<"u"}initChannel(){if(!Dn.isSupported()){console.warn("[SpeakerChannel] BroadcastChannel not supported in this environment");return}try{this.channel=new BroadcastChannel(this.channelName),this.channel.onmessage=e=>{const n=e.data;if(!(n.timestamp&&n.timestamp===this.lastTimestamp)){if(n.action==="ping"){this.send({action:"pong"}),this.handlers.forEach(s=>{try{s(n)}catch(r){console.error("[SpeakerChannel] Handler error:",r)}});return}if(n.action==="pong"){this.setConnected(!0);return}if(n.action==="close"){this.setConnected(!1);return}this.handlers.forEach(s=>{try{s(n)}catch(r){console.error("[SpeakerChannel] Handler error:",r)}})}},this.channel.onmessageerror=e=>{console.error("[SpeakerChannel] Message error:",e)},this.startHeartbeat()}catch(e){console.error("[SpeakerChannel] Failed to initialize:",e)}}send(e){if(!this.channel)return;const n={...e,timestamp:Date.now(),channelId:this.channelName};this.lastTimestamp=n.timestamp,this.channel.postMessage(n)}subscribe(e){return this.handlers.add(e),()=>this.handlers.delete(e)}onConnectionChange(e){return this.connectionHandlers.add(e),e(this.isConnected),()=>this.connectionHandlers.delete(e)}get connected(){return this.isConnected}ping(){this.send({action:"ping"})}notifyClose(){this.send({action:"close"})}startHeartbeat(){this.ping(),this.heartbeatInterval=setInterval(()=>{(this.handlers.size>0||this.connectionHandlers.size>0)&&this.ping()},5e3)}setConnected(e){this.isConnected!==e&&(this.isConnected=e,this.connectionHandlers.forEach(n=>n(e)))}destroy(){this.notifyClose(),this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.channel&&(this.channel.close(),this.channel=null),this.handlers.clear(),this.connectionHandlers.clear(),Dn.instances.delete(this.channelName)}static destroyAll(){Dn.instances.forEach(e=>e.destroy()),Dn.instances.clear()}};Kt(Dn,"instances",new Map);let aa=Dn;const p4={class:"speaker-notes"},m4={class:"sn-header"},g4={class:"sn-status"},_4={class:"sn-slide-count"},y4={class:"sn-content"},b4={class:"sn-notes-section"},v4=["innerHTML"],x4={key:1,class:"sn-notes-empty"},w4={class:"sn-footer"},T4={class:"sn-nav-controls"},E4=["disabled"],S4={class:"sn-timer-value"},I4=["disabled"],A4=Ne({__name:"LuminaSpeakerNotes",props:{channelId:{}},setup(t){const e=t,n=he(0),s=he(0),r=he(""),i=he(null),o=he(!1),l=he(null),u=he(0),d=he(!1),h=he(null),m=De(()=>s.value===0?"No slides loaded":`Slide ${n.value+1} / ${s.value}`),f=De(()=>{const v=Math.floor(u.value/3600),k=Math.floor(u.value%3600/60),I=u.value%60;return v>0?`${v.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`:`${k.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`}),g=De(()=>n.value<s.value-1),x=De(()=>n.value>0);function b(v){return v?v.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(new RegExp("(?<!\\*)\\*(?!\\*)(.*?)(?<!\\*)\\*(?!\\*)","g"),"<em>$1</em>").replace(new RegExp("(?<!_)_(?!_)(.*?)(?<!_)_(?!_)","g"),"<em>$1</em>").replace(/\n/g,"<br>").replace(/^[-*]\s+(.*)$/gm,"<li>$1</li>").replace(/(<li>.*<\/li>)/gs,"<ul>$1</ul>").replace(/<\/ul>\s*<ul>/g,""):""}function C(){const v=new URLSearchParams(window.location.search),k=e.channelId||v.get("channel")||"lumina-speaker-default";l.value=aa.getInstance(k,!0),l.value.onConnectionChange(re=>{o.value=re}),l.value.subscribe(O);let I=0;const A=10,T=setInterval(()=>{var re;if(s.value>0||I>=A){clearInterval(T);return}(re=l.value)==null||re.ping(),I++},300);l.value.ping()}function O(v){switch(v.action){case"state":v.index!==void 0&&(n.value=v.index),v.totalSlides!==void 0&&(s.value=v.totalSlides),v.currentNotes!==void 0&&(r.value=v.currentNotes),v.nextSlidePreview&&(i.value=v.nextSlidePreview);break;case"goto":v.index!==void 0&&(n.value=v.index);break}}function V(){var v;g.value&&((v=l.value)==null||v.send({action:"next"}))}function M(){var v;x.value&&((v=l.value)==null||v.send({action:"prev"}))}function P(){d.value||(d.value=!0,h.value=setInterval(()=>{u.value++},1e3))}function D(){d.value=!1,h.value&&(clearInterval(h.value),h.value=null)}function F(){d.value?D():P()}function S(){D(),u.value=0}function w(v){switch(v.key){case"ArrowRight":case" ":case"Enter":v.preventDefault(),V();break;case"ArrowLeft":case"Backspace":v.preventDefault(),M();break;case"t":case"T":v.preventDefault(),F();break;case"r":case"R":if(v.ctrlKey||v.metaKey)return;v.preventDefault(),S();break}}return fn(()=>{C(),window.addEventListener("keydown",w),window.addEventListener("beforeunload",()=>{var v;(v=l.value)==null||v.notifyClose()})}),Un(()=>{var v;D(),window.removeEventListener("keydown",w),(v=l.value)==null||v.destroy()}),(v,k)=>(L(),z("div",p4,[a("header",m4,[k[0]||(k[0]=Ya('<div class="sn-title" data-v-63b98fd9><svg class="sn-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-63b98fd9><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-63b98fd9></path><path d="M2 17l10 5 10-5" data-v-63b98fd9></path><path d="M2 12l10 5 10-5" data-v-63b98fd9></path></svg><span data-v-63b98fd9>Lumina Speaker Notes</span></div>',1)),a("div",g4,[a("span",{class:ne(["sn-indicator",{connected:o.value}])},null,2),a("span",_4,ee(m.value),1)])]),a("main",y4,[a("section",b4,[k[2]||(k[2]=a("h2",{class:"sn-section-title"},"Notes",-1)),r.value?(L(),z("div",{key:0,class:"sn-notes-content",innerHTML:b(r.value)},null,8,v4)):(L(),z("div",x4,[...k[1]||(k[1]=[a("p",null,"No notes for this slide",-1)])]))])]),a("footer",w4,[a("div",T4,[a("button",{class:"sn-btn sn-btn-nav",disabled:!x.value,onClick:M,title:"Previous ( or Backspace)"},[...k[3]||(k[3]=[a("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[a("polyline",{points:"15 18 9 12 15 6"})],-1),a("span",null,"Prev",-1)])],8,E4),a("div",{class:"sn-timer",onClick:F,title:"Click to start/pause (T)"},[a("span",{class:ne(["sn-timer-icon",{running:d.value}])},ee(d.value?"":""),3),a("span",S4,ee(f.value),1),a("button",{class:"sn-timer-reset",onClick:Yt(S,["stop"]),title:"Reset timer (R)"},"")]),a("button",{class:"sn-btn sn-btn-nav sn-btn-primary",disabled:!g.value,onClick:V,title:"Next (, Space, or Enter)"},[...k[4]||(k[4]=[a("span",null,"Next",-1),a("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[a("polyline",{points:"9 18 15 12 9 6"})],-1)])],8,I4)])])]))}}),Qr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},k4=Qr(A4,[["__scopeId","data-v-63b98fd9"]]);function C4(t,e){const n=Gs(ya);let s=null;const r=()=>{if(!t.value||!n)return;s==null||s.revert();const{enabled:i,type:o,durationIn:l,stagger:u,ease:d}=n.state.options.animation||{};if(i===!1){Gn.set(t.value.querySelectorAll(".reveal-up, .reveal-zoom, .reveal-content > *, .reveal-card, .reveal-img"),{opacity:1,y:0,scale:1,visibility:"visible"});return}s=Gn.context(()=>{const h=t.value,m=o==="fade",f=o==="slide",g=o==="zoom",x=m?0:f?80:40,b=g?.8:o==="cascade"?.95:1;h.querySelector(".reveal-up")&&Gn.set(".reveal-up",{y:x,opacity:0}),h.querySelector(".reveal-zoom")&&Gn.set(".reveal-zoom",{scale:b,opacity:0}),h.querySelector(".reveal-content > *")&&Gn.set(".reveal-content > *",{y:m?0:30,opacity:0}),h.querySelector(".reveal-card")&&Gn.set(".reveal-card",{y:m?0:50,opacity:0,scale:b}),h.querySelector(".reveal-img")&&Gn.set(".reveal-img",{scale:1.1,opacity:0});const C=Gn.timeline({defaults:{ease:d||"power3.out",duration:l||.8},onComplete:e});h.querySelector(".reveal-img")&&C.to(".reveal-img",{scale:1,opacity:1,duration:(l||1)*1.2,ease:"expo.out"},0);const O=l||.8,V=u||.1;h.querySelectorAll(".reveal-card").length&&C.to(".reveal-card",{y:0,opacity:1,scale:1,duration:O,stagger:V,ease:f?"expo.out":"back.out(1.2)"},.2);const M=h.querySelectorAll(".reveal-content > *");M.length&&C.to(M,{y:0,opacity:1,duration:O,stagger:V/2},.3),h.querySelectorAll(".reveal-up").length&&C.to(".reveal-up",{y:0,opacity:1,duration:O,stagger:V},.2),h.querySelector(".reveal-zoom")&&C.to(".reveal-zoom",{scale:1,opacity:1,duration:O*1.2,ease:"expo.out"},.1)},t)};return fn(()=>{xs(()=>{r()})}),Un(()=>{s==null||s.revert()}),{animateIn:r}}const P4={class:"absolute inset-0 z-0 pointer-events-none overflow-hidden"},R4=["src","poster","autoplay","loop","muted"],D4={key:2,class:"absolute inset-0 bg-[var(--lumina-colors-background,black)]/30 pointer-events-none transition-opacity duration-1000"},O4={class:"relative z-10 w-full h-full"},mr=Ne({__name:"BaseSlide",props:{data:{},customClass:{}},setup(t){const e=t,n=he(null);C4(n);const s=De(()=>e.data.background?typeof e.data.background=="string"?"image":e.data.background.type==="video"?"video":null:null),r=De(()=>e.data.background?typeof e.data.background=="string"?e.data.background:e.data.background.src:""),i=De(()=>{if(s.value==="video")return e.data.background.poster}),o=De(()=>s.value!=="video"?void 0:e.data.background.autoplay??!0),l=De(()=>s.value!=="video"?void 0:e.data.background.loop??!0),u=De(()=>s.value!=="video"?void 0:e.data.background.muted??!0),d=De(()=>e.data.backgroundOpacity??1);return(h,m)=>(L(),z("div",{ref_key:"container",ref:n,class:ne(["w-full min-h-full relative text-white",t.customClass])},[a("div",P4,[s.value==="image"?(L(),z("div",{key:0,class:"absolute inset-0 bg-cover bg-center transition-opacity duration-1000",style:Xt({backgroundImage:`url(${r.value})`,opacity:d.value})},null,4)):s.value==="video"?(L(),z("video",{key:1,class:"absolute inset-0 w-full h-full object-cover transition-opacity duration-1000",style:Xt({opacity:d.value}),src:r.value,poster:i.value,autoplay:o.value,loop:l.value,muted:u.value,playsinline:""},null,12,R4)):oe("",!0),s.value==="video"?(L(),z("div",D4)):oe("",!0),If(h.$slots,"background")]),a("div",O4,[If(h.$slots,"default")])],2))}}),N4={class:"reveal-zoom max-w-5xl z-10"},V4={key:0,class:"inline-block px-4 py-1 rounded-full border text-sm font-medium tracking-widest uppercase mb-10",style:{color:"var(--lumina-colors-primary, #3b82f6)","border-color":"rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)"}},M4={key:1,class:"text-xl md:text-3xl font-light max-w-3xl mx-auto leading-normal",style:{color:"var(--lumina-colors-muted, #9ca3af)"}},L4=Ne({__name:"LayoutStatement",props:{data:{}},setup(t){return(e,n)=>(L(),dt(mr,{data:t.data},{default:dn(()=>[a("div",{class:ne(["flex flex-col justify-center items-center text-center p-8 relative",t.data.sizing==="container"?"h-full":"min-h-screen"])},[a("div",N4,[t.data.tag?(L(),z("span",V4,ee(t.data.tag),1)):oe("",!0),a("h1",{class:"font-bold leading-[1.1] tracking-tight mb-8 text-transparent bg-clip-text",style:Xt({fontSize:t.data.sizing==="container"?"3.5rem":"clamp(3rem, 10vw, 8rem)",fontFamily:"var(--lumina-font-heading, Inter, sans-serif)",backgroundImage:"linear-gradient(to bottom, var(--lumina-colors-text, #ffffff), var(--lumina-colors-muted, #6b7280))"})},ee(t.data.title),5),t.data.subtitle?(L(),z("p",M4,ee(t.data.subtitle),1)):oe("",!0)])],2)]),_:1},8,["data"]))}}),$4=["src","poster","autoplay","loop","muted"],z4={key:0,class:"absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black/80 via-black/40 to-transparent transition-opacity duration-300"},F4={class:"flex items-center justify-between text-white"},j4={class:"flex items-center gap-4"},U4={class:"flex items-center gap-2 group/vol"},B4={class:"text-xs font-mono opacity-70"},H4={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},q4=Ne({__name:"VideoPlayer",props:{src:{type:String,required:!0},poster:{type:String,default:""},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},objectFit:{type:String,default:"cover"}},setup(t){const e=t,n=he(null),s=he(!1),r=he(e.muted),i=he(1),o=he(0),l=he(0),u=he(0),d=he(!1),h=he(!1);let m;const f=De(()=>e.objectFit==="contain"?"object-contain":"object-cover"),g=F=>{const S=Math.floor(F/60),w=Math.floor(F%60);return`${S}:${w.toString().padStart(2,"0")}`},x=()=>{n.value&&(n.value.paused?(n.value.play(),s.value=!0,h.value=!0):(n.value.pause(),s.value=!1))},b=()=>{n.value&&(n.value.muted=!n.value.muted,r.value=n.value.muted,r.value?i.value=0:i.value=1)},C=()=>{n.value&&(l.value=n.value.currentTime,o.value=l.value/u.value*100||0)},O=()=>{n.value&&(u.value=n.value.duration,e.autoplay&&x())},V=()=>{s.value=!1,e.loop&&n.value&&(n.value.currentTime=0,x())},M=F=>{if(!n.value)return;const S=F.currentTarget,w=F.offsetX/S.clientWidth;n.value.currentTime=w*u.value,o.value=w*100},P=()=>{if(!n.value)return;const F=n.value.parentElement;!document.fullscreenElement&&F?F.requestFullscreen():document.exitFullscreen()},D=()=>{d.value=!0,clearTimeout(m),m=setTimeout(()=>{s.value&&(d.value=!1)},3e3)};return ns(i,F=>{n.value&&(n.value.volume=F,r.value=F===0,n.value.muted=F===0)}),fn(()=>{n.value&&(n.value.muted=e.muted,r.value=e.muted)}),(F,S)=>(L(),z("div",{class:"relative w-full h-full group bg-black overflow-hidden",onMousemove:D,onMouseleave:S[1]||(S[1]=w=>d.value=!1)},[a("video",{ref_key:"videoRef",ref:n,class:ne(["w-full h-full",f.value]),src:t.src,poster:t.poster,autoplay:t.autoplay,loop:t.loop,muted:t.muted,playsinline:"",onClick:x,onTimeupdate:C,onLoadedmetadata:O,onEnded:V},null,42,$4),we(Jo,{name:"fade"},{default:dn(()=>[t.controls&&d.value?(L(),z("div",z4,[a("div",{class:"w-full h-1 bg-white/20 rounded-full mb-4 cursor-pointer relative group/progress",onClick:M},[a("div",{class:"absolute top-0 left-0 h-full rounded-full transition-all duration-100",style:Xt({width:`${o.value}%`,backgroundColor:"var(--lumina-colors-primary, #3b82f6)"})},null,4),a("div",{class:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover/progress:opacity-100 transition-opacity",style:Xt({left:`${o.value}%`})},null,4)]),a("div",F4,[a("div",j4,[a("button",{onClick:x,class:"hover:text-[var(--lumina-colors-primary)] transition"},[a("i",{class:ne(["fa-solid text-xl",s.value?"fa-pause":"fa-play"])},null,2)]),a("div",U4,[a("button",{onClick:b,class:"hover:text-[var(--lumina-colors-primary)] transition w-6"},[a("i",{class:ne(["fa-solid",r.value?"fa-volume-xmark":"fa-volume-high"])},null,2)]),Hi(a("input",{type:"range",min:"0",max:"1",step:"0.1","onUpdate:modelValue":S[0]||(S[0]=w=>i.value=w),class:"w-0 overflow-hidden group-hover/vol:w-20 transition-all duration-300 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2 [&::-webkit-slider-thumb]:h-2 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full"},null,512),[[qi,i.value,void 0,{number:!0}]])]),a("span",B4,ee(g(l.value))+" / "+ee(g(u.value)),1)]),a("div",{class:"flex items-center gap-4"},[a("button",{onClick:P,class:"hover:text-[var(--lumina-colors-primary)] transition"},[...S[2]||(S[2]=[a("i",{class:"fa-solid fa-expand"},null,-1)])])])])])):oe("",!0)]),_:1}),t.controls&&!s.value&&!h.value?(L(),z("div",H4,[a("div",{class:"w-16 h-16 rounded-full bg-black/50 backdrop-blur-sm border border-white/10 flex items-center justify-center text-white pointer-events-auto cursor-pointer hover:scale-110 transition duration-300",onClick:x},[...S[3]||(S[3]=[a("i",{class:"fa-solid fa-play text-2xl ml-1"},null,-1)])])])):oe("",!0)],32))}}),eh=Qr(q4,[["__scopeId","data-v-e807d364"]]),Z4={key:0,class:"w-full h-full relative"},G4=["src"],W4={class:"reveal-content max-w-xl"},K4={class:"text-xs font-bold uppercase tracking-[0.2em] mb-6 block",style:{color:"var(--lumina-colors-primary, #3b82f6)"}},J4={class:"text-4xl lg:text-6xl font-heading font-bold leading-tight mb-8 text-white"},Q4={class:"space-y-6 text-lg leading-relaxed font-light mb-10",style:{color:"var(--lumina-colors-muted, #9ca3af)"}},Y4={key:0,class:"pt-6 border-t border-white/10"},X4=Ne({__name:"LayoutHalf",props:{data:{}},emits:["action"],setup(t){return(e,n)=>(L(),dt(mr,{data:t.data,customClass:"bg-[var(--lumina-bg)]"},{default:dn(()=>[a("div",{class:ne(["w-full flex flex-col lg:block relative",t.data.sizing==="container"?"min-h-full":"min-h-screen"])},[a("div",{class:ne(["relative h-[40vh] lg:h-full lg:w-1/2 overflow-hidden z-0",t.data.sizing==="container"?"lg:absolute lg:top-0":"lg:fixed lg:top-0",t.data.imageSide==="right"?"lg:right-0 order-1":"lg:left-0 order-1"])},[n[1]||(n[1]=a("div",{class:"absolute inset-0 bg-black/20 z-10"},null,-1)),t.data.video?(L(),z("div",Z4,[we(eh,{class:"w-full h-full",src:t.data.video.src,poster:t.data.video.poster,autoplay:t.data.video.autoplay??!0,loop:t.data.video.loop??!0,muted:t.data.video.muted??!0,controls:t.data.video.controls,"object-fit":"cover"},null,8,["src","poster","autoplay","loop","muted","controls"])])):t.data.image?(L(),z("img",{key:1,src:t.data.image,class:"w-full h-full object-cover reveal-img scale-110 origin-center",alt:"Slide Image"},null,8,G4)):oe("",!0)],2),a("div",{class:ne(["relative z-10 w-full lg:w-1/2 min-h-[60vh] flex flex-col justify-center p-8 lg:p-24 order-2 bg-[#050505]",t.data.imageSide==="right"?"lg:mr-[50%]":"lg:ml-[50%]",t.data.sizing==="container"?"lg:min-h-full":"lg:min-h-screen"])},[a("div",W4,[a("span",K4,ee(t.data.tag),1),a("h1",J4,ee(t.data.title),1),a("div",Q4,[(L(!0),z(Te,null,Ye(t.data.paragraphs,(s,r)=>(L(),z("p",{key:r},ee(s),1))),128))]),t.data.cta?(L(),z("div",Y4,[a("button",{onClick:n[0]||(n[0]=s=>e.$emit("action",{type:"cta",label:t.data.cta})),class:"px-8 py-4 bg-white text-black font-bold rounded-lg hover:bg-gray-200 transition flex items-center gap-3"},[y(ee(t.data.cta)+" ",1),n[2]||(n[2]=a("i",{class:"fa-solid fa-arrow-right"},null,-1))])])):oe("",!0)])],2)],2)]),_:1},8,["data"]))}}),eA={class:"mb-16 reveal-up text-center lg:text-left max-w-6xl"},tA=Ne({__name:"LayoutFeatures",props:{data:{}},setup(t){return(e,n)=>(L(),dt(mr,{data:t.data},{default:dn(()=>[a("div",{class:ne(["w-full flex flex-col justify-center p-8 lg:p-24",t.data.sizing==="container"?"min-h-full":"min-h-screen"])},[a("div",eA,[a("h2",{class:ne(["font-heading font-bold mb-4",t.data.sizing==="container"?"text-3xl":"text-5xl"])},ee(t.data.title),3),a("p",{class:ne([t.data.sizing==="container"?"text-sm":"text-xl"]),style:{color:"var(--lumina-colors-muted, #9ca3af)"}},ee(t.data.description),3)]),a("div",{class:ne(["grid w-full",t.data.sizing==="container"?"grid-cols-1 gap-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"])},[(L(!0),z(Te,null,Ye(t.data.features,(s,r)=>(L(),z("div",{key:r,class:ne(["glass-panel rounded-3xl hover:bg-white/5 transition duration-500 reveal-card group border-t border-white/5 hover:border-blue-500/50",t.data.sizing==="container"?"p-6":"p-8"])},[a("div",{class:ne(["rounded-xl bg-white/5 flex items-center justify-center text-xl mb-6 group-hover:scale-110 transition duration-300",t.data.sizing==="container"?"w-10 h-10 mb-4":"w-12 h-12 mb-6"]),style:{color:"var(--lumina-colors-primary, #3b82f6)"}},[a("i",{class:ne(["fa-solid",(s.icon||"star").startsWith("fa-")?s.icon:`fa-${s.icon||"star"}`])},null,2)],2),a("h3",{class:ne(["font-bold mb-3 text-white",t.data.sizing==="container"?"text-lg":"text-2xl"])},ee(s.title),3),a("p",{class:ne(["leading-relaxed",[t.data.sizing==="container"?"text-sm":""]]),style:{color:"var(--lumina-colors-muted, #9ca3af)"}},ee(s.desc),3)],2))),128))],2)],2)]),_:1},8,["data"]))}}),nA={class:"text-center mb-16 reveal-up"},sA={class:"text-5xl font-heading font-bold mb-4"},rA={key:0,class:"text-xl opacity-60"},iA={class:"relative max-w-6xl mx-auto w-full"},oA={class:"space-y-12"},aA={class:"text-sm font-bold tracking-widest uppercase text-blue-400 mb-1"},lA={class:"text-2xl font-bold"},cA={class:"text-lg opacity-60 leading-relaxed"},uA=Ne({__name:"LayoutTimeline",props:{data:{}},setup(t){return(e,n)=>(L(),dt(mr,{data:t.data},{default:dn(()=>[a("div",{class:ne(["w-full flex flex-col justify-center p-8 lg:p-24",t.data.sizing==="container"?"min-h-full py-12 lg:py-16":"min-h-screen"])},[a("div",nA,[a("h2",sA,ee(t.data.title),1),t.data.subtitle?(L(),z("p",rA,ee(t.data.subtitle),1)):oe("",!0)]),a("div",iA,[n[1]||(n[1]=a("div",{class:"absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-white/20 -translate-x-1/2 reveal-zoom origin-top"},null,-1)),a("div",oA,[(L(!0),z(Te,null,Ye(t.data.timeline,(s,r)=>(L(),z("div",{key:r,class:ne(["relative flex flex-col md:flex-row gap-8 md:gap-0 items-start md:items-center reveal-card",r%2===0?"":"md:flex-row-reverse"])},[a("div",{class:ne(["w-full md:w-1/2 pl-12 md:pl-0 flex flex-col justify-center",r%2===0?"md:pr-12 md:text-right md:items-end":"md:pl-12 md:text-left md:items-start"])},[a("span",aA,ee(s.date),1),a("h3",lA,ee(s.title||s.t),1)],2),n[0]||(n[0]=a("div",{class:"absolute left-4 md:left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-blue-500 shadow-[0_0_20px_rgba(59,130,246,0.5)] border-4 border-[#030303] z-10"},null,-1)),a("div",{class:ne(["w-full md:w-1/2 pl-12 md:pl-0",r%2===0?"md:pl-12":"md:pr-12 md:text-right"])},[a("p",cA,ee(s.description||s.desc),1)],2)],2))),128))])])],2)]),_:1},8,["data"]))}}),dA={key:0,class:"hidden lg:block absolute top-[2.5rem] left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-white/20 to-transparent reveal-zoom origin-left"},hA={class:"text-transparent bg-clip-text bg-gradient-to-br from-white to-gray-600"},fA=Ne({__name:"LayoutSteps",props:{data:{}},setup(t){return(e,n)=>(L(),dt(mr,{data:t.data},{default:dn(()=>[a("div",{class:ne(["w-full flex flex-col justify-center overflow-hidden",t.data.sizing==="container"?"min-h-full p-4":"min-h-screen p-8 lg:p-12"])},[a("div",{class:ne(["text-center reveal-up",t.data.sizing==="container"?"mb-6":"mb-20"])},[a("h2",{class:ne(["font-heading font-bold mb-2",t.data.sizing==="container"?"text-2xl":"text-5xl"])},ee(t.data.title),3),t.data.subtitle?(L(),z("p",{key:0,class:ne(["opacity-60 max-w-2xl mx-auto",t.data.sizing==="container"?"text-sm":"text-xl"])},ee(t.data.subtitle),3)):oe("",!0)],2),a("div",{class:ne(["grid gap-4 w-full mx-auto relative",t.data.sizing==="container"?"grid-cols-3 max-w-xl":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl"])},[t.data.sizing!=="container"?(L(),z("div",dA)):oe("",!0),(L(!0),z(Te,null,Ye(t.data.steps,(s,r)=>(L(),z("div",{key:r,class:ne(["relative glass-panel rounded-xl border border-white/5 reveal-card group hover:bg-white/5 transition duration-500",t.data.sizing==="container"?"p-3 text-center":"p-8 rounded-2xl"])},[a("div",{class:ne(["rounded-xl bg-[#111] border border-white/10 flex items-center justify-center font-bold relative z-10 group-hover:scale-105 transition duration-300 shadow-xl mx-auto",t.data.sizing==="container"?"w-12 h-12 text-lg mb-3":"w-20 h-20 text-2xl mb-6 lg:mx-0"])},[a("span",hA,ee(s.step),1)],2),a("h3",{class:ne(["font-bold",t.data.sizing==="container"?"text-sm mb-1":"text-xl mb-3"])},ee(s.title),3),a("p",{class:ne(["leading-relaxed opacity-60",t.data.sizing==="container"?"text-[10px]":"text-sm"])},ee(s.description),3)],2))),128))],2)],2)]),_:1},8,["data"]))}}),pA=["src","alt"],mA=Ne({__name:"LayoutFlex",props:{data:{}},emits:["action"],setup(t,{emit:e}){const n=t,s=e,r={none:"0",xs:"0.5rem",sm:"0.75rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},i={auto:"auto",quarter:"25%",third:"33.333%",half:"50%","two-thirds":"66.666%","three-quarters":"75%",full:"100%"},o={top:"flex-start",center:"center",bottom:"flex-end"},l={left:"flex-start",center:"center",right:"flex-end"},u=De(()=>({padding:r[n.data.padding||"none"]})),d=De(()=>n.data.direction==="vertical"?"flex-col":"flex-row"),h=De(()=>({gap:r[n.data.gap||"none"]})),m=I=>!I||I==="auto"?"flex-1":"",f=I=>{const A=I.size||"auto";return A==="auto"?{flex:"1 1 auto"}:{flex:`0 0 ${i[A]}`,maxWidth:n.data.direction!=="vertical"?i[A]:void 0,maxHeight:n.data.direction==="vertical"?i[A]:void 0}},g=I=>{const A=I.valign||"center",T=I.halign||"left",re=I.gap||"md",ve=I.padding||"lg",pe=I.size||"auto";return{flex:pe==="auto"?"1 1 auto":`0 0 ${i[pe]}`,justifyContent:o[A],alignItems:l[T],gap:r[re],padding:r[ve]}},x=()=>({display:"flex",alignItems:"center",padding:r.lg}),b=(I,A)=>`w-full h-full ${C(I,A)}`,C=(I,A)=>A!==!1&&!I?"":{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"}[I||"lg"]||"rounded-lg",O=I=>{s("action",I),Fs.emit("action",I)},V=Ne({props:["text","size","align"],setup(I){const A={lg:"text-3xl lg:text-4xl",xl:"text-4xl lg:text-5xl","2xl":"text-5xl lg:text-6xl","3xl":"text-6xl lg:text-7xl"}[I.size||"xl"]||"text-4xl lg:text-5xl",T={left:"text-left",center:"text-center",right:"text-right"}[I.align||"left"]||"text-left";return()=>Be("h2",{class:`font-heading font-bold leading-tight ${A} ${T} w-full`},I.text)}}),M=Ne({props:["text","align","muted"],setup(I){const A={left:"text-left",center:"text-center",right:"text-right"}[I.align||"left"]||"text-left";return()=>Be("p",{class:`text-lg lg:text-xl leading-relaxed w-full ${A} ${I.muted?"opacity-60":"opacity-80"}`},I.text)}}),P=Ne({props:["items"],setup(I){return()=>Be("ul",{class:"space-y-3 w-full"},(I.items||[]).map(A=>Be("li",{class:"flex items-start gap-3 text-lg opacity-80"},[Be("span",{class:"w-2 h-2 rounded-full bg-blue-500 mt-2 flex-shrink-0 shadow-[0_0_10px_rgba(59,130,246,0.5)]"}),Be("span",{},A)])))}}),D=Ne({props:["items"],setup(I){return()=>Be("ol",{class:"space-y-3 w-full"},(I.items||[]).map((A,T)=>Be("li",{class:"flex items-start gap-3 text-lg opacity-80"},[Be("span",{class:"w-7 h-7 rounded-lg bg-white/10 flex items-center justify-center text-sm font-bold flex-shrink-0"},T+1),Be("span",{},A)])))}}),F=Ne({props:["label","action","variant","fullWidth"],emits:["action"],setup(I,{emit:A}){const T={primary:"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl",secondary:"bg-white/10 text-white border border-white/20 hover:bg-white/20",outline:"bg-transparent text-white border-2 border-white/50 hover:border-white hover:bg-white/5",ghost:"bg-transparent text-white/70 hover:text-white hover:bg-white/5"}[I.variant||"primary"]||"bg-gradient-to-r from-blue-500 to-purple-600 text-white",re=()=>{A("action",{type:"click",label:I.label,value:I.action||I.label,origin:"flex-button"})};return()=>Be("button",{class:`px-8 py-4 rounded-full font-bold text-lg transition-all duration-300 cursor-pointer hover:scale-105 ${T} ${I.fullWidth?"w-full":""}`,onClick:re},I.label)}}),S=Ne({props:["items","compact"],setup(I){return()=>Be("div",{class:"w-full space-y-4"},(I.items||[]).map(A=>Be("div",{class:"flex gap-4 items-start border-l-2 border-blue-500/30 pl-4"},[Be("div",{class:"flex-shrink-0 w-3 h-3 rounded-full bg-blue-500 -ml-[22px] mt-1.5 shadow-[0_0_10px_rgba(59,130,246,0.5)]"}),Be("div",{},[Be("span",{class:"text-xs text-blue-400 font-bold uppercase tracking-wider"},A.date),Be("h4",{class:"font-bold text-lg"},A.title||A.t),Be("p",{class:"text-sm opacity-60"},A.description||A.desc)])])))}}),w=Ne({props:["items","compact"],setup(I){return()=>Be("div",{class:"w-full space-y-4"},(I.items||[]).map(A=>Be("div",{class:"flex gap-4 items-start p-4 rounded-lg bg-white/5 border border-white/10"},[Be("div",{class:"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center font-bold text-blue-400"},A.step),Be("div",{},[Be("h4",{class:"font-bold"},A.title||A.t),Be("p",{class:"text-sm opacity-60"},A.description||A.desc)])])))}}),v=Ne({props:["size"],setup(I){const A=r[I.size||"md"]||r.md;return()=>Be("div",{style:{height:A,width:"100%"}})}}),k=I=>({title:V,text:M,bullets:P,ordered:D,button:F,timeline:S,stepper:w,spacer:v})[I]||"div";return(I,A)=>(L(),dt(mr,{data:t.data},{default:dn(()=>[a("div",{class:"flex-layout w-full min-h-screen flex items-center justify-center",style:Xt(u.value)},[a("div",{class:ne(["flex w-full h-full max-w-7xl mx-auto",d.value]),style:Xt(h.value)},[(L(!0),z(Te,null,Ye(t.data.elements,(T,re)=>(L(),z(Te,{key:re},[T.type==="image"?(L(),z("div",{key:0,class:ne(m(T.size)),style:Xt(f(T))},[a("img",{src:T.src,alt:T.alt||"",class:ne(["w-full h-full",T.fill!==!1?"object-cover":"object-contain",C(T.rounded,T.fill)])},null,10,pA)],6)):T.type==="video"?(L(),z("div",{key:1,class:ne(m(T.size)),style:Xt(f(T))},[we(eh,{class:ne(b(T.rounded,T.fill)),src:T.src,poster:T.poster,autoplay:T.autoplay??!1,loop:T.loop??!1,muted:T.muted??!1,controls:T.controls??!0,"object-fit":T.fill!==!1?"cover":"contain"},null,8,["class","src","poster","autoplay","loop","muted","controls","object-fit"])],6)):T.type==="content"?(L(),z("div",{key:2,class:ne(["flex flex-col",m(T.size)]),style:Xt(g(T))},[(L(!0),z(Te,null,Ye(T.elements,(ve,pe)=>(L(),dt(fl(k(ve.type)),_u({key:pe,ref_for:!0},ve,{onAction:O}),null,16))),128))],6)):(L(),z("div",{key:3,class:ne(m(T.size)),style:Xt(x())},[(L(),dt(fl(k(T.type)),_u({ref_for:!0},T,{onAction:O}),null,16))],6))],64))),128))],6)],4)]),_:1},8,["data"]))}}),gA=Qr(mA,[["__scopeId","data-v-c20152e9"]]),_A=Ne({__name:"LayoutAuto",props:{data:{}},emits:["action"],setup(t,{emit:e}){const n=t,s=De(()=>{var m,f,g,x;const r=n.data||{},i=Array.isArray(r.timeline)&&r.timeline.length>0,o=Array.isArray(r.steps)&&r.steps.length>0,l=Array.isArray(r.features)&&r.features.length>0,u=!!r.image,d=!!r.chartType&&!!((m=r.data)!=null&&m.datasets);let h="layout-statement";return d?h="layout-chart":i?h="layout-timeline":o?h="layout-steps":l?h="layout-features":u?h="layout-half":(((f=r.title)==null?void 0:f.length)||0)+(((g=r.subtitle)==null?void 0:g.length)||0)+(((x=r.paragraphs)==null?void 0:x.join("").length)||0),h});return(r,i)=>(L(),dt(fl(s.value),{data:t.data,onAction:i[0]||(i[0]=o=>r.$emit("action",o))},null,40,["data"]))}}),yA=["innerHTML"],bA=Ne({__name:"LayoutCustom",props:{data:{}},setup(t){const e=t,n=`custom-slide-${Math.random().toString(36).slice(2,10)}`;function s(){if(r(),!e.data.css)return;const o=document.createElement("style");o.id=n,o.textContent=e.data.css,document.head.appendChild(o)}function r(){const o=document.getElementById(n);o&&o.remove()}fn(()=>{s()}),ns(()=>e.data.css,()=>{s()}),Un(()=>{r()});const i=De(()=>e.data.html?e.data.html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,""):"");return(o,l)=>(L(),dt(mr,{data:t.data},{default:dn(()=>[a("div",{class:ne(["custom-slide-wrapper relative w-full overflow-hidden",t.data.sizing==="container"?"h-full":"min-h-screen"])},[a("div",{class:"custom-html-content w-full h-full",innerHTML:i.value},null,8,yA)],2)]),_:1},8,["data"]))}}),vA=Qr(bA,[["__scopeId","data-v-b8b91621"]]),xA="modulepreload",wA=function(t){return"/lumina-slides/"+t},Hp={},TA=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(u=>{if(u=wA(u),u in Hp)return;Hp[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":xA,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((f,g)=>{m.addEventListener("load",f),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},EA={key:0,class:"text-center mb-8 reveal-up"},SA={key:0,class:"text-4xl lg:text-5xl font-heading font-bold mb-3"},IA={key:1,class:"text-lg lg:text-xl opacity-60"},AA={key:1,class:"flex-1 flex items-center justify-center"},kA={key:2,class:"flex-1 flex items-center justify-center"},CA={key:3,class:"flex-1 flex items-center justify-center reveal-zoom max-w-5xl mx-auto w-full"},PA={class:"w-full h-full min-h-[300px] lg:min-h-[400px] relative"},RA=Ne({__name:"LayoutChart",props:{data:{}},setup(t){let e=null;const n=he(null),s=he(!0),r=t,i=he(null);let o=null;const l=async()=>{try{const f=await TA(()=>import("./chart-CXLAvRhu.js"),[]);return e=f.Chart,e.register(...f.registerables),s.value=!1,!0}catch{return n.value="Chart.js is required for chart slides. Install it with: npm install chart.js",s.value=!1,console.warn("[Lumina] chart.js not found. Install with: npm install chart.js"),!1}},u=(f,g)=>{if(!f){const x=["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"];return x[g%x.length]}switch(f){case"c:p":return getComputedStyle(document.documentElement).getPropertyValue("--lumina-colors-primary").trim()||"#3b82f6";case"c:s":return getComputedStyle(document.documentElement).getPropertyValue("--lumina-colors-secondary").trim()||"#10b981";case"c:m":return getComputedStyle(document.documentElement).getPropertyValue("--lumina-colors-muted").trim()||"#9ca3af";default:return f&&(f.startsWith("#")||f.startsWith("rgb")||f.startsWith("hsl"))||f&&/^[a-z]+$/i.test(f)?f:u(void 0,g)}},d=(f,g)=>{var b;const x=[];for(let C=0;C<g;C++)x.push(u((b=f[0])==null?void 0:b.color,C));return x},h=De(()=>{const{chartType:f,data:g}=r.data,x=f==="pie"||f==="doughnut";return{type:f,data:{labels:g.labels,datasets:g.datasets.map((b,C)=>({label:b.label,data:b.values,backgroundColor:x?d(g.datasets,g.labels.length):u(b.color,C),borderColor:x?"rgba(0, 0, 0, 0.2)":u(b.color,C),borderWidth:2,tension:f==="line"?.4:0,fill:f==="line"?!1:void 0}))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgba(255, 255, 255, 0.7)",padding:20,font:{family:"Inter, system-ui, sans-serif",size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"rgba(255, 255, 255, 0.8)",padding:12,cornerRadius:8,titleFont:{family:"Inter, system-ui, sans-serif",weight:"bold"},bodyFont:{family:"Inter, system-ui, sans-serif"}}},scales:x?{}:{x:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"rgba(255, 255, 255, 0.6)",font:{family:"Inter, system-ui, sans-serif"}}},y:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"rgba(255, 255, 255, 0.6)",font:{family:"Inter, system-ui, sans-serif"}}}}}}}),m=()=>{if(!i.value||!e)return;o&&o.destroy();const f=i.value.getContext("2d");f&&(o=new e(f,h.value))};return fn(async()=>{await l()&&setTimeout(m,50)}),Un(()=>{o&&(o.destroy(),o=null)}),ns(()=>r.data,()=>{m()},{deep:!0}),(f,g)=>(L(),dt(mr,{data:t.data},{default:dn(()=>[a("div",{class:ne(["w-full flex flex-col justify-center p-8 lg:p-16",t.data.sizing==="container"?"min-h-full py-8":"min-h-screen"])},[t.data.title||t.data.subtitle?(L(),z("div",EA,[t.data.title?(L(),z("h2",SA,ee(t.data.title),1)):oe("",!0),t.data.subtitle?(L(),z("p",IA,ee(t.data.subtitle),1)):oe("",!0)])):oe("",!0),n.value?(L(),z("div",AA,[...g[0]||(g[0]=[a("div",{class:"text-center p-8 bg-red-500/10 border border-red-500/30 rounded-xl max-w-lg"},[a("svg",{class:"w-12 h-12 mx-auto mb-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),a("p",{class:"text-red-300 font-medium mb-2"},"Chart.js Required"),a("code",{class:"text-sm bg-black/30 px-3 py-1 rounded text-red-200"},"npm install chart.js")],-1)])])):s.value?(L(),z("div",kA,[...g[1]||(g[1]=[a("div",{class:"animate-pulse text-white/40"},"Loading chart...",-1)])])):(L(),z("div",CA,[a("div",PA,[a("canvas",{ref_key:"chartCanvas",ref:i},null,512)])]))],2)]),_:1},8,["data"]))}}),DA={class:"h-full w-full flex items-center justify-center bg-black relative overflow-hidden group"},OA={key:0,class:"absolute bottom-12 left-12 z-10 px-6 py-4 bg-black/50 backdrop-blur-md rounded-2xl border border-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},NA={class:"text-white font-bold text-xl"},VA=Ne({__name:"LayoutVideo",props:{data:{type:Object,required:!0}},setup(t){return(e,n)=>(L(),z("div",DA,[we(eh,{class:"absolute inset-0 w-full h-full",src:t.data.video.src,poster:t.data.video.poster,autoplay:t.data.video.autoplay,loop:t.data.video.loop,muted:t.data.video.muted,controls:t.data.video.controls,"object-fit":"cover"},null,8,["src","poster","autoplay","loop","muted","controls"]),t.data.title?(L(),z("div",OA,[a("h2",NA,ee(t.data.title),1)])):oe("",!0)]))}}),yo={default:{colors:{primary:"#3b82f6",background:"#030303",text:"#ffffff",muted:"#9ca3af"},fonts:{heading:"Inter, sans-serif",body:"Inter, sans-serif",mono:"monospace"}},ocean:{colors:{primary:"#06b6d4",background:"#0f172a",text:"#f0f9ff",muted:"#94a3b8"},fonts:{heading:"Outfit, sans-serif",body:"Inter, sans-serif"}},midnight:{colors:{primary:"#6366f1",background:"#000000",text:"#e0e7ff",muted:"#6b7280"}},forest:{colors:{primary:"#10b981",background:"#022c22",text:"#ecfdf5",muted:"#6ee7b7"}},cyber:{colors:{primary:"#f472b6",background:"#18181b",text:"#ffffff",muted:"#a1a1aa"},fonts:{heading:"Orbitron, sans-serif",body:"Rajdhani, sans-serif"}},latte:{colors:{primary:"#d97706",background:"#fffbeb",text:"#451a03",muted:"#92400e"},fonts:{heading:"Playfair Display, serif",body:"Lato, sans-serif"}}},qp="lumina-theme-styles";class MA{static inject(e){let n;typeof e=="string"?n=yo[e]||yo.default:(n={...yo.default,...e},e.colors&&(n.colors={...yo.default.colors,...e.colors}),e.fonts&&(n.fonts={...yo.default.fonts,...e.fonts}));let s=document.getElementById(qp);s||(s=document.createElement("style"),s.id=qp,document.head.appendChild(s));const r=this.generateVars(n);s.innerHTML=`:root { ${r} }`}static generateVars(e){const n=[];if(e.colors){for(const[s,r]of Object.entries(e.colors))if(r){n.push(`--lumina-colors-${s}: ${r};`);const i=this.hexToRgb(r);i&&n.push(`--lumina-colors-${s}-rgb: ${i.r}, ${i.g}, ${i.b};`)}}if(e.fonts)for(const[s,r]of Object.entries(e.fonts))r&&n.push(`--lumina-font-${s}: ${r};`);return n.join(" ")}static hexToRgb(e){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}}class qr{constructor(e,n={}){Kt(this,"app");Kt(this,"store");Kt(this,"speakerWindow",null);Kt(this,"speakerChannel",null);Kt(this,"speakerChannelId");Kt(this,"speakerUnsubscribe",null);this.selector=e,this.speakerChannelId=`lumina-speaker-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,this.store=kS(n),n.theme&&MA.inject(n.theme),this.app=vu(f4),this.app.provide(ya,this.store),ns(()=>this.store.state.currentIndex,(s,r)=>{var o;const i=(o=this.store.state.deck)==null?void 0:o.slides[s];i&&Fs.emit("slideChange",{index:s,previousIndex:r??0,slide:i}),this.syncSpeakerNotes()}),this.app.component("layout-statement",L4),this.app.component("layout-half",X4),this.app.component("layout-features",tA),this.app.component("layout-timeline",uA),this.app.component("layout-steps",fA),this.app.component("layout-flex",gA),this.app.component("layout-auto",_A),this.app.component("layout-custom",vA),this.app.component("layout-chart",RA),this.app.component("layout-video",VA),Fs.on("action",s=>{this.store.recordAction(s)}),this.app.mount(this.selector)}load(e){this.store.loadDeck(e),Fs.emit("ready",e),this.syncSpeakerNotes()}patch(e){this.store.patchDeck(e),this.syncSpeakerNotes()}exportState(){const{currentIndex:e,deck:n,actionHistory:s}=this.store.state,r=n==null?void 0:n.slides[e],i=s.map(l=>`User ${l.type}ed on ${l.label||l.value}`).join(" -> "),o=s.length>5?"High Engagement":"Low Engagement";return Object.freeze({status:"active",currentSlide:{index:e,id:(r==null?void 0:r.id)||e,type:r==null?void 0:r.type,title:(r&&"title"in r?r.title:null)||"(No Title)"},narrative:`User is currently on slide ${e+1}. Session Flow: ${i||"Just started"}.`,engagementLevel:o,history:[...s]})}on(e,n){Fs.on(e,n)}off(e,n){Fs.off(e,n)}destroy(){this.closeSpeakerNotes(),this.app&&(this.app.unmount(),this.app=null),Fs.clear()}get currentSlideIndex(){return this.store.state.currentIndex}goTo(e){this.store.goto(e),this.syncSpeakerNotes()}next(){this.store.next(),this.syncSpeakerNotes()}prev(){this.store.prev(),this.syncSpeakerNotes()}openSpeakerNotes(){if(this.speakerWindow&&!this.speakerWindow.closed)return this.speakerWindow.focus(),this.speakerWindow;if(!aa.isSupported())return console.error("[Lumina] BroadcastChannel not supported. Speaker notes require a modern browser."),null;const e=600,n=800,s=window.screenX+window.outerWidth,r=window.screenY;if(this.speakerWindow=window.open("about:blank",`lumina-speaker-notes-${this.speakerChannelId}`,`width=${e},height=${n},left=${s},top=${r},resizable=yes,scrollbars=yes`),!this.speakerWindow)return console.warn("[Lumina] Popup blocked. Please allow popups for speaker notes."),null;const i=this.speakerWindow;return i.document.open(),i.document.write(`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Speaker Notes - Lumina</title>
                <link rel="preconnect" href="https://fonts.googleapis.com">
                <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
                <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
            </head>
            <body>
                <div id="speaker-notes-root"></div>
            </body>
            </html>
        `),i.document.close(),setTimeout(()=>{if(i.closed)return;Array.from(document.querySelectorAll('style, link[rel="stylesheet"]')).forEach(l=>{i.document.head.appendChild(l.cloneNode(!0))});const o=i.document.getElementById("speaker-notes-root");if(o){const l=vu(k4,{channelId:this.speakerChannelId});l.mount(o),i.addEventListener("unload",()=>{l.unmount()})}},0),this.initSpeakerChannel(),this.speakerWindow}closeSpeakerNotes(){this.speakerUnsubscribe&&(this.speakerUnsubscribe(),this.speakerUnsubscribe=null),this.speakerChannel&&(this.speakerChannel.notifyClose(),this.speakerChannel.destroy(),this.speakerChannel=null),this.speakerWindow&&!this.speakerWindow.closed&&this.speakerWindow.close(),this.speakerWindow=null}get isSpeakerNotesOpen(){return this.speakerWindow!==null&&!this.speakerWindow.closed}initSpeakerChannel(){this.speakerChannel=aa.getInstance(this.speakerChannelId),this.speakerUnsubscribe=this.speakerChannel.subscribe(n=>{switch(n.action){case"next":this.store.next(),this.syncSpeakerNotes();break;case"prev":this.store.prev(),this.syncSpeakerNotes();break;case"goto":n.index!==void 0&&(this.store.goto(n.index),this.syncSpeakerNotes());break;case"ping":this.syncSpeakerNotes();break}}),this.syncSpeakerNotes();const e=setInterval(()=>{var n;(n=this.speakerWindow)!=null&&n.closed&&(clearInterval(e),this.closeSpeakerNotes())},1e3)}syncSpeakerNotes(){if(!this.speakerChannel)return;const{currentIndex:e,deck:n}=this.store.state;if(!n)return;const s=n.slides[e],r=n.slides[e+1],i=o=>{if(o&&"title"in o&&typeof o.title=="string")return o.title};this.speakerChannel.send({action:"state",index:e,totalSlides:n.slides.length,currentNotes:s==null?void 0:s.notes,nextSlidePreview:r?{title:i(r),type:r.type}:void 0})}}const LA={class:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-4 md:px-8 py-4 bg-black/50 backdrop-blur-md border-b border-white/10"},$A=["href"],zA={class:"hidden md:flex items-center gap-8"},FA=["href"],jA=["href"],UA=["href"],BA=["href"],HA=["href"],qA={class:"flex items-center gap-4"},ZA={key:0,class:"fixed inset-0 z-40 md:hidden"},GA={class:"absolute top-16 left-0 right-0 bg-[#0a0a0a] border-b border-white/10 p-6 flex flex-col gap-4"},WA=["href"],KA=["href"],JA=["href"],QA=["href"],YA=["href"],XA=Ne({__name:"SiteNavBar",props:{activePage:{}},emits:["navigate"],setup(t,{emit:e}){const n=e,s="/lumina-slides/",r=he(!1);function i(o){r.value=!1,n("navigate",o)}return(o,l)=>(L(),z(Te,null,[a("nav",LA,[a("a",{href:Qe(s),class:"text-xl font-bold tracking-tighter text-white flex items-center gap-2",onClick:l[0]||(l[0]=Yt(u=>o.$emit("navigate","home"),["prevent"]))},[...l[13]||(l[13]=[a("span",{class:"w-6 h-6 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500"},null,-1),y(" Lumina ",-1)])],8,$A),a("div",zA,[a("a",{href:Qe(s)+"?page=examples",onClick:l[1]||(l[1]=Yt(u=>o.$emit("navigate","examples"),["prevent"])),class:ne(["text-sm font-medium transition",t.activePage==="examples"?"text-white":"text-white/60 hover:text-white"])},"Examples",10,FA),a("a",{href:Qe(s)+"?page=docs",onClick:l[2]||(l[2]=Yt(u=>o.$emit("navigate","docs"),["prevent"])),class:ne(["text-sm font-medium transition",t.activePage==="docs"?"text-white":"text-white/60 hover:text-white"])},"Docs",10,jA),a("a",{href:Qe(s)+"?page=playground",onClick:l[3]||(l[3]=Yt(u=>o.$emit("navigate","playground"),["prevent"])),class:ne(["text-sm font-medium transition",t.activePage==="playground"?"text-white":"text-white/60 hover:text-white"])},"Playground",10,UA),a("a",{href:Qe(s)+"?page=prompt-builder",onClick:l[4]||(l[4]=Yt(u=>o.$emit("navigate","prompt-builder"),["prevent"])),class:ne(["text-sm font-medium transition",t.activePage==="prompt-builder"?"text-white":"text-white/60 hover:text-white"])},"Prompt Builder",10,BA),a("a",{href:Qe(s)+"?page=api",onClick:l[5]||(l[5]=Yt(u=>o.$emit("navigate","api"),["prevent"])),class:ne(["text-sm font-medium transition",t.activePage==="api"?"text-white":"text-white/60 hover:text-white"])},"API",10,HA)]),a("div",qA,[l[14]||(l[14]=a("a",{href:"https://github.com/PailletJuanPablo/lumina-slides",target:"_blank",class:"px-4 py-2 rounded-full bg-white text-black text-sm font-bold hover:bg-gray-200 transition"}," GitHub ",-1)),a("button",{onClick:l[6]||(l[6]=u=>r.value=!r.value),class:"md:hidden w-10 h-10 flex items-center justify-center rounded-lg bg-white/5 hover:bg-white/10 transition"},[a("i",{class:ne(["fa-solid text-white",r.value?"fa-xmark":"fa-bars"])},null,2)])])]),we(Jo,{name:"slide"},{default:dn(()=>[r.value?(L(),z("div",ZA,[a("div",{class:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l[7]||(l[7]=u=>r.value=!1)}),a("div",GA,[a("a",{href:Qe(s)+"?page=examples",onClick:l[8]||(l[8]=Yt(u=>i("examples"),["prevent"])),class:ne(["text-lg font-medium py-2 border-b border-white/5 transition",t.activePage==="examples"?"text-white":"text-white/60"])}," Examples ",10,WA),a("a",{href:Qe(s)+"?page=docs",onClick:l[9]||(l[9]=Yt(u=>i("docs"),["prevent"])),class:ne(["text-lg font-medium py-2 border-b border-white/5 transition",t.activePage==="docs"?"text-white":"text-white/60"])}," Docs ",10,KA),a("a",{href:Qe(s)+"?page=playground",onClick:l[10]||(l[10]=Yt(u=>i("playground"),["prevent"])),class:ne(["text-lg font-medium py-2 border-b border-white/5 transition",t.activePage==="playground"?"text-white":"text-white/60"])}," Playground ",10,JA),a("a",{href:Qe(s)+"?page=prompt-builder",onClick:l[11]||(l[11]=Yt(u=>i("prompt-builder"),["prevent"])),class:ne(["text-lg font-medium py-2 border-b border-white/5 transition",t.activePage==="prompt-builder"?"text-white":"text-white/60"])}," Prompt Builder ",10,QA),a("a",{href:Qe(s)+"?page=api",onClick:l[12]||(l[12]=Yt(u=>i("api"),["prevent"])),class:ne(["text-lg font-medium py-2 transition",t.activePage==="api"?"text-white":"text-white/60"])}," API ",10,YA)])])):oe("",!0)]),_:1})],64))}}),ek=Qr(XA,[["__scopeId","data-v-a7fad191"]]);function th(t){let e=t.trim();e=e.replace(/,(\s*[}\]])/g,"$1");const n=[];let s=!1,r=!1;for(let i=0;i<e.length;i++){const o=e[i];if(s){o==="\\"?r=!r:o==='"'&&!r?s=!1:r=!1;continue}o==='"'?s=!0:o==="{"?n.push("}"):o==="["?n.push("]"):o==="}"?n[n.length-1]==="}"&&n.pop():o==="]"&&n[n.length-1]==="]"&&n.pop()}for(s&&(e+='"');n.length>0;)e+=n.pop();try{return JSON.parse(e)}catch{return null}}const tk=()=>{};var Zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},nk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,h=i>>2,m=(i&3)<<4|l>>4;let f=(l&15)<<2|d>>6,g=d&63;u||(g=64,o||(f=64)),s.push(n[h],n[m],n[f],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ey(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||d==null||m==null)throw new sk;const f=i<<2|l>>4;if(s.push(f),d!==64){const g=l<<4&240|d>>2;if(s.push(g),m!==64){const x=d<<6&192|m;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rk=function(t){const e=ey(t);return ty.encodeByteArray(e,!0)},kl=function(t){return rk(t).replace(/\./g,"")},ik=function(t){try{return ty.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=()=>ok().__FIREBASE_DEFAULTS__,lk=()=>{if(typeof process>"u"||typeof Zp>"u")return;const t=Zp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ck=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ik(t[1]);return e&&JSON.parse(e)},nh=()=>{try{return tk()||ak()||lk()||ck()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uk=t=>{var e,n;return(n=(e=nh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},dk=t=>{const e=uk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ny=()=>{var t;return(t=nh())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kl(JSON.stringify(n)),kl(JSON.stringify(o)),""].join(".")}const Mo={};function mk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mo))Mo[e]?t.emulator.push(e):t.prod.push(e);return t}function gk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gp=!1;function _k(t,e){if(typeof window>"u"||typeof document>"u"||!sh(window.location.host)||Mo[t]===e||Mo[t]||Gp)return;Mo[t]=e;function n(f){return`__firebase__banner__${f}`}const s="__firebase__banner",i=mk().prod.length>0;function o(){const f=document.getElementById(s);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function u(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Gp=!0,o()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=gk(s),g=n("text"),x=document.getElementById(g)||document.createElement("span"),b=n("learnmore"),C=document.getElementById(b)||document.createElement("a"),O=n("preprendIcon"),V=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const M=f.element;l(M),h(C,b);const P=d();u(V,O),M.append(V,x,C,P),document.body.appendChild(M)}i?(x.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bk(){var e;const t=(e=nh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vk(){return!bk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xk(){try{return typeof indexedDB=="object"}catch{return!1}}function wk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="FirebaseError";class Wi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Tk,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sy.prototype.create)}}class sy{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Ek(i,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Wi(r,l,s)}}function Ek(t,e){return t.replace(Sk,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Sk=/\{\$([^}]+)}/g;function Cl(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Wp(i)&&Wp(o)){if(!Cl(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Wp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){return t&&t._delegate?t._delegate:t}class la{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ck(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rr){return this.instances.has(e)}getOptions(e=Rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Rr){return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kk(t){return t===Rr?void 0:t}function Ck(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ak(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const Rk={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Dk=ke.INFO,Ok={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Nk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Ok[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ry{constructor(e){this.name=e,this._logLevel=Dk,this._logHandler=Nk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Vk=(t,e)=>e.some(n=>t instanceof n);let Kp,Jp;function Mk(){return Kp||(Kp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lk(){return Jp||(Jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iy=new WeakMap,zu=new WeakMap,oy=new WeakMap,Yc=new WeakMap,rh=new WeakMap;function $k(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Js(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iy.set(n,t)}).catch(()=>{}),rh.set(e,t),e}function zk(t){if(zu.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zu.set(t,e)}let Fu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fk(t){Fu=t(Fu)}function jk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Xc(this),e,...n);return oy.set(s,e.sort?e.sort():[e]),Js(s)}:Lk().includes(t)?function(...e){return t.apply(Xc(this),e),Js(iy.get(this))}:function(...e){return Js(t.apply(Xc(this),e))}}function Uk(t){return typeof t=="function"?jk(t):(t instanceof IDBTransaction&&zk(t),Vk(t,Mk())?new Proxy(t,Fu):t)}function Js(t){if(t instanceof IDBRequest)return $k(t);if(Yc.has(t))return Yc.get(t);const e=Uk(t);return e!==t&&(Yc.set(t,e),rh.set(e,t)),e}const Xc=t=>rh.get(t);function Bk(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),l=Js(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Js(o.result),u.oldVersion,u.newVersion,Js(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Hk=["get","getKey","getAll","getAllKeys","count"],qk=["put","add","delete","clear"],eu=new Map;function Qp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eu.get(e))return eu.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=qk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Hk.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return eu.set(e,i),i}Fk(t=>({...t,get:(e,n,s)=>Qp(e,n)||t.get(e,n,s),has:(e,n)=>!!Qp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Gk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ju="@firebase/app",Yp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new ry("@firebase/app"),Wk="@firebase/app-compat",Kk="@firebase/analytics-compat",Jk="@firebase/analytics",Qk="@firebase/app-check-compat",Yk="@firebase/app-check",Xk="@firebase/auth",eC="@firebase/auth-compat",tC="@firebase/database",nC="@firebase/data-connect",sC="@firebase/database-compat",rC="@firebase/functions",iC="@firebase/functions-compat",oC="@firebase/installations",aC="@firebase/installations-compat",lC="@firebase/messaging",cC="@firebase/messaging-compat",uC="@firebase/performance",dC="@firebase/performance-compat",hC="@firebase/remote-config",fC="@firebase/remote-config-compat",pC="@firebase/storage",mC="@firebase/storage-compat",gC="@firebase/firestore",_C="@firebase/ai",yC="@firebase/firestore-compat",bC="firebase",vC="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="[DEFAULT]",xC={[ju]:"fire-core",[Wk]:"fire-core-compat",[Jk]:"fire-analytics",[Kk]:"fire-analytics-compat",[Yk]:"fire-app-check",[Qk]:"fire-app-check-compat",[Xk]:"fire-auth",[eC]:"fire-auth-compat",[tC]:"fire-rtdb",[nC]:"fire-data-connect",[sC]:"fire-rtdb-compat",[rC]:"fire-fn",[iC]:"fire-fn-compat",[oC]:"fire-iid",[aC]:"fire-iid-compat",[lC]:"fire-fcm",[cC]:"fire-fcm-compat",[uC]:"fire-perf",[dC]:"fire-perf-compat",[hC]:"fire-rc",[fC]:"fire-rc-compat",[pC]:"fire-gcs",[mC]:"fire-gcs-compat",[gC]:"fire-fst",[yC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[bC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Map,wC=new Map,Bu=new Map;function Xp(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rl(t){const e=t.name;if(Bu.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Bu.set(e,t);for(const n of Pl.values())Xp(n,t);for(const n of wC.values())Xp(n,t);return!0}function TC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function EC(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new sy("app","Firebase",SC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=vC;function ay(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Uu,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Qs.create("bad-app-name",{appName:String(r)});if(n||(n=ny()),!n)throw Qs.create("no-options");const i=Pl.get(r);if(i){if(Cl(n,i.options)&&Cl(s,i.config))return i;throw Qs.create("duplicate-app",{appName:r})}const o=new Pk(r);for(const u of Bu.values())o.addComponent(u);const l=new IC(n,s,o);return Pl.set(r,l),l}function kC(t=Uu){const e=Pl.get(t);if(!e&&t===Uu&&ny())return ay();if(!e)throw Qs.create("no-app",{appName:t});return e}function Si(t,e,n){let s=xC[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(o.join(" "));return}Rl(new la(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",PC=1,ca="firebase-heartbeat-store";let tu=null;function ly(){return tu||(tu=Bk(CC,PC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ca)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),tu}async function RC(t){try{const n=(await ly()).transaction(ca),s=await n.objectStore(ca).get(cy(t));return await n.done,s}catch(e){if(e instanceof Wi)Es.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function em(t,e){try{const s=(await ly()).transaction(ca,"readwrite");await s.objectStore(ca).put(e,cy(t)),await s.done}catch(n){if(n instanceof Wi)Es.warn(n.message);else{const s=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(s.message)}}}function cy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=1024,OC=30;class NC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tm();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>OC){const o=LC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Es.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tm(),{heartbeatsToSend:s,unsentEntries:r}=VC(this._heartbeatsCache.heartbeats),i=kl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Es.warn(n),""}}}function tm(){return new Date().toISOString().substring(0,10)}function VC(t,e=DC){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),nm(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),nm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class MC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xk()?wk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return em(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return em(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nm(t){return kl(JSON.stringify({version:2,heartbeats:t})).length}function LC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){Rl(new la("platform-logger",e=>new Zk(e),"PRIVATE")),Rl(new la("heartbeat",e=>new NC(e),"PRIVATE")),Si(ju,Yp,t),Si(ju,Yp,"esm2020"),Si("fire-js","")}$C("");var zC="firebase",FC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(zC,FC,"app");var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,uy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function v(){}v.prototype=w.prototype,S.F=w.prototype,S.prototype=new v,S.prototype.constructor=S,S.D=function(k,I,A){for(var T=Array(arguments.length-2),re=2;re<arguments.length;re++)T[re-2]=arguments[re];return w.prototype[I].apply(k,T)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,w,v){v||(v=0);const k=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)k[I]=w.charCodeAt(v++)|w.charCodeAt(v++)<<8|w.charCodeAt(v++)<<16|w.charCodeAt(v++)<<24;else for(I=0;I<16;++I)k[I]=w[v++]|w[v++]<<8|w[v++]<<16|w[v++]<<24;w=S.g[0],v=S.g[1],I=S.g[2];let A=S.g[3],T;T=w+(A^v&(I^A))+k[0]+3614090360&4294967295,w=v+(T<<7&4294967295|T>>>25),T=A+(I^w&(v^I))+k[1]+3905402710&4294967295,A=w+(T<<12&4294967295|T>>>20),T=I+(v^A&(w^v))+k[2]+606105819&4294967295,I=A+(T<<17&4294967295|T>>>15),T=v+(w^I&(A^w))+k[3]+3250441966&4294967295,v=I+(T<<22&4294967295|T>>>10),T=w+(A^v&(I^A))+k[4]+4118548399&4294967295,w=v+(T<<7&4294967295|T>>>25),T=A+(I^w&(v^I))+k[5]+1200080426&4294967295,A=w+(T<<12&4294967295|T>>>20),T=I+(v^A&(w^v))+k[6]+2821735955&4294967295,I=A+(T<<17&4294967295|T>>>15),T=v+(w^I&(A^w))+k[7]+4249261313&4294967295,v=I+(T<<22&4294967295|T>>>10),T=w+(A^v&(I^A))+k[8]+1770035416&4294967295,w=v+(T<<7&4294967295|T>>>25),T=A+(I^w&(v^I))+k[9]+2336552879&4294967295,A=w+(T<<12&4294967295|T>>>20),T=I+(v^A&(w^v))+k[10]+4294925233&4294967295,I=A+(T<<17&4294967295|T>>>15),T=v+(w^I&(A^w))+k[11]+2304563134&4294967295,v=I+(T<<22&4294967295|T>>>10),T=w+(A^v&(I^A))+k[12]+1804603682&4294967295,w=v+(T<<7&4294967295|T>>>25),T=A+(I^w&(v^I))+k[13]+4254626195&4294967295,A=w+(T<<12&4294967295|T>>>20),T=I+(v^A&(w^v))+k[14]+2792965006&4294967295,I=A+(T<<17&4294967295|T>>>15),T=v+(w^I&(A^w))+k[15]+1236535329&4294967295,v=I+(T<<22&4294967295|T>>>10),T=w+(I^A&(v^I))+k[1]+4129170786&4294967295,w=v+(T<<5&4294967295|T>>>27),T=A+(v^I&(w^v))+k[6]+3225465664&4294967295,A=w+(T<<9&4294967295|T>>>23),T=I+(w^v&(A^w))+k[11]+643717713&4294967295,I=A+(T<<14&4294967295|T>>>18),T=v+(A^w&(I^A))+k[0]+3921069994&4294967295,v=I+(T<<20&4294967295|T>>>12),T=w+(I^A&(v^I))+k[5]+3593408605&4294967295,w=v+(T<<5&4294967295|T>>>27),T=A+(v^I&(w^v))+k[10]+38016083&4294967295,A=w+(T<<9&4294967295|T>>>23),T=I+(w^v&(A^w))+k[15]+3634488961&4294967295,I=A+(T<<14&4294967295|T>>>18),T=v+(A^w&(I^A))+k[4]+3889429448&4294967295,v=I+(T<<20&4294967295|T>>>12),T=w+(I^A&(v^I))+k[9]+568446438&4294967295,w=v+(T<<5&4294967295|T>>>27),T=A+(v^I&(w^v))+k[14]+3275163606&4294967295,A=w+(T<<9&4294967295|T>>>23),T=I+(w^v&(A^w))+k[3]+4107603335&4294967295,I=A+(T<<14&4294967295|T>>>18),T=v+(A^w&(I^A))+k[8]+1163531501&4294967295,v=I+(T<<20&4294967295|T>>>12),T=w+(I^A&(v^I))+k[13]+2850285829&4294967295,w=v+(T<<5&4294967295|T>>>27),T=A+(v^I&(w^v))+k[2]+4243563512&4294967295,A=w+(T<<9&4294967295|T>>>23),T=I+(w^v&(A^w))+k[7]+1735328473&4294967295,I=A+(T<<14&4294967295|T>>>18),T=v+(A^w&(I^A))+k[12]+2368359562&4294967295,v=I+(T<<20&4294967295|T>>>12),T=w+(v^I^A)+k[5]+4294588738&4294967295,w=v+(T<<4&4294967295|T>>>28),T=A+(w^v^I)+k[8]+2272392833&4294967295,A=w+(T<<11&4294967295|T>>>21),T=I+(A^w^v)+k[11]+1839030562&4294967295,I=A+(T<<16&4294967295|T>>>16),T=v+(I^A^w)+k[14]+4259657740&4294967295,v=I+(T<<23&4294967295|T>>>9),T=w+(v^I^A)+k[1]+2763975236&4294967295,w=v+(T<<4&4294967295|T>>>28),T=A+(w^v^I)+k[4]+1272893353&4294967295,A=w+(T<<11&4294967295|T>>>21),T=I+(A^w^v)+k[7]+4139469664&4294967295,I=A+(T<<16&4294967295|T>>>16),T=v+(I^A^w)+k[10]+3200236656&4294967295,v=I+(T<<23&4294967295|T>>>9),T=w+(v^I^A)+k[13]+681279174&4294967295,w=v+(T<<4&4294967295|T>>>28),T=A+(w^v^I)+k[0]+3936430074&4294967295,A=w+(T<<11&4294967295|T>>>21),T=I+(A^w^v)+k[3]+3572445317&4294967295,I=A+(T<<16&4294967295|T>>>16),T=v+(I^A^w)+k[6]+76029189&4294967295,v=I+(T<<23&4294967295|T>>>9),T=w+(v^I^A)+k[9]+3654602809&4294967295,w=v+(T<<4&4294967295|T>>>28),T=A+(w^v^I)+k[12]+3873151461&4294967295,A=w+(T<<11&4294967295|T>>>21),T=I+(A^w^v)+k[15]+530742520&4294967295,I=A+(T<<16&4294967295|T>>>16),T=v+(I^A^w)+k[2]+3299628645&4294967295,v=I+(T<<23&4294967295|T>>>9),T=w+(I^(v|~A))+k[0]+4096336452&4294967295,w=v+(T<<6&4294967295|T>>>26),T=A+(v^(w|~I))+k[7]+1126891415&4294967295,A=w+(T<<10&4294967295|T>>>22),T=I+(w^(A|~v))+k[14]+2878612391&4294967295,I=A+(T<<15&4294967295|T>>>17),T=v+(A^(I|~w))+k[5]+4237533241&4294967295,v=I+(T<<21&4294967295|T>>>11),T=w+(I^(v|~A))+k[12]+1700485571&4294967295,w=v+(T<<6&4294967295|T>>>26),T=A+(v^(w|~I))+k[3]+2399980690&4294967295,A=w+(T<<10&4294967295|T>>>22),T=I+(w^(A|~v))+k[10]+4293915773&4294967295,I=A+(T<<15&4294967295|T>>>17),T=v+(A^(I|~w))+k[1]+2240044497&4294967295,v=I+(T<<21&4294967295|T>>>11),T=w+(I^(v|~A))+k[8]+1873313359&4294967295,w=v+(T<<6&4294967295|T>>>26),T=A+(v^(w|~I))+k[15]+4264355552&4294967295,A=w+(T<<10&4294967295|T>>>22),T=I+(w^(A|~v))+k[6]+2734768916&4294967295,I=A+(T<<15&4294967295|T>>>17),T=v+(A^(I|~w))+k[13]+1309151649&4294967295,v=I+(T<<21&4294967295|T>>>11),T=w+(I^(v|~A))+k[4]+4149444226&4294967295,w=v+(T<<6&4294967295|T>>>26),T=A+(v^(w|~I))+k[11]+3174756917&4294967295,A=w+(T<<10&4294967295|T>>>22),T=I+(w^(A|~v))+k[2]+718787259&4294967295,I=A+(T<<15&4294967295|T>>>17),T=v+(A^(I|~w))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(I+(T<<21&4294967295|T>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+A&4294967295}s.prototype.v=function(S,w){w===void 0&&(w=S.length);const v=w-this.blockSize,k=this.C;let I=this.h,A=0;for(;A<w;){if(I==0)for(;A<=v;)r(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<w;)if(k[I++]=S.charCodeAt(A++),I==this.blockSize){r(this,k),I=0;break}}else for(;A<w;)if(k[I++]=S[A++],I==this.blockSize){r(this,k),I=0;break}}this.h=I,this.o+=w},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;w=this.o*8;for(var v=S.length-8;v<S.length;++v)S[v]=w&255,w/=256;for(this.v(S),S=Array(16),w=0,v=0;v<4;++v)for(let k=0;k<32;k+=8)S[w++]=this.g[v]>>>k&255;return S};function i(S,w){var v=l;return Object.prototype.hasOwnProperty.call(v,S)?v[S]:v[S]=w(S)}function o(S,w){this.h=w;const v=[];let k=!0;for(let I=S.length-1;I>=0;I--){const A=S[I]|0;k&&A==w||(v[I]=A,k=!1)}this.g=v}var l={};function u(S){return-128<=S&&S<128?i(S,function(w){return new o([w|0],w<0?-1:0)}):new o([S|0],S<0?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return m;if(S<0)return C(d(-S));const w=[];let v=1;for(let k=0;S>=v;k++)w[k]=S/v|0,v*=4294967296;return new o(w,0)}function h(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return C(h(S.substring(1),w));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=d(Math.pow(w,8));let k=m;for(let A=0;A<S.length;A+=8){var I=Math.min(8,S.length-A);const T=parseInt(S.substring(A,A+I),w);I<8?(I=d(Math.pow(w,I)),k=k.j(I).add(d(T))):(k=k.j(v),k=k.add(d(T)))}return k}var m=u(0),f=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-C(this).m();let S=0,w=1;for(let v=0;v<this.g.length;v++){const k=this.i(v);S+=(k>=0?k:4294967296+k)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(b(this))return"-"+C(this).toString(S);const w=d(Math.pow(S,6));var v=this;let k="";for(;;){const I=P(v,w).g;v=O(v,I.j(w));let A=((v.g.length>0?v.g[0]:v.h)>>>0).toString(S);if(v=I,x(v))return A+k;for(;A.length<6;)A="0"+A;k=A+k}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=O(this,S),b(S)?-1:x(S)?0:1};function C(S){const w=S.g.length,v=[];for(let k=0;k<w;k++)v[k]=~S.g[k];return new o(v,~S.h).add(f)}t.abs=function(){return b(this)?C(this):this},t.add=function(S){const w=Math.max(this.g.length,S.g.length),v=[];let k=0;for(let I=0;I<=w;I++){let A=k+(this.i(I)&65535)+(S.i(I)&65535),T=(A>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);k=T>>>16,A&=65535,T&=65535,v[I]=T<<16|A}return new o(v,v[v.length-1]&-2147483648?-1:0)};function O(S,w){return S.add(C(w))}t.j=function(S){if(x(this)||x(S))return m;if(b(this))return b(S)?C(this).j(C(S)):C(C(this).j(S));if(b(S))return C(this.j(C(S)));if(this.l(g)<0&&S.l(g)<0)return d(this.m()*S.m());const w=this.g.length+S.g.length,v=[];for(var k=0;k<2*w;k++)v[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<S.g.length;I++){const A=this.i(k)>>>16,T=this.i(k)&65535,re=S.i(I)>>>16,ve=S.i(I)&65535;v[2*k+2*I]+=T*ve,V(v,2*k+2*I),v[2*k+2*I+1]+=A*ve,V(v,2*k+2*I+1),v[2*k+2*I+1]+=T*re,V(v,2*k+2*I+1),v[2*k+2*I+2]+=A*re,V(v,2*k+2*I+2)}for(S=0;S<w;S++)v[S]=v[2*S+1]<<16|v[2*S];for(S=w;S<2*w;S++)v[S]=0;return new o(v,0)};function V(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function M(S,w){this.g=S,this.h=w}function P(S,w){if(x(w))throw Error("division by zero");if(x(S))return new M(m,m);if(b(S))return w=P(C(S),w),new M(C(w.g),C(w.h));if(b(w))return w=P(S,C(w)),new M(C(w.g),w.h);if(S.g.length>30){if(b(S)||b(w))throw Error("slowDivide_ only works with positive integers.");for(var v=f,k=w;k.l(S)<=0;)v=D(v),k=D(k);var I=F(v,1),A=F(k,1);for(k=F(k,2),v=F(v,2);!x(k);){var T=A.add(k);T.l(S)<=0&&(I=I.add(v),A=T),k=F(k,1),v=F(v,1)}return w=O(S,I.j(w)),new M(I,w)}for(I=m;S.l(w)>=0;){for(v=Math.max(1,Math.floor(S.m()/w.m())),k=Math.ceil(Math.log(v)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),A=d(v),T=A.j(w);b(T)||T.l(S)>0;)v-=k,A=d(v),T=A.j(w);x(A)&&(A=f),I=I.add(A),S=O(S,T)}return new M(I,S)}t.B=function(S){return P(this,S).h},t.and=function(S){const w=Math.max(this.g.length,S.g.length),v=[];for(let k=0;k<w;k++)v[k]=this.i(k)&S.i(k);return new o(v,this.h&S.h)},t.or=function(S){const w=Math.max(this.g.length,S.g.length),v=[];for(let k=0;k<w;k++)v[k]=this.i(k)|S.i(k);return new o(v,this.h|S.h)},t.xor=function(S){const w=Math.max(this.g.length,S.g.length),v=[];for(let k=0;k<w;k++)v[k]=this.i(k)^S.i(k);return new o(v,this.h^S.h)};function D(S){const w=S.g.length+1,v=[];for(let k=0;k<w;k++)v[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(v,S.h)}function F(S,w){const v=w>>5;w%=32;const k=S.g.length-v,I=[];for(let A=0;A<k;A++)I[A]=w>0?S.i(A+v)>>>w|S.i(A+v+1)<<32-w:S.i(A+v);return new o(I,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,uy=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Ys=o}).apply(typeof sm<"u"?sm:typeof self<"u"?self:typeof window<"u"?window:{});var Ba=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dy,To,hy,sl,Hu,fy,py,my;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ba=="object"&&Ba];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function r(c,p){if(p)e:{var _=s;c=c.split(".");for(var E=0;E<c.length-1;E++){var $=c[E];if(!($ in _))break e;_=_[$]}c=c[c.length-1],E=_[c],p=p(E),p!=E&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}r("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(c){return c||function(p){var _=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&_.push([E,p[E]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function u(c,p,_){return c.call.apply(c.bind,arguments)}function d(c,p,_){return d=u,d.apply(null,arguments)}function h(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function m(c,p){function _(){}_.prototype=p.prototype,c.Z=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(E,$,j){for(var Y=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)Y[xe-2]=arguments[xe];return p.prototype[$].apply(E,Y)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const p=c.length;if(p>0){const _=Array(p);for(let E=0;E<p;E++)_[E]=c[E];return _}return[]}function x(c,p){for(let E=1;E<arguments.length;E++){const $=arguments[E];var _=typeof $;if(_=_!="object"?_:$?Array.isArray($)?"array":_:"null",_=="array"||_=="object"&&typeof $.length=="number"){_=c.length||0;const j=$.length||0;c.length=_+j;for(let Y=0;Y<j;Y++)c[_+Y]=$[Y]}else c.push($)}}class b{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function C(c){o.setTimeout(()=>{throw c},0)}function O(){var c=S;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class V{constructor(){this.h=this.g=null}add(p,_){const E=M.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var M=new b(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let D,F=!1,S=new V,w=()=>{const c=Promise.resolve(void 0);D=()=>{c.then(v)}};function v(){for(var c;c=O();){try{c.h.call(c.g)}catch(_){C(_)}var p=M;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}F=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};o.addEventListener("test",_,p),o.removeEventListener("test",_,p)}catch{}return c}();function T(c){return/^[\s\xa0]*$/.test(c)}function re(c,p){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}m(re,I),re.prototype.init=function(c,p){const _=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(_=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),pe=0;function me(c,p,_,E,$){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=$,this.key=++pe,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function It(c,p,_){for(const E in c)p.call(_,c[E],E,c)}function Cn(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function Dt(c){const p={};for(const _ in c)p[_]=c[_];return p}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ks(c,p){let _,E;for(let $=1;$<arguments.length;$++){E=arguments[$];for(_ in E)c[_]=E[_];for(let j=0;j<lt.length;j++)_=lt[j],Object.prototype.hasOwnProperty.call(E,_)&&(c[_]=E[_])}}function Ot(c){this.src=c,this.g={},this.h=0}Ot.prototype.add=function(c,p,_,E,$){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const Y=ls(c,p,E,$);return Y>-1?(p=c[Y],_||(p.fa=!1)):(p=new me(p,this.src,j,!!E,$),p.fa=_,c.push(p)),p};function mn(c,p){const _=p.type;if(_ in c.g){var E=c.g[_],$=Array.prototype.indexOf.call(E,p,void 0),j;(j=$>=0)&&Array.prototype.splice.call(E,$,1),j&&(ye(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ls(c,p,_,E){for(let $=0;$<c.length;++$){const j=c[$];if(!j.da&&j.listener==p&&j.capture==!!_&&j.ha==E)return $}return-1}var Cs="closure_lm_"+(Math.random()*1e6|0),gr={};function Yi(c,p,_,E,$){if(Array.isArray(p)){for(let j=0;j<p.length;j++)Yi(c,p[j],_,E,$);return null}return _=X(_),c&&c[ve]?c.J(p,_,l(E)?!!E.capture:!1,$):_r(c,p,_,!1,E,$)}function _r(c,p,_,E,$,j){if(!p)throw Error("Invalid event type");const Y=l($)?!!$.capture:!!$;let xe=q(c);if(xe||(c[Cs]=xe=new Ot(c)),_=xe.add(p,_,E,Y,j),_.proxy)return _;if(E=Ch(),_.proxy=E,E.src=c,E.listener=_,c.addEventListener)A||($=Y),$===void 0&&($=!1),c.addEventListener(p.toString(),E,$);else if(c.attachEvent)c.attachEvent(U(p.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ch(){function c(_){return p.call(c.src,c.listener,_)}const p=W;return c}function R(c,p,_,E,$){if(Array.isArray(p))for(var j=0;j<p.length;j++)R(c,p[j],_,E,$);else E=l(E)?!!E.capture:!!E,_=X(_),c&&c[ve]?(c=c.i,j=String(p).toString(),j in c.g&&(p=c.g[j],_=ls(p,_,E,$),_>-1&&(ye(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete c.g[j],c.h--)))):c&&(c=q(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ls(p,_,E,$)),(_=c>-1?p[c]:null)&&N(_))}function N(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ve])mn(p.i,c);else{var _=c.type,E=c.proxy;p.removeEventListener?p.removeEventListener(_,E,c.capture):p.detachEvent?p.detachEvent(U(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=q(p))?(mn(_,c),_.h==0&&(_.src=null,p[Cs]=null)):ye(c)}}}function U(c){return c in gr?gr[c]:gr[c]="on"+c}function W(c,p){if(c.da)c=!0;else{p=new re(p,this);const _=c.listener,E=c.ha||c.src;c.fa&&N(c),c=_.call(E,p)}return c}function q(c){return c=c[Cs],c instanceof Ot?c:null}var Z="__closure_events_fn_"+(Math.random()*1e9>>>0);function X(c){return typeof c=="function"?c:(c[Z]||(c[Z]=function(p){return c.handleEvent(p)}),c[Z])}function J(){k.call(this),this.i=new Ot(this),this.M=this,this.G=null}m(J,k),J.prototype[ve]=!0,J.prototype.removeEventListener=function(c,p,_,E){R(this,c,p,_,E)};function K(c,p){var _,E=c.G;if(E)for(_=[];E;E=E.G)_.push(E);if(c=c.M,E=p.type||p,typeof p=="string")p=new I(p,c);else if(p instanceof I)p.target=p.target||c;else{var $=p;p=new I(E,c),ks(p,$)}$=!0;let j,Y;if(_)for(Y=_.length-1;Y>=0;Y--)j=p.g=_[Y],$=G(j,E,!0,p)&&$;if(j=p.g=c,$=G(j,E,!0,p)&&$,$=G(j,E,!1,p)&&$,_)for(Y=0;Y<_.length;Y++)j=p.g=_[Y],$=G(j,E,!1,p)&&$}J.prototype.N=function(){if(J.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const _=c.g[p];for(let E=0;E<_.length;E++)ye(_[E]);delete c.g[p],c.h--}}this.G=null},J.prototype.J=function(c,p,_,E){return this.i.add(String(c),p,!1,_,E)},J.prototype.K=function(c,p,_,E){return this.i.add(String(c),p,!0,_,E)};function G(c,p,_,E){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let $=!0;for(let j=0;j<p.length;++j){const Y=p[j];if(Y&&!Y.da&&Y.capture==_){const xe=Y.listener,_t=Y.ha||Y.src;Y.fa&&mn(c.i,Y),$=xe.call(_t,E)!==!1&&$}}return $&&!E.defaultPrevented}function ce(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function te(c){c.g=ce(()=>{c.g=null,c.i&&(c.i=!1,te(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class le extends k{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:te(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(c){k.call(this),this.h=c,this.g={}}m(ue,k);var Ee=[];function Le(c){It(c.g,function(p,_){this.g.hasOwnProperty(_)&&N(p)},c),c.g={}}ue.prototype.N=function(){ue.Z.N.call(this),Le(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=o.JSON.stringify,Nt=o.JSON.parse,Vt=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function gn(){}function _n(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xr(){I.call(this,"d")}m(Xr,I);function At(){I.call(this,"c")}m(At,I);var xt={},Xi=null;function yr(){return Xi=Xi||new J}xt.Ia="serverreachability";function Ph(c){I.call(this,xt.Ia,c)}m(Ph,I);function eo(c){const p=yr();K(p,new Ph(p))}xt.STAT_EVENT="statevent";function Rh(c,p){I.call(this,xt.STAT_EVENT,c),this.stat=p}m(Rh,I);function Wt(c){const p=yr();K(p,new Rh(p,c))}xt.Ja="timingevent";function Dh(c,p){I.call(this,xt.Ja,c),this.size=p}m(Dh,I);function to(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function no(){this.g=!0}no.prototype.ua=function(){this.g=!1};function _b(c,p,_,E,$,j){c.info(function(){if(c.g)if(j){var Y="",xe=j.split("&");for(let $e=0;$e<xe.length;$e++){var _t=xe[$e].split("=");if(_t.length>1){const wt=_t[0];_t=_t[1];const Hn=wt.split("_");Y=Hn.length>=2&&Hn[1]=="type"?Y+(wt+"="+_t+"&"):Y+(wt+"=redacted&")}}}else Y=null;else Y=j;return"XMLHTTP REQ ("+E+") [attempt "+$+"]: "+p+`
`+_+`
`+Y})}function yb(c,p,_,E,$,j,Y){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+$+"]: "+p+`
`+_+`
`+j+" "+Y})}function ei(c,p,_,E){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+vb(c,_)+(E?" "+E:"")})}function bb(c,p){c.info(function(){return"TIMEOUT: "+p})}no.prototype.info=function(){};function vb(c,p){if(!c.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var _=j[c];if(!(_.length<2)){var E=_[1];if(Array.isArray(E)&&!(E.length<1)){var $=E[0];if($!="noop"&&$!="stop"&&$!="close")for(let Y=1;Y<E.length;Y++)E[Y]=""}}}}return Pe(j)}catch{return p}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oh={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nh;function gc(){}m(gc,gn),gc.prototype.g=function(){return new XMLHttpRequest},Nh=new gc;function so(c){return encodeURIComponent(String(c))}function xb(c){var p=1;c=c.split(":");const _=[];for(;p>0&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function Ps(c,p,_,E){this.j=c,this.i=p,this.l=_,this.S=E||1,this.V=new ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vh}function Vh(){this.i=null,this.g="",this.h=!1}var Mh={},_c={};function yc(c,p,_){c.M=1,c.A=Aa(Bn(p)),c.u=_,c.R=!0,Lh(c,null)}function Lh(c,p){c.F=Date.now(),Ia(c),c.B=Bn(c.A);var _=c.B,E=c.S;Array.isArray(E)||(E=[String(E)]),Jh(_.i,"t",E),c.C=0,_=c.j.L,c.h=new Vh,c.g=mf(c.j,_?p:null,!c.u),c.P>0&&(c.O=new le(d(c.Y,c,c.g),c.P)),p=c.V,_=c.g,E=c.ba;var $="readystatechange";Array.isArray($)||($&&(Ee[0]=$.toString()),$=Ee);for(let j=0;j<$.length;j++){const Y=Yi(_,$[j],E||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=c.J?Dt(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),eo(),_b(c.i,c.v,c.B,c.l,c.S,c.u)}Ps.prototype.ba=function(c){c=c.target;const p=this.O;p&&Os(c)==3?p.j():this.Y(c)},Ps.prototype.Y=function(c){try{if(c==this.g)e:{const xe=Os(this.g),_t=this.g.ya(),$e=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||sf(this.g)))){this.K||xe!=4||_t==7||(_t==8||$e<=0?eo(3):eo(2)),bc(this);var p=this.g.ca();this.X=p;var _=wb(this);if(this.o=p==200,yb(this.i,this.v,this.B,this.l,this.S,xe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,$=this.g;if((E=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(E)){var j=E;break t}}j=null}if(c=j)ei(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vc(this,c);else{this.o=!1,this.m=3,Wt(12),br(this),ro(this);break e}}if(this.R){c=!0;let wt;for(;!this.K&&this.C<_.length;)if(wt=Tb(this,_),wt==_c){xe==4&&(this.m=4,Wt(14),c=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Mh){this.m=4,Wt(15),ei(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else ei(this.i,this.l,wt,null),vc(this,wt);if($h(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,Wt(16),c=!1),this.o=this.o&&c,!c)ei(this.i,this.l,_,"[Invalid Chunked Response]"),br(this),ro(this);else if(_.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),kc(Y),Y.P=!0,Wt(11))}}else ei(this.i,this.l,_,null),vc(this,_);xe==4&&br(this),this.o&&!this.K&&(xe==4?df(this.j,this):(this.o=!1,Ia(this)))}else Lb(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,Wt(12)):(this.m=0,Wt(13)),br(this),ro(this)}}}catch{}finally{}};function wb(c){if(!$h(c))return c.g.la();const p=sf(c.g);if(p==="")return"";let _="";const E=p.length,$=Os(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return br(c),ro(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<E;j++)c.h.h=!0,_+=c.h.i.decode(p[j],{stream:!($&&j==E-1)});return p.length=0,c.h.g+=_,c.C=0,c.h.g}function $h(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tb(c,p){var _=c.C,E=p.indexOf(`
`,_);return E==-1?_c:(_=Number(p.substring(_,E)),isNaN(_)?Mh:(E+=1,E+_>p.length?_c:(p=p.slice(E,E+_),c.C=E+_,p)))}Ps.prototype.cancel=function(){this.K=!0,br(this)};function Ia(c){c.T=Date.now()+c.H,zh(c,c.H)}function zh(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=to(d(c.aa,c),p)}function bc(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Ps.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bb(this.i,this.B),this.M!=2&&(eo(),Wt(17)),br(this),this.m=2,ro(this)):zh(this,this.T-c)};function ro(c){c.j.I==0||c.K||df(c.j,c)}function br(c){bc(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Le(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function vc(c,p){try{var _=c.j;if(_.I!=0&&(_.g==c||xc(_.h,c))){if(!c.L&&xc(_.h,c)&&_.I==3){try{var E=_.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var $=E;if($[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Da(_),Pa(_);else break e;Ac(_),Wt(18)}}else _.xa=$[1],0<_.xa-_.K&&$[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=to(d(_.Va,_),6e3));Uh(_.h)<=1&&_.ta&&(_.ta=void 0)}else xr(_,11)}else if((c.L||_.g==c)&&Da(_),!T(p))for($=_.Ba.g.parse(p),p=0;p<$.length;p++){let $e=$[p];const wt=$e[0];if(!(wt<=_.K))if(_.K=wt,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const Hn=$e[3];Hn!=null&&(_.ka=Hn,_.j.info("VER="+_.ka));const wr=$e[4];wr!=null&&(_.za=wr,_.j.info("SVER="+_.za));const Ns=$e[5];Ns!=null&&typeof Ns=="number"&&Ns>0&&(E=1.5*Ns,_.O=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Vs=c.g;if(Vs){const Na=Vs.g?Vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var j=E.h;j.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wc(j,j.h),j.h=null))}if(E.G){const Cc=Vs.g?Vs.g.getResponseHeader("X-HTTP-Session-Id"):null;Cc&&(E.wa=Cc,Ge(E.J,E.G,Cc))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),E=_;var Y=c;if(E.na=pf(E,E.L?E.ba:null,E.W),Y.L){Bh(E.h,Y);var xe=Y,_t=E.O;_t&&(xe.H=_t),xe.D&&(bc(xe),Ia(xe)),E.g=Y}else cf(E);_.i.length>0&&Ra(_)}else $e[0]!="stop"&&$e[0]!="close"||xr(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?xr(_,7):Ic(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}eo(4)}catch{}}var Eb=class{constructor(c,p){this.g=c,this.map=p}};function Fh(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jh(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Uh(c){return c.h?1:c.g?c.g.size:0}function xc(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function wc(c,p){c.g?c.g.add(p):c.h=p}function Bh(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Fh.prototype.cancel=function(){if(this.i=Hh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Hh(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.G);return p}return g(c.i)}var qh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sb(c,p){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const E=c[_].indexOf("=");let $,j=null;E>=0?($=c[_].substring(0,E),j=c[_].substring(E+1)):$=c[_],p($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Rs(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Rs?(this.l=c.l,io(this,c.j),this.o=c.o,this.g=c.g,oo(this,c.u),this.h=c.h,Tc(this,Qh(c.i)),this.m=c.m):c&&(p=String(c).match(qh))?(this.l=!1,io(this,p[1]||"",!0),this.o=ao(p[2]||""),this.g=ao(p[3]||"",!0),oo(this,p[4]),this.h=ao(p[5]||"",!0),Tc(this,p[6]||"",!0),this.m=ao(p[7]||"")):(this.l=!1,this.i=new co(null,this.l))}Rs.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(lo(p,Zh,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(lo(p,Zh,!0),"@"),c.push(so(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(lo(_,_.charAt(0)=="/"?kb:Ab,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",lo(_,Pb)),c.join("")},Rs.prototype.resolve=function(c){const p=Bn(this);let _=!!c.j;_?io(p,c.j):_=!!c.o,_?p.o=c.o:_=!!c.g,_?p.g=c.g:_=c.u!=null;var E=c.h;if(_)oo(p,c.u);else if(_=!!c.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var $=p.h.lastIndexOf("/");$!=-1&&(E=p.h.slice(0,$+1)+E)}if($=E,$==".."||$==".")E="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){E=$.lastIndexOf("/",0)==0,$=$.split("/");const j=[];for(let Y=0;Y<$.length;){const xe=$[Y++];xe=="."?E&&Y==$.length&&j.push(""):xe==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),E&&Y==$.length&&j.push("")):(j.push(xe),E=!0)}E=j.join("/")}else E=$}return _?p.h=E:_=c.i.toString()!=="",_?Tc(p,Qh(c.i)):_=!!c.m,_&&(p.m=c.m),p};function Bn(c){return new Rs(c)}function io(c,p,_){c.j=_?ao(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function oo(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Tc(c,p,_){p instanceof co?(c.i=p,Rb(c.i,c.l)):(_||(p=lo(p,Cb)),c.i=new co(p,c.l))}function Ge(c,p,_){c.i.set(p,_)}function Aa(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ao(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function lo(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Ib),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ib(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zh=/[#\/\?@]/g,Ab=/[#\?:]/g,kb=/[#\?]/g,Cb=/[#\?@]/g,Pb=/#/g;function co(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function vr(c){c.g||(c.g=new Map,c.h=0,c.i&&Sb(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=co.prototype,t.add=function(c,p){vr(this),this.i=null,c=ti(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Gh(c,p){vr(c),p=ti(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Wh(c,p){return vr(c),p=ti(c,p),c.g.has(p)}t.forEach=function(c,p){vr(this),this.g.forEach(function(_,E){_.forEach(function($){c.call(p,$,E,this)},this)},this)};function Kh(c,p){vr(c);let _=[];if(typeof p=="string")Wh(c,p)&&(_=_.concat(c.g.get(ti(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)_=_.concat(c[p]);return _}t.set=function(c,p){return vr(this),this.i=null,c=ti(this,c),Wh(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=Kh(this,c),c.length>0?String(c[0]):p):p};function Jh(c,p,_){Gh(c,p),_.length>0&&(c.i=null,c.g.set(ti(c,p),g(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var _=p[E];const $=so(_);_=Kh(this,_);for(let j=0;j<_.length;j++){let Y=$;_[j]!==""&&(Y+="="+so(_[j])),c.push(Y)}}return this.i=c.join("&")};function Qh(c){const p=new co;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ti(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Rb(c,p){p&&!c.j&&(vr(c),c.i=null,c.g.forEach(function(_,E){const $=E.toLowerCase();E!=$&&(Gh(this,E),Jh(this,$,_))},c)),c.j=p}function Db(c,p){const _=new no;if(o.Image){const E=new Image;E.onload=h(Ds,_,"TestLoadImage: loaded",!0,p,E),E.onerror=h(Ds,_,"TestLoadImage: error",!1,p,E),E.onabort=h(Ds,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=h(Ds,_,"TestLoadImage: timeout",!1,p,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else p(!1)}function Ob(c,p){const _=new no,E=new AbortController,$=setTimeout(()=>{E.abort(),Ds(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:E.signal}).then(j=>{clearTimeout($),j.ok?Ds(_,"TestPingServer: ok",!0,p):Ds(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout($),Ds(_,"TestPingServer: error",!1,p)})}function Ds(c,p,_,E,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),E(_)}catch{}}function Nb(){this.g=new Vt}function Ec(c){this.i=c.Sb||null,this.h=c.ab||!1}m(Ec,gn),Ec.prototype.g=function(){return new ka(this.i,this.h)};function ka(c,p){J.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ka,J),t=ka.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,ho(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yh(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yh(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?uo(this):ho(this),this.readyState==3&&Yh(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,uo(this))},t.Na=function(c){this.g&&(this.response=c,uo(this))},t.ga=function(){this.g&&uo(this)};function uo(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ho(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function ho(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xh(c){let p="";return It(c,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Sc(c,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=Xh(_),typeof c=="string"?_!=null&&so(_):Ge(c,p,_))}function it(c){J.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(it,J);var Vb=/^https?$/i,Mb=["POST","PUT"];t=it.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nh.g(),this.g.onreadystatechange=f(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){ef(this,j);return}if(c=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var $ in E)_.set($,E[$]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())_.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),$=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(Mb,p,void 0)>=0)||E||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Y]of _)this.g.setRequestHeader(j,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){ef(this,j)}};function ef(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,tf(c),Ca(c)}function tf(c){c.A||(c.A=!0,K(c,"complete"),K(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,K(this,"complete"),K(this,"abort"),Ca(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ca(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nf(this):this.Xa())},t.Xa=function(){nf(this)};function nf(c){if(c.h&&typeof i<"u"){if(c.v&&Os(c)==4)setTimeout(c.Ca.bind(c),0);else if(K(c,"readystatechange"),Os(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=j===0){let Y=String(c.D).match(qh)[1]||null;!Y&&o.self&&o.self.location&&(Y=o.self.location.protocol.slice(0,-1)),E=!Vb.test(Y?Y.toLowerCase():"")}_=E}if(_)K(c,"complete"),K(c,"success");else{c.o=6;try{var $=Os(c)>2?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.ca()+"]",tf(c)}}finally{Ca(c)}}}}function Ca(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,p||K(c,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Os(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Os(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Nt(p)}};function sf(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lb(c){const p={};c=(c.g&&Os(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(T(c[E]))continue;var _=xb(c[E]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=p[$]||[];p[$]=j,j.push(_)}Cn(p,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function rf(c){this.za=0,this.i=[],this.j=new no,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fo("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fo("baseRetryDelayMs",5e3,c),this.Za=fo("retryDelaySeedMs",1e4,c),this.Ta=fo("forwardChannelMaxRetries",2,c),this.va=fo("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Fh(c&&c.concurrentRequestLimit),this.Ba=new Nb,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=rf.prototype,t.ka=8,t.I=1,t.connect=function(c,p,_,E){Wt(0),this.W=c,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.J=pf(this,null,this.W),Ra(this)};function Ic(c){if(of(c),c.I==3){var p=c.V++,_=Bn(c.J);if(Ge(_,"SID",c.M),Ge(_,"RID",p),Ge(_,"TYPE","terminate"),po(c,_),p=new Ps(c,c.j,p),p.M=2,p.A=Aa(Bn(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=p.A,_=!0),_||(p.g=mf(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ia(p)}ff(c)}function Pa(c){c.g&&(kc(c),c.g.cancel(),c.g=null)}function of(c){Pa(c),c.v&&(o.clearTimeout(c.v),c.v=null),Da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Ra(c){if(!jh(c.h)&&!c.m){c.m=!0;var p=c.Ea;D||w(),F||(D(),F=!0),S.add(p,c),c.D=0}}function $b(c,p){return Uh(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=to(d(c.Ea,c,p),hf(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const $=new Ps(this,this.j,c);let j=this.o;if(this.U&&(j?(j=Dt(j),ks(j,this.U)):j=this.U),this.u!==null||this.R||($.J=j,j=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=lf(this,$,p),_=Bn(this.J),Ge(_,"RID",c),Ge(_,"CVER",22),this.G&&Ge(_,"X-HTTP-Session-Id",this.G),po(this,_),j&&(this.R?p="headers="+so(Xh(j))+"&"+p:this.u&&Sc(_,this.u,j)),wc(this.h,$),this.Ra&&Ge(_,"TYPE","init"),this.S?(Ge(_,"$req",p),Ge(_,"SID","null"),$.U=!0,yc($,_,null)):yc($,_,p),this.I=2}}else this.I==3&&(c?af(this,c):this.i.length==0||jh(this.h)||af(this))};function af(c,p){var _;p?_=p.l:_=c.V++;const E=Bn(c.J);Ge(E,"SID",c.M),Ge(E,"RID",_),Ge(E,"AID",c.K),po(c,E),c.u&&c.o&&Sc(E,c.u,c.o),_=new Ps(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),p&&(c.i=p.G.concat(c.i)),p=lf(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),wc(c.h,_),yc(_,E,p)}function po(c,p){c.H&&It(c.H,function(_,E){Ge(p,E,_)}),c.l&&It({},function(_,E){Ge(p,E,_)})}function lf(c,p,_){_=Math.min(c.i.length,_);const E=c.l?d(c.l.Ka,c.l,c):null;e:{var $=c.i;let xe=-1;for(;;){const _t=["count="+_];xe==-1?_>0?(xe=$[0].g,_t.push("ofs="+xe)):xe=0:_t.push("ofs="+xe);let $e=!0;for(let wt=0;wt<_;wt++){var j=$[wt].g;const Hn=$[wt].map;if(j-=xe,j<0)xe=Math.max(0,$[wt].g-100),$e=!1;else try{j="req"+j+"_"||"";try{var Y=Hn instanceof Map?Hn:Object.entries(Hn);for(const[wr,Ns]of Y){let Vs=Ns;l(Ns)&&(Vs=Pe(Ns)),_t.push(j+wr+"="+encodeURIComponent(Vs))}}catch(wr){throw _t.push(j+"type="+encodeURIComponent("_badmap")),wr}}catch{E&&E(Hn)}}if($e){Y=_t.join("&");break e}}Y=void 0}return c=c.i.splice(0,_),p.G=c,Y}function cf(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;D||w(),F||(D(),F=!0),S.add(p,c),c.A=0}}function Ac(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=to(d(c.Da,c),hf(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,uf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=to(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Wt(10),Pa(this),uf(this))};function kc(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function uf(c){c.g=new Ps(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Bn(c.na);Ge(p,"RID","rpc"),Ge(p,"SID",c.M),Ge(p,"AID",c.K),Ge(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(p,"TO",c.ia),Ge(p,"TYPE","xmlhttp"),po(c,p),c.u&&c.o&&Sc(p,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Aa(Bn(p)),_.u=null,_.R=!0,Lh(_,c)}t.Va=function(){this.C!=null&&(this.C=null,Pa(this),Ac(this),Wt(19))};function Da(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function df(c,p){var _=null;if(c.g==p){Da(c),kc(c),c.g=null;var E=2}else if(xc(c.h,p))_=p.G,Bh(c.h,p),E=1;else return;if(c.I!=0){if(p.o)if(E==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var $=c.D;E=yr(),K(E,new Dh(E,_)),Ra(c)}else cf(c);else if($=p.m,$==3||$==0&&p.X>0||!(E==1&&$b(c,p)||E==2&&Ac(c)))switch(_&&_.length>0&&(p=c.h,p.i=p.i.concat(_)),$){case 1:xr(c,5);break;case 4:xr(c,10);break;case 3:xr(c,6);break;default:xr(c,2)}}}function hf(c,p){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*p}function xr(c,p){if(c.j.info("Error code "+p),p==2){var _=d(c.bb,c),E=c.Ua;const $=!E;E=new Rs(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||io(E,"https"),Aa(E),$?Db(E.toString(),_):Ob(E.toString(),_)}else Wt(2);c.I=0,c.l&&c.l.pa(p),ff(c),of(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function ff(c){if(c.I=0,c.ja=[],c.l){const p=Hh(c.h);(p.length!=0||c.i.length!=0)&&(x(c.ja,p),x(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function pf(c,p,_){var E=_ instanceof Rs?Bn(_):new Rs(_);if(E.g!="")p&&(E.g=p+"."+E.g),oo(E,E.u);else{var $=o.location;E=$.protocol,p=p?p+"."+$.hostname:$.hostname,$=+$.port;const j=new Rs(null);E&&io(j,E),p&&(j.g=p),$&&oo(j,$),_&&(j.h=_),E=j}return _=c.G,p=c.wa,_&&p&&Ge(E,_,p),Ge(E,"VER",c.ka),po(c,E),E}function mf(c,p,_){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new it(new Ec({ab:_})):new it(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gf(){}t=gf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Oa(){}Oa.prototype.g=function(c,p){return new yn(c,p)};function yn(c,p){J.call(this),this.g=new rf(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!T(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!T(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ni(this)}m(yn,J),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ic(this.g)},yn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Pe(c),c=_);p.i.push(new Eb(p.Ya++,c)),p.I==3&&Ra(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,yn.Z.N.call(this)};function _f(c){Xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}m(_f,Xr);function yf(){At.call(this),this.status=1}m(yf,At);function ni(c){this.g=c}m(ni,gf),ni.prototype.ra=function(){K(this.g,"a")},ni.prototype.qa=function(c){K(this.g,new _f(c))},ni.prototype.pa=function(c){K(this.g,new yf)},ni.prototype.oa=function(){K(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,my=function(){return new Oa},py=function(){return yr()},fy=xt,Hu={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,sl=Sa,Oh.COMPLETE="complete",hy=Oh,_n.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",J.prototype.listen=J.prototype.J,To=_n,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,dy=it}).apply(typeof Ba<"u"?Ba:typeof self<"u"?self:typeof window<"u"?window:{});const rm="@firebase/firestore",im="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new ry("@firebase/firestore");function ai(){return Zr.logLevel}function se(t,...e){if(Zr.logLevel<=ke.DEBUG){const n=e.map(ih);Zr.debug(`Firestore (${Ki}): ${t}`,...n)}}function Ss(t,...e){if(Zr.logLevel<=ke.ERROR){const n=e.map(ih);Zr.error(`Firestore (${Ki}): ${t}`,...n)}}function Li(t,...e){if(Zr.logLevel<=ke.WARN){const n=e.map(ih);Zr.warn(`Firestore (${Ki}): ${t}`,...n)}}function ih(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,gy(t,s,n)}function gy(t,e,n){let s=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ss(s),new Error(s)}function st(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||gy(e,r,s)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new _y(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class HC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new HC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class om{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,EC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const s=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new om(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new om(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=GC(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Se(t,e){return t<e?-1:t>e?1:0}function qu(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return nu(r)===nu(i)?Se(r,i):nu(r)?1:-1}return Se(t.length,e.length)}const WC=55296,KC=57343;function nu(t){const e=t.charCodeAt(0);return e>=WC&&e<=KC}function $i(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="__name__";class Kn{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Kn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Se(e.length,n.length)}static compareSegments(e,n){const s=Kn.isNumericId(e),r=Kn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):qu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class tt extends Kn{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Kn{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return JC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===am}static keyField(){return new nn([am])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(i(),r++)}if(i(),o)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(tt.fromString(e))}static fromName(e){return new de(tt.fromString(e).popFirst(5))}static empty(){return new de(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e,n){if(!n)throw new ae(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YC(t,e,n,s){if(e===!0&&s===!0)throw new ae(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lm(t){if(!de.isDocumentKey(t))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function eP(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Zu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eP(t);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function va(t,e){if(!XC(t))throw new ae(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new ae(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-62135596800,um=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*um);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cm)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/um}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(va(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:gt("string",mt._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new mt(0,0))}static max(){return new ge(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=-1;function tP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ge.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new ar(r,de.empty(),e)}function nP(t){return new ar(t.readTime,t.key,ua)}class ar{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ar(ge.min(),de.empty(),ua)}static max(){return new ar(ge.max(),de.empty(),ua)}}function sP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==rP)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,s)=>{n(e)})}static reject(e){return new H((n,s)=>{s(e)})}static waitFor(e){return new H((n,s)=>{let r=0,i=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++i,o&&i===r&&n()},u=>s(u))}),o=!0,i===r&&n()})}static or(e){let n=H.resolve(!1);for(const s of e)n=n.next(r=>r?H.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new H((s,r)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{o[d]=h,++l,l===i&&s(o)},h=>r(h))}})}static doWhile(e,n){return new H((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function oP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ji(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=-1;function ac(t){return t==null}function Gu(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="";function lP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dm(e)),e=cP(t.get(n),e);return dm(e)}function cP(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case yy:n+="";break;default:n+=i}}return n}function dm(t){return t+yy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}}class Ha{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??kt.RED,this.left=r??kt.EMPTY,this.right=i??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new kt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return kt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fm(this.data.getIterator())}getIteratorFrom(e){return new fm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class fm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Hs([])}unionWith(e){let n=new bt(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $i(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new by("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const dP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=dP.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cr(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="server_timestamp",xy="__type__",wy="__previous_value__",Ty="__local_write_time__";function ah(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xy])==null?void 0:s.stringValue)===vy}function lc(t){const e=t.mapValue.fields[wy];return ah(e)?lc(e):e}function da(t){const e=lr(t.mapValue.fields[Ty].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,s,r,i,o,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const Dl="(default)";class ha{constructor(e,n){this.projectId=e,this.database=n||Dl}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database===Dl}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="__type__",pP="__max__",qa={mapValue:{}},mP="__vector__",Wu="value";function ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ah(t)?4:_P(t)?9007199254740991:gP(t)?10:11:be(28295,{value:t})}function is(t,e){if(t===e)return!0;const n=ur(t);if(n!==ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return da(t).isEqual(da(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=lr(r.timestampValue),l=lr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return cr(r.bytesValue).isEqual(cr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ut(r.geoPointValue.latitude)===ut(i.geoPointValue.latitude)&&ut(r.geoPointValue.longitude)===ut(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ut(r.integerValue)===ut(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=ut(r.doubleValue),l=ut(i.doubleValue);return o===l?Gu(o)===Gu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return $i(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},l=i.mapValue.fields||{};if(hm(o)!==hm(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!is(o[u],l[u])))return!1;return!0}(t,e);default:return be(52216,{left:t})}}function fa(t,e){return(t.values||[]).find(n=>is(n,e))!==void 0}function zi(t,e){if(t===e)return 0;const n=ur(t),s=ur(e);if(n!==s)return Se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=ut(i.integerValue||i.doubleValue),u=ut(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return pm(t.timestampValue,e.timestampValue);case 4:return pm(da(t),da(e));case 5:return qu(t.stringValue,e.stringValue);case 6:return function(i,o){const l=cr(i),u=cr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=Se(l[d],u[d]);if(h!==0)return h}return Se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Se(ut(i.latitude),ut(o.latitude));return l!==0?l:Se(ut(i.longitude),ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mm(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,g,x,b;const l=i.fields||{},u=o.fields||{},d=(f=l[Wu])==null?void 0:f.arrayValue,h=(g=u[Wu])==null?void 0:g.arrayValue,m=Se(((x=d==null?void 0:d.values)==null?void 0:x.length)||0,((b=h==null?void 0:h.values)==null?void 0:b.length)||0);return m!==0?m:mm(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===qa.mapValue&&o===qa.mapValue)return 0;if(i===qa.mapValue)return 1;if(o===qa.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const f=qu(u[m],h[m]);if(f!==0)return f;const g=zi(l[u[m]],d[h[m]]);if(g!==0)return g}return Se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function pm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=lr(t),s=lr(e),r=Se(n.seconds,s.seconds);return r!==0?r:Se(n.nanos,s.nanos)}function mm(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=zi(n[r],s[r]);if(i)return i}return Se(n.length,s.length)}function Fi(t){return Ku(t)}function Ku(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=lr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Ku(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${Ku(n.fields[o])}`;return r+"}"}(t.mapValue):be(61005,{value:t})}function rl(t){switch(ur(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lc(t);return e?16+rl(e):16;case 5:return 2*t.stringValue.length;case 6:return cr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+rl(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return xa(s.fields,(i,o)=>{r+=i.length+rl(o)}),r}(t.mapValue);default:throw be(13486,{value:t})}}function Ju(t){return!!t&&"integerValue"in t}function lh(t){return!!t&&"arrayValue"in t}function gm(t){return!!t&&"nullValue"in t}function _m(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function su(t){return!!t&&"mapValue"in t}function gP(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fP])==null?void 0:s.stringValue)===mP}function Lo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Lo(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lo(t.arrayValue.values[n]);return e}return{...t}}function _P(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(n)}setAll(e){let n=nn.emptyPath(),s={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Lo(o):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];su(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){xa(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Yn(Lo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,r,i,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ft(e,0,ge.min(),ge.min(),ge.min(),Yn.empty(),0)}static newFoundDocument(e,n,s,r){return new Ft(e,1,n,ge.min(),s,r,0)}static newNoDocument(e,n){return new Ft(e,2,n,ge.min(),ge.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ge.min(),ge.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.position=e,this.inclusive=n}}function ym(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=de.comparator(de.fromName(o.referenceValue),n.key):s=zi(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function bm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n="asc"){this.field=e,this.dir=n}}function yP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{}class yt extends Ey{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vP(e,n,s):n==="array-contains"?new TP(e,s):n==="in"?new EP(e,s):n==="not-in"?new SP(e,s):n==="array-contains-any"?new IP(e,s):new yt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xP(e,s):new wP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zi(n,this.value)):n!==null&&ur(this.value)===ur(n)&&this.matchesComparison(zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends Ey{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new os(e,n)}matches(e){return Sy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sy(t){return t.op==="and"}function Iy(t){return bP(t)&&Sy(t)}function bP(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function Qu(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Fi(t.value);if(Iy(t))return t.filters.map(e=>Qu(e)).join(",");{const e=t.filters.map(n=>Qu(n)).join(",");return`${t.op}(${e})`}}function Ay(t,e){return t instanceof yt?function(s,r){return r instanceof yt&&s.op===r.op&&s.field.isEqual(r.field)&&is(s.value,r.value)}(t,e):t instanceof os?function(s,r){return r instanceof os&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,l)=>i&&Ay(o,r.filters[l]),!0):!1}(t,e):void be(19439)}function ky(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fi(n.value)}`}(t):t instanceof os?function(n){return n.op.toString()+" {"+n.getFilters().map(ky).join(" ,")+"}"}(t):"Filter"}class vP extends yt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class xP extends yt{constructor(e,n){super(e,"in",n),this.keys=Cy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wP extends yt{constructor(e,n){super(e,"not-in",n),this.keys=Cy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cy(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>de.fromName(s.referenceValue))}class TP extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lh(n)&&fa(n.arrayValue,this.value)}}class EP extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fa(this.value.arrayValue,n)}}class SP extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fa(this.value.arrayValue,n)}}class IP extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>fa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n=null,s=[],r=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function vm(t,e=null,n=[],s=[],r=null,i=null,o=null){return new AP(t,e,n,s,r,i,o)}function ch(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Qu(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fi(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fi(s)).join(",")),e.Te=n}return e.Te}function uh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ay(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bm(t.startAt,e.startAt)&&bm(t.endAt,e.endAt)}function Yu(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n=null,s=[],r=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kP(t,e,n,s,r,i,o,l){return new cc(t,e,n,s,r,i,o,l)}function dh(t){return new cc(t)}function xm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CP(t){return t.collectionGroup!==null}function $o(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new bt(nn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Nl(i,s))}),n.has(nn.keyField().canonicalString())||e.Ie.push(new Nl(nn.keyField(),s))}return e.Ie}function ss(t){const e=Ce(t);return e.Ee||(e.Ee=PP(e,$o(t))),e.Ee}function PP(t,e){if(t.limitType==="F")return vm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Nl(r.field,i)});const n=t.endAt?new Ol(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ol(t.startAt.position,t.startAt.inclusive):null;return vm(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Xu(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uc(t,e){return uh(ss(t),ss(e))&&t.limitType===e.limitType}function Py(t){return`${ch(ss(t))}|lt:${t.limitType}`}function li(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>ky(r)).join(", ")}]`),ac(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Fi(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Fi(r)).join(",")),`Target(${s})`}(ss(t))}; limitType=${t.limitType})`}function dc(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):de.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of $o(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,l,u){const d=ym(o,l,u);return o.inclusive?d<=0:d<0}(s.startAt,$o(s),r)||s.endAt&&!function(o,l,u){const d=ym(o,l,u);return o.inclusive?d>=0:d>0}(s.endAt,$o(s),r))}(t,e)}function RP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ry(t){return(e,n)=>{let s=!1;for(const r of $o(t)){const i=DP(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function DP(t,e,n){const s=t.field.isKeyField()?de.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?zi(u,d):be(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return uP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new ht(de.comparator);function dr(){return OP}const Dy=new ht(de.comparator);function Eo(...t){let e=Dy;for(const n of t)e=e.insert(n.key,n);return e}function NP(t){let e=Dy;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Nr(){return zo()}function Oy(){return zo()}function zo(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}const VP=new bt(de.comparator);function Re(...t){let e=VP;for(const n of t)e=e.add(n);return e}const MP=new bt(Se);function LP(){return MP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function zP(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function FP(t,e,n){return t instanceof ed?function(r,i){const o={fields:{[xy]:{stringValue:vy},[Ty]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ah(i)&&(i=lc(i)),i&&(o.fields[wy]=i),{mapValue:o}}(n,e):t instanceof Vl?Ny(t,e):t instanceof Ml?Vy(t,e):function(r,i){const o=UP(r,i),l=wm(o)+wm(r.Ae);return Ju(o)&&Ju(r.Ae)?zP(l):$P(r.serializer,l)}(t,e)}function jP(t,e,n){return t instanceof Vl?Ny(t,e):t instanceof Ml?Vy(t,e):n}function UP(t,e){return t instanceof td?function(s){return Ju(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class ed extends hc{}class Vl extends hc{constructor(e){super(),this.elements=e}}function Ny(t,e){const n=My(e);for(const s of t.elements)n.some(r=>is(r,s))||n.push(s);return{arrayValue:{values:n}}}class Ml extends hc{constructor(e){super(),this.elements=e}}function Vy(t,e){let n=My(e);for(const s of t.elements)n=n.filter(r=>!is(r,s));return{arrayValue:{values:n}}}class td extends hc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wm(t){return ut(t.integerValue||t.doubleValue)}function My(t){return lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BP(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Vl&&r instanceof Vl||s instanceof Ml&&r instanceof Ml?$i(s.elements,r.elements,is):s instanceof td&&r instanceof td?is(s.Ae,r.Ae):s instanceof ed&&r instanceof ed}(t.transform,e.transform)}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function il(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hh{}function Ly(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qP(t.key,Ur.none()):new fh(t.key,t.data,Ur.none());{const n=t.data,s=Yn.empty();let r=new bt(nn.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new fc(t.key,s,new Hs(r.toArray()),Ur.none())}}function HP(t,e,n){t instanceof fh?function(r,i,o){const l=r.value.clone(),u=Em(r.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fc?function(r,i,o){if(!il(r.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Em(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll($y(r)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fo(t,e,n,s){return t instanceof fh?function(i,o,l,u){if(!il(i.precondition,o))return l;const d=i.value.clone(),h=Sm(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof fc?function(i,o,l,u){if(!il(i.precondition,o))return l;const d=Sm(i.fieldTransforms,u,o),h=o.data;return h.setAll($y(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(i,o,l){return il(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Tm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&$i(s,r,(i,o)=>BP(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fh extends hh{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fc extends hh{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $y(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Em(t,e,n){const s=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,l=e.data.field(i.field);s.set(i.field,jP(o,l,n[r]))}return s}function Sm(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,FP(i,o,e))}return s}class qP extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&HP(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Oy();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(r.key)?null:l;const u=Ly(o,l);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(ge.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&$i(this.mutations,e.mutations,(n,s)=>Tm(n,s))&&$i(this.baseMutations,e.baseMutations,(n,s)=>Tm(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ae;function zy(t){if(t===void 0)return Ss("GRPC error has no .code"),Q.UNKNOWN;switch(t){case ft.OK:return Q.OK;case ft.CANCELLED:return Q.CANCELLED;case ft.UNKNOWN:return Q.UNKNOWN;case ft.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ft.INTERNAL:return Q.INTERNAL;case ft.UNAVAILABLE:return Q.UNAVAILABLE;case ft.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ft.NOT_FOUND:return Q.NOT_FOUND;case ft.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ft.ABORTED:return Q.ABORTED;case ft.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ft.DATA_LOSS:return Q.DATA_LOSS;default:return be(39323,{code:t})}}(Ae=ft||(ft={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Ys([4294967295,4294967295],0);function Im(t){const e=KP().encode(t),n=new uy;return n.update(e),new Uint8Array(n.digest())}function Am(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ys([n,s],0),new Ys([r,i],0)]}class ph{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(s<0)throw new So(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Ys.fromNumber(s)));return r.compare(JP)===1&&(r=new Ys([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Im(e),[s,r]=Am(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ph(i,r,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Im(e),[s,r]=Am(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,wa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pc(ge.min(),r,new ht(Se),dr(),Re())}}class wa{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wa(s,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class Fy{constructor(e,n){this.targetId=e,this.Ce=n}}class jy{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class km{constructor(){this.ve=0,this.Fe=Cm(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),s=Re();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:be(38017,{changeType:i})}}),new wa(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Cm()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QP{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=Za(),this.He=Za(),this.Ye=new ht(Se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(Yu(i))if(s===0){const o=new de(i.path);this.et(n,o,Ft.newNoDocument(o,ge.min()))}else st(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,l;try{o=cr(s).toUint8Array()}catch(u){if(u instanceof by)return Li("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ph(o,r,i)}catch(u){return Li(u instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Yu(l.target)){const u=new de(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ft.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let s=Re();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const r=new pc(e,n,this.Ye,this.je,s);return this.je=dr(),this.Je=Za(),this.He=Za(),this.Ye=new ht(Se),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new km,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new bt(Se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new bt(Se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new km),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Za(){return new ht(de.comparator)}function Cm(){return new ht(de.comparator)}const YP={asc:"ASCENDING",desc:"DESCENDING"},XP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eR={and:"AND",or:"OR"};class tR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nd(t,e){return t.useProto3Json||ac(e)?e:{value:e}}function nR(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ii(t){return st(!!t,49232),ge.fromTimestamp(function(n){const s=lr(n);return new mt(s.seconds,s.nanos)}(t))}function rR(t,e){return sd(t,e).canonicalString()}function sd(t,e){const n=function(r){return new tt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Uy(t){const e=tt.fromString(t);return st(Gy(e),10190,{key:e.toString()}),e}function ru(t,e){const n=Uy(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(Hy(n))}function By(t,e){return rR(t.databaseId,e)}function iR(t){const e=Uy(t);return e.length===4?tt.emptyPath():Hy(e)}function Pm(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hy(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oR(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:be(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(st(h===void 0||typeof h=="string",58123),Rt.fromBase64String(h||"")):(st(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?Q.UNKNOWN:zy(d.code);return new ae(h,d.message||"")}(o);n=new jy(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=ru(t,s.document.name),i=Ii(s.document.updateTime),o=s.document.createTime?Ii(s.document.createTime):ge.min(),l=new Yn({mapValue:{fields:s.document.fields}}),u=Ft.newFoundDocument(r,i,o,l),d=s.targetIds||[],h=s.removedTargetIds||[];n=new ol(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=ru(t,s.document),i=s.readTime?Ii(s.readTime):ge.min(),o=Ft.newNoDocument(r,i),l=s.removedTargetIds||[];n=new ol([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=ru(t,s.document),i=s.removedTargetIds||[];n=new ol([],i,r,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new WP(r,i),l=s.targetId;n=new Fy(l,o)}}return n}function aR(t,e){return{documents:[By(t,e.path)]}}function lR(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=By(t,r);const i=function(d){if(d.length!==0)return Zy(os.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(f){return{field:ci(f.field),direction:dR(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=nd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function cR(t){let e=iR(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){st(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const f=qy(m);return f instanceof os&&Iy(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(f=>function(x){return new Nl(ui(x.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(m){let f;return f=typeof m=="object"?m.value:m,ac(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(m){const f=!!m.before,g=m.values||[];return new Ol(g,f)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const f=!m.before,g=m.values||[];return new Ol(g,f)}(n.endAt)),kP(e,r,o,i,l,"F",u,d)}function uR(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qy(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ui(n.unaryFilter.field);return yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=ui(n.unaryFilter.field);return yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ui(n.unaryFilter.field);return yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ui(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(t):t.fieldFilter!==void 0?function(n){return yt.create(ui(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return os.create(n.compositeFilter.filters.map(s=>qy(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(t):be(30097,{filter:t})}function dR(t){return YP[t]}function hR(t){return XP[t]}function fR(t){return eR[t]}function ci(t){return{fieldPath:t.canonicalString()}}function ui(t){return nn.fromServerFormat(t.fieldPath)}function Zy(t){return t instanceof yt?function(n){if(n.op==="=="){if(_m(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NAN"}};if(gm(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_m(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NAN"}};if(gm(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(n.field),op:hR(n.op),value:n.value}}}(t):t instanceof os?function(n){const s=n.getFilters().map(r=>Zy(r));return s.length===1?s[0]:{compositeFilter:{op:fR(n.op),filters:s}}}(t):be(54877,{filter:t})}function Gy(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,s,r,i=ge.min(),o=ge.min(),l=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.yt=e}}function mR(t){const e=cR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.Cn=new _R}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ar.min())}updateCollectionGroup(e,n,s){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class _R{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new bt(tt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new bt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wy=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Wy,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ji(0)}static cr(){return new ji(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LruGarbageCollector",yR=1048576;function Om([t,e],[n,s]){const r=Se(t,n);return r===0?Se(e,s):r}class bR{constructor(e){this.Ir=e,this.buffer=new bt(Om),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Om(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(Dm,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ji(n)?se(Dm,"Ignoring IndexedDB error during garbage collection: ",n):await ic(n)}await this.Vr(3e5)})}}class xR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return H.resolve(oc.ce);const s=new bR(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Rm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rm):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,l,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,o=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(s=m,l=Date.now(),this.removeTargets(e,s,n))).next(m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(d=Date.now(),ai()<=ke.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:m})))}}function wR(t,e){return new xR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?H.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Fo(s.mutation,r,Hs.empty(),mt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Re()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Re()){const r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Eo();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Nr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Re()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,r){let i=dr();const o=zo(),l=function(){return zo()}();return n.forEach((u,d)=>{const h=s.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof fc)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Fo(h.mutation,d,h.mutation.getFieldMask(),mt.now())):o.set(d.key,Hs.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new ER(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=zo();let r=new ht((o,l)=>o-l),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=s.get(u)||Hs.empty();h=l.applyToLocalView(d,h),s.set(u,h);const m=(r.get(l.batchId)||Re()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,m=Oy();h.forEach(f=>{if(!i.has(f)){const g=Ly(n.get(f),s.get(f));g!==null&&m.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):H.resolve(Nr());let l=ua,u=i;return o.next(d=>H.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{u=u.insert(h,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,Re())).next(h=>({batchId:l,changes:NP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(s=>{let r=Eo();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=Eo();return this.indexManager.getCollectionParents(e,i).next(l=>H.forEach(l,u=>{const d=function(m,f){return new cc(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(h=>{h.forEach((m,f)=>{o=o.insert(m,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ft.newInvalidDocument(h)))});let l=Eo();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&Fo(h.mutation,d,Hs.empty(),mt.now()),dc(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ii(r.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:mR(r.bundledQuery),readTime:Ii(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.overlays=new ht(de.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Nr();return H.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),H.resolve()}getOverlaysForCollection(e,n,s){const r=Nr(),i=n.length+1,o=new de(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return H.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new ht((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=i.get(d.largestBatchId);h===null&&(h=Nr(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Nr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=r)););return H.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new GP(n,s));let i=this.qr.get(n);i===void 0&&(i=Re(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.Qr=new bt(Tt.$r),this.Ur=new bt(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Tt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Tt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new de(new tt([])),s=new Tt(n,e),r=new Tt(n,e+1),i=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new tt([])),s=new Tt(n,e),r=new Tt(n,e+1);let i=Re();return this.Ur.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Se(e.Yr,n.Yr)}static Kr(e,n){return Se(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new bt(Tt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZP(i,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new Tt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?aP:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Tt(n,0),r=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],o=>{const l=this.Xr(o.Yr);i.push(l)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new bt(Se);return n.forEach(r=>{const i=new Tt(r,0),o=new Tt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{s=s.add(l.Yr)})}),H.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;de.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new de(i),0);let l=new bt(Se);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(u.Yr)),!0)},o),H.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return H.forEach(n.mutations,r=>{const i=new Tt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Tt(n,0),r=this.Zr.firstAfterOrEqual(s);return H.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.ri=e,this.docs=function(){return new ht(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return H.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Ft.newInvalidDocument(r))}),H.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=dr();const o=n.path,l=new de(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||sP(nP(h),s)<=0||(r.has(h.key)||dc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,s,r){be(9500)}ii(e,n){return H.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new RR(this)}getSize(e){return H.resolve(this.size)}}class RR extends TR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.persistence=e,this.si=new Yr(n=>ch(n),uh),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.oi=0,this._i=new mh,this.targetCount=0,this.ai=ji.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ji(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),H.waitFor(i).next(()=>r)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return H.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),H.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return H.resolve(s)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.ui={},this.overlays={},this.ci=new oc(0),this.li=!1,this.li=!0,this.hi=new kR,this.referenceDelegate=e(this),this.Pi=new DR(this),this.indexManager=new gR,this.remoteDocumentCache=function(r){return new PR(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new pR(n),this.Ii=new IR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new CR(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const r=new OR(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class OR extends iP{constructor(e){super(),this.currentSequenceNumber=e}}class gh{constructor(e){this.persistence=e,this.Ri=new mh,this.Vi=null}static mi(e){return new gh(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),H.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,s=>{const r=de.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,ge.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ll{constructor(e,n){this.persistence=e,this.pi=new Yr(s=>lP(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=wR(this,n)}static mi(e,n){return new Ll(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?H.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(l=>{l||(s++,i.removeEntry(o,ge.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rl(e.data.value)),n}br(e,n,s){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return H.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Re(),r=Re();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _h(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vk()?8:oP(yk())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new NR;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(ai()<=ke.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(ai()<=ke.DEBUG&&se("QueryEngine","Query:",li(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(ai()<=ke.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(n))):H.resolve())}ys(e,n){if(xm(n))return H.resolve(null);let s=ss(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Xu(n,null,"F"),s=ss(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=Re(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Xu(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,s,r){return xm(n)||r.isEqual(ge.min())?H.resolve(null):this.ps.getDocuments(e,s).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?H.resolve(null):(ai()<=ke.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),li(n)),this.vs(e,o,n,tP(r,ua)).next(l=>l))})}Ds(e,n){let s=new bt(Ry(e));return n.forEach((r,i)=>{dc(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return ai()<=ke.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",li(n)),this.ps.getDocumentsMatchingQuery(e,n,ar.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="LocalStore",MR=3e8;class LR{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new ht(Se),this.xs=new Yr(i=>ch(i),uh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function $R(t,e,n,s){return new LR(t,e,n,s)}async function Jy(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],l=[];let u=Re();for(const d of r){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(s,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function Qy(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function zR(t,e){const n=Ce(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((h,m)=>{const f=r.get(m);if(!f)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,m)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,s)),r=r.insert(m,g),function(b,C,O){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=MR?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(f,g,h)&&l.push(n.Pi.updateTargetData(i,g))});let u=dr(),d=Re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(FR(i,o,e.documentUpdates).next(h=>{u=h.ks,d=h.qs})),!s.isEqual(ge.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(h)}return H.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=r,i))}function FR(t,e,n){let s=Re(),r=Re();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=dr();return n.forEach((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(ge.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):se(yh,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:r}})}function jR(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,H.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new qs(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function rd(t,e,n){const s=Ce(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Ji(o))throw o;se(yh,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Nm(t,e,n){const s=Ce(t);let r=ge.min(),i=Re();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const m=Ce(u),f=m.xs.get(h);return f!==void 0?H.resolve(m.Ms.get(f)):m.Pi.getTargetData(d,h)}(s,o,ss(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:ge.min(),n?i:Re())).next(l=>(UR(s,RP(e),l),{documents:l,Qs:i})))}function UR(t,e,n){let s=t.Os.get(e)||ge.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class Vm{constructor(){this.activeTargetIds=LP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BR{constructor(){this.Mo=new Vm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="ConnectivityMonitor";class Lm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(Mm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(Mm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga=null;function id(){return Ga===null?Ga=function(){return 268435456+Math.round(2147483648*Math.random())}():Ga++,"0x"+Ga.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="RestConnection",qR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Dl?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=id(),l=this.zo(e,n.toUriEncodedString());se(iu,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,i);const{host:d}=new URL(l),h=sh(d);return this.Jo(e,l,u,s,h).then(m=>(se(iu,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Li(iu,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",s),m})}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ki}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=qR[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class WR extends ZR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=id();return new Promise((l,u)=>{const d=new dy;d.setWithCredentials(!0),d.listenOnce(hy.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case sl.NO_ERROR:const m=d.getResponseJson();se(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case sl.TIMEOUT:se(Mt,`RPC '${e}' ${o} timed out`),u(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case sl.HTTP_ERROR:const f=d.getStatus();if(se(Mt,`RPC '${e}' ${o} failed with status:`,f,"response text:",d.getResponseText()),f>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const b=function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(V)>=0?V:Q.UNKNOWN}(x.status);u(new ae(b,x.message))}else u(new ae(Q.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{se(Mt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);se(Mt,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",h,s,15)})}T_(e,n,s){const r=id(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=my(),l=py(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const h=i.join("");se(Mt,`Creating RPC '${e}' stream ${r}: ${h}`,u);const m=o.createWebChannel(h,u);this.I_(m);let f=!1,g=!1;const x=new GR({Yo:C=>{g?se(Mt,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(f||(se(Mt,`Opening RPC '${e}' stream ${r} transport.`),m.open(),f=!0),se(Mt,`RPC '${e}' stream ${r} sending:`,C),m.send(C))},Zo:()=>m.close()}),b=(C,O,V)=>{C.listen(O,M=>{try{V(M)}catch(P){setTimeout(()=>{throw P},0)}})};return b(m,To.EventType.OPEN,()=>{g||(se(Mt,`RPC '${e}' stream ${r} transport opened.`),x.o_())}),b(m,To.EventType.CLOSE,()=>{g||(g=!0,se(Mt,`RPC '${e}' stream ${r} transport closed`),x.a_(),this.E_(m))}),b(m,To.EventType.ERROR,C=>{g||(g=!0,Li(Mt,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),x.a_(new ae(Q.UNAVAILABLE,"The operation could not be completed")))}),b(m,To.EventType.MESSAGE,C=>{var O;if(!g){const V=C.data[0];st(!!V,16349);const M=V,P=(M==null?void 0:M.error)||((O=M[0])==null?void 0:O.error);if(P){se(Mt,`RPC '${e}' stream ${r} received error:`,P);const D=P.status;let F=function(v){const k=ft[v];if(k!==void 0)return zy(k)}(D),S=P.message;F===void 0&&(F=Q.INTERNAL,S="Unknown error status: "+D+" with message "+P.message),g=!0,x.a_(new ae(F,S)),m.close()}else se(Mt,`RPC '${e}' stream ${r} received:`,V),x.u_(V)}}),b(l,fy.STAT_EVENT,C=>{C.stat===Hu.PROXY?se(Mt,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===Hu.NOPROXY&&se(Mt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ou(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){return new tR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="PersistentStream";class KR{constructor(e,n,s,r,i,o,l,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xy(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new ae(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se($m,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se($m,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JR extends KR{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oR(this.serializer,e),s=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Ii(o.readTime):ge.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=Yu(u)?{documents:aR(i,u)}:{query:lR(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=sR(i,o.resumeToken);const d=nd(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ge.min())>0){l.readTime=nR(i,o.snapshotVersion.toTimestamp());const d=nd(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=uR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class YR extends QR{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,sd(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(Q.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,sd(n,s),r,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(Q.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="RemoteStore";class e3{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{Ea(this)&&(se(Ui,"Restarting streams for network reachability change."),await async function(u){const d=Ce(u);d.Ea.add(4),await Ta(d),d.Ra.set("Unknown"),d.Ea.delete(4),await mc(d)}(this))})}),this.Ra=new XR(s,r)}}async function mc(t){if(Ea(t))for(const e of t.da)await e(!0)}async function Ta(t){for(const e of t.da)await e(!1)}function eb(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wh(n)?xh(n):Qi(n).O_()&&vh(n,e))}function bh(t,e){const n=Ce(t),s=Qi(n);n.Ia.delete(e),s.O_()&&tb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Ra.set("Unknown"))}function vh(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qi(t).Y_(e)}function tb(t,e){t.Va.Ue(e),Qi(t).Z_(e)}function xh(t){t.Va=new QP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Qi(t).start(),t.Ra.ua()}function wh(t){return Ea(t)&&!Qi(t).x_()&&t.Ia.size>0}function Ea(t){return Ce(t).Ea.size===0}function nb(t){t.Va=void 0}async function t3(t){t.Ra.set("Online")}async function n3(t){t.Ia.forEach((e,n)=>{vh(t,e)})}async function s3(t,e){nb(t),wh(t)?(t.Ra.ha(e),xh(t)):t.Ra.set("Unknown")}async function r3(t,e,n){if(t.Ra.set("Online"),e instanceof jy&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){se(Ui,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zm(t,s)}else if(e instanceof ol?t.Va.Ze(e):e instanceof Fy?t.Va.st(e):t.Va.tt(e),!n.isEqual(ge.min()))try{const s=await Qy(t.localStore);n.compareTo(s)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),tb(i,u);const m=new qs(h.target,u,d,h.sequenceNumber);vh(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){se(Ui,"Failed to raise snapshot:",s),await zm(t,s)}}async function zm(t,e,n){if(!Ji(e))throw e;t.Ea.add(1),await Ta(t),t.Ra.set("Offline"),n||(n=()=>Qy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Ui,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mc(t)})}async function Fm(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),se(Ui,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await Ta(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mc(n)}async function i3(t,e){const n=Ce(t);e?(n.Ea.delete(2),await mc(n)):e||(n.Ea.add(2),await Ta(n),n.Ra.set("Unknown"))}function Qi(t){return t.ma||(t.ma=function(n,s,r){const i=Ce(n);return i.sa(),new JR(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:t3.bind(null,t),t_:n3.bind(null,t),r_:s3.bind(null,t),H_:r3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),wh(t)?xh(t):t.Ra.set("Unknown")):(await t.ma.stop(),nb(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,l=new Th(e,n,o,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sb(t,e){if(Ss("AsyncQueue",`${e}: ${t}`),Ji(t))return new ae(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{static emptySet(e){return new Ai(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Eo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ai;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.ga=new ht(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Bi{constructor(e,n,s,r,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Bi(e,n,Ai.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class a3{constructor(){this.queries=Um(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Ce(n),i=r.queries;r.queries=Um(),i.forEach((o,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function Um(){return new Yr(t=>Py(t),uc)}async function l3(t,e){const n=Ce(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new o3,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=sb(o,`Initialization of query '${li(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Eh(n)}async function c3(t,e){const n=Ce(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function u3(t,e){const n=Ce(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&Eh(n)}function d3(t,e,n){const s=Ce(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Eh(t){t.Ca.forEach(e=>{e.next()})}var od,Bm;(Bm=od||(od={})).Ma="default",Bm.Cache="cache";class h3{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Bi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class f3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=Ry(e),this.tu=new Ai(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new jm,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,m)=>{const f=r.get(h),g=dc(this.query,m)?m:null,x=!!f&&this.mutatedKeys.has(f.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;f&&g?f.data.isEqual(g.data)?x!==b&&(s.track({type:3,doc:g}),C=!0):this.su(f,g)||(s.track({type:2,doc:g}),C=!0,(u&&this.eu(g,u)>0||d&&this.eu(g,d)<0)&&(l=!0)):!f&&g?(s.track({type:0,doc:g}),C=!0):f&&!g&&(s.track({type:1,doc:f}),C=!0,(u||d)&&(l=!0)),C&&(g?(o=o.add(g),i=b?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(g,x){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:C})}};return b(g)-b(x)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Bi(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new ib(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new rb(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sh="SyncEngine";class p3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class m3{constructor(e){this.key=e,this.hu=!1}}class g3{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Yr(l=>Py(l),uc),this.Iu=new Map,this.Eu=new Set,this.du=new ht(de.comparator),this.Au=new Map,this.Ru=new mh,this.Vu={},this.mu=new Map,this.fu=ji.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _3(t,e,n=!0){const s=ub(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await ob(s,e,n,!0),r}async function y3(t,e){const n=ub(t);await ob(n,e,!0,!1)}async function ob(t,e,n,s){const r=await jR(t.localStore,ss(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await b3(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&eb(t.remoteStore,r),l}async function b3(t,e,n,s,r){t.pu=(m,f,g)=>async function(b,C,O,V){let M=C.view.ru(O);M.Cs&&(M=await Nm(b.localStore,C.query,!1).then(({documents:S})=>C.view.ru(S,M)));const P=V&&V.targetChanges.get(C.targetId),D=V&&V.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges(M,b.isPrimaryClient,P,D);return qm(b,C.targetId,F.au),F.snapshot}(t,m,f,g);const i=await Nm(t.localStore,e,!0),o=new f3(e,i.Qs),l=o.ru(i.documents),u=wa.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=o.applyChanges(l,t.isPrimaryClient,u);qm(t,n,d.au);const h=new p3(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function v3(t,e,n){const s=Ce(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(o=>!uc(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await rd(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&bh(s.remoteStore,r.targetId),ad(s,r.targetId)}).catch(ic)):(ad(s,r.targetId),await rd(s.localStore,r.targetId,!0))}async function x3(t,e){const n=Ce(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bh(n.remoteStore,s.targetId))}async function ab(t,e){const n=Ce(t);try{const s=await zR(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.Au.get(i);o&&(st(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?st(o.hu,14607):r.removedDocuments.size>0&&(st(o.hu,42227),o.hu=!1))}),await cb(n,s,e)}catch(s){await ic(s)}}function Hm(t,e,n){const s=Ce(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const u=Ce(o);u.onlineState=l;let d=!1;u.queries.forEach((h,m)=>{for(const f of m.Sa)f.va(l)&&(d=!0)}),d&&Eh(u)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function w3(t,e,n){const s=Ce(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new ht(de.comparator);o=o.insert(i,Ft.newNoDocument(i,ge.min()));const l=Re().add(i),u=new pc(ge.min(),new Map,new ht(Se),o,l);await ab(s,u),s.du=s.du.remove(i),s.Au.delete(e),Ih(s)}else await rd(s.localStore,e,!1).then(()=>ad(s,e,n)).catch(ic)}function ad(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||lb(t,s)})}function lb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ih(t))}function qm(t,e,n){for(const s of n)s instanceof rb?(t.Ru.addReference(s.key,e),T3(t,s)):s instanceof ib?(se(Sh,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||lb(t,s.key)):be(19791,{wu:s})}function T3(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(se(Sh,"New document in limbo: "+n),t.Eu.add(s),Ih(t))}function Ih(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(tt.fromString(e)),s=t.fu.next();t.Au.set(s,new m3(n)),t.du=t.du.insert(n,s),eb(t.remoteStore,new qs(ss(dh(n.path)),s,"TargetPurposeLimboResolution",oc.ce))}}async function cb(t,e,n){const s=Ce(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((l,u)=>{o.push(s.pu(u,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){r.push(d);const m=_h.As(u.targetId,d);i.push(m)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(u,d){const h=Ce(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,f=>H.forEach(f.Es,g=>h.persistence.referenceDelegate.addReference(m,f.targetId,g)).next(()=>H.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(m,f.targetId,g)))))}catch(m){if(!Ji(m))throw m;se(yh,"Failed to update sequence numbers: "+m)}for(const m of d){const f=m.targetId;if(!m.fromCache){const g=h.Ms.get(f),x=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(f,b)}}}(s.localStore,i))}async function E3(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){se(Sh,"User change. New user:",e.toKey());const s=await Jy(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new ae(Q.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cb(n,s.Ls)}}function S3(t,e){const n=Ce(t),s=n.Au.get(e);if(s&&s.hu)return Re().add(s.key);{let r=Re();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function ub(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w3.bind(null,e),e.Pu.H_=u3.bind(null,e.eventManager),e.Pu.yu=d3.bind(null,e.eventManager),e}class $l{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $R(this.persistence,new VR,e.initialUser,this.serializer)}Cu(e){return new Ky(gh.mi,this.serializer)}Du(e){return new BR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$l.provider={build:()=>new $l};class I3 extends $l{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Ll,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vR(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Ky(s=>Ll.mi(s,n),this.serializer)}}class ld{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Hm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=E3.bind(null,this.syncEngine),await i3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a3}()}createDatastore(e){const n=Yy(e.databaseInfo.databaseId),s=function(i){return new WR(i)}(e.databaseInfo);return function(i,o,l,u){return new YR(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,l){return new e3(s,r,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Hm(this.syncEngine,n,0),function(){return Lm.v()?new Lm:new HR}())}createSyncEngine(e,n){return function(r,i,o,l,u,d,h){const m=new g3(r,i,o,l,u,d);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=Ce(r);se(Ui,"RemoteStore shutting down."),i.Ea.add(5),await Ta(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ld.provider={build:()=>new ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="FirestoreClient";class k3{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=$t.UNAUTHENTICATED,this.clientId=oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{se(hr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(se(hr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sb(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function au(t,e){t.asyncQueue.verifyOperationInProgress(),se(hr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Jy(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Zm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C3(t);se(hr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Fm(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Fm(e.remoteStore,r)),t._onlineComponents=e}async function C3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(hr,"Using user provided OfflineComponentProvider");try{await au(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===Q.FAILED_PRECONDITION||r.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Li("Error using user provided cache. Falling back to memory cache: "+n),await au(t,new $l)}}else se(hr,"Using default OfflineComponentProvider"),await au(t,new I3(void 0));return t._offlineComponents}async function P3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(hr,"Using user provided OnlineComponentProvider"),await Zm(t,t._uninitializedComponentsProvider._online)):(se(hr,"Using default OnlineComponentProvider"),await Zm(t,new ld))),t._onlineComponents}async function R3(t){const e=await P3(t),n=e.eventManager;return n.onListen=_3.bind(null,e.syncEngine),n.onUnlisten=v3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x3.bind(null,e.syncEngine),n}function D3(t,e,n={}){const s=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const h=new A3({next:f=>{h.Nu(),o.enqueueAndForget(()=>c3(i,m));const g=f.docs.has(l);!g&&f.fromCache?d.reject(new ae(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&u&&u.source==="server"?d.reject(new ae(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),m=new h3(dh(l.path),h,{includeMetadataChanges:!0,qa:!0});return l3(i,m)}(await R3(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="firestore.googleapis.com",Wm=!0;class Km{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hb,this.ssl=Wm}else this.host=e.host,this.ssl=e.ssl??Wm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yR)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=db(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new jC;switch(s.type){case"firstParty":return new qC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Gm.get(n);s&&(se("ComponentProvider","Removing Datastore"),Gm.delete(n),s.terminate())}(this),Promise.resolve()}}function O3(t,e,n,s={}){var d;t=Zu(t,Ah);const r=sh(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(fk(`https://${l}`),_k("Firestore",!0)),i.host!==hb&&i.host!==l&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:r,emulatorOptions:s};if(!Cl(u,o)&&(t._setSettings(u),s.mockUserToken)){let h,m;if(typeof s.mockUserToken=="string")h=s.mockUserToken,m=$t.MOCK_USER;else{h=pk(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const f=s.mockUserToken.sub||s.mockUserToken.user_id;if(!f)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new $t(f)}t._authCredentials=new UC(new _y(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(va(n,sn._jsonSchema))return new sn(e,s||null,new de(tt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:gt("string",sn._jsonSchemaVersion),referencePath:gt("string")};class pa extends kh{constructor(e,n,s){super(e,n,dh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new de(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function N3(t,e,...n){if(t=Ik(t),arguments.length===1&&(e=oh.newId()),QC("doc","path",e),t instanceof Ah){const s=tt.fromString(e,...n);return lm(s),new sn(t,null,new de(s))}{if(!(t instanceof sn||t instanceof pa))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(tt.fromString(e,...n));return lm(s),new sn(t.firestore,t instanceof pa?t.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="AsyncQueue";class Qm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xy(this,"async_queue_retry"),this._c=()=>{const s=ou();s&&se(Jm,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ou();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ou();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new jr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ji(e))throw e;se(Jm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",Ym(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Th.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&be(47125,{Pc:Ym(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ym(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fb extends Ah{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Qm,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qm(e),this._firestoreClient=void 0,await e}}}function V3(t,e){const n=typeof t=="object"?t:kC(),s=typeof t=="string"?t:Dl,r=TC(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=dk("firestore");i&&O3(r,...i)}return r}function M3(t){if(t._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||L3(t),t._firestoreClient}function L3(t){var s,r,i;const e=t._freezeSettings(),n=function(l,u,d,h){return new hP(l,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,db(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new k3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Rt.fromBase64String(e))}catch(n){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(va(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:gt("string",Xn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xs._jsonSchemaVersion}}static fromJSON(e){if(va(e,Xs._jsonSchema))return new Xs(e.latitude,e.longitude)}}Xs._jsonSchemaVersion="firestore/geoPoint/1.0",Xs._jsonSchema={type:gt("string",Xs._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(va(e,er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new er(e.vectorValues);throw new ae(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:gt("string",er._jsonSchemaVersion),vectorValues:gt("object")};const $3=new RegExp("[~\\*/\\[\\]]");function z3(t,e,n){if(e.search($3)>=0)throw Xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new pb(...e.split("."))._internalPath}catch{throw Xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Xm(t,e,n,s,r){let i=`Function ${e}() called with invalid data`;i+=". ";let o="";return new ae(Q.INVALID_ARGUMENT,i+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class F3 extends mb{data(){return super.data()}}function gb(t,e){return typeof e=="string"?z3(t,e):e instanceof pb?e._internalPath:e._delegate._internalPath}class j3{convertValue(e,n="none"){switch(ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xa(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Wu].arrayValue)==null?void 0:r.values)==null?void 0:i.map(o=>ut(o.doubleValue));return new er(n)}convertGeoPoint(e){return new Xs(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=lc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(da(e));default:return null}}convertTimestamp(e){const n=lr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);st(Gy(s),9688,{name:e});const r=new ha(s.get(1),s.get(3)),i=new de(s.popFirst(5));return r.isEqual(n)||Ss(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Br extends mb{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Br._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:gt("string",Br._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class al extends Br{data(e={}){return super.data(e)}}class jo{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Io(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new al(this._firestore,this._userDataWriter,s.key,s,new Io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const u=new al(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Io(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new al(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Io(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:U3(l.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){t=Zu(t,sn);const e=Zu(t.firestore,fb);return D3(M3(e),t._key).then(n=>q3(e,t,n))}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:gt("string",jo._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class H3 extends j3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function q3(t,e,n){const s=n.docs.get(e._key),r=new H3(t);return new Br(t,r,e._key,s,new Io(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Ki=r})(AC),Rl(new la("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new fb(new BC(s.getProvider("auth-internal")),new ZC(o,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(d.options.projectId,h)}(o,r),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Si(rm,im,e),Si(rm,im,"esm2020")})();let Wa,cd;const Z3=t=>(Wa||(Wa=ay(t),cd=V3(Wa)),Wa),G3=async t=>{if(!cd)throw new Error("Firebase not initialized. Call initFirebase first.");try{const e=N3(cd,"decks",t),n=await B3(e);if(n.exists()){const s=n.data();return{meta:s.meta,slides:s.slides}}else return console.log("No such document!"),null}catch(e){throw console.error("Error getting document: ",e),e}},W3={key:0,class:"w-full h-screen bg-black overflow-hidden relative z-[9999]"},K3={key:0,class:"absolute inset-0 flex items-center justify-center bg-black z-50"},J3={key:1,class:"absolute inset-0 flex items-center justify-center bg-black z-50"},Q3={class:"text-center max-w-md px-6"},Y3={class:"text-white/50 mb-6"},X3={key:1,class:"min-h-screen pt-24 px-8 flex flex-col items-center justify-center text-center relative overflow-hidden"},e5={class:"flex flex-col md:flex-row gap-6 mb-24 relative z-10"},t5={id:"home-demo",class:"w-full max-w-[1400px] mx-auto relative z-10 mb-32 text-left px-8"},n5={class:"bg-[#050505] border border-white/10 rounded-3xl overflow-hidden shadow-2xl flex flex-col h-[700px] relative group ring-1 ring-white/5"},s5={class:"flex-1 flex flex-col md:flex-row overflow-hidden relative"},r5={class:"w-full md:w-3/4 h-full relative bg-black border-r border-white/10 order-2 md:order-1"},i5={key:0,class:"absolute inset-0 flex items-center justify-center text-white/10 pointer-events-none"},o5={class:"w-full md:w-1/4 h-48 md:h-full flex flex-col bg-[#080808] order-1 md:order-2"},a5={class:"px-4 py-3 text-[10px] font-bold text-blue-400/50 flex justify-between items-center border-b border-white/5 bg-blue-500/5 shrink-0"},l5={key:0,class:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"},eg=`{
  "meta": { "title": "Home Demo" },
  "slides": [
    {
      "type": "half",
      "sizing": "container",
      "meta": {
        "orbColor": "#8b5cf6"
      },
      "imageSide": "left",
      "image": "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2000",
      "tag": "Left Aligned",
      "title": "Image on Left",
      "paragraphs": [
        "The classic split screen. Image on the left, content on the right.",
        "Perfect for introducing a product or feature where the visual context leads the narrative."
      ],
      "cta": "Explore Left"
    },
    {
      "type": "statement",
      "sizing": "container",
      "meta": {
        "orbColor": "#ec4899"
      },
      "tag": "Minimal",
      "title": "Impactful Headlines",
      "subtitle": "The standard statement slide allows for massive typography to drive a point home."
    },
    {
      "type": "features",
      "sizing": "container",
      "title": "Grid System",
      "description": "The features layout automatically arranges cards into a responsive grid.",
      "features": [
        { "title": "Card One", "desc": "Standard card with an icon.", "icon": "fa-bolt" },
        { "title": "Card Two", "desc": "Cards scale on hover.", "icon": "fa-star" },
        { "title": "Card Three", "desc": "Fully responsive on mobile.", "icon": "fa-mobile" }
      ]
    },
    {
      "type": "timeline",
      "sizing": "container",
      "title": "Project History",
      "subtitle": "A visual journey through our milestones.",
      "timeline": [
        { "date": "Q1 2023", "title": "Inception", "description": "The initial concept was drafted." },
        { "date": "Q3 2023", "title": "Prototype", "description": "First functional MVP released." },
        { "date": "Q1 2024", "title": "Beta Launch", "description": "Public beta opened to users." }
      ]
    }
  ]
}`,c5=Ne({__name:"SiteHome",emits:["navigate"],setup(t){const e=he(""),n=he(!1);let s=null,r=null;const i=he(!1),o=he(!1),l=he(null),u={apiKey:"AIzaSyBdXdSj1HVd84vZrwxUVON5FAIWsRuWZNo",authDomain:"lumina-slides.firebaseapp.com",projectId:"lumina-slides",storageBucket:"lumina-slides.firebasestorage.app",messagingSenderId:"308455940060",appId:"1:308455940060:web:6f346ae1c4a19dcf773919"};function d(){const f=document.getElementById("home-demo");f&&f.scrollIntoView({behavior:"smooth"})}async function h(){if(e.value="",n.value=!0,!s){const x=document.getElementById("home-demo-container");x&&(x.innerHTML=""),await xs(),s=new qr("#home-demo-container",{ui:{visible:!0,showControls:!0},keyboard:!1,animation:{enabled:!0,durationIn:.5}})}let f=0;const g=setInterval(()=>{e.value+=eg[f],f++,f>=eg.length&&clearInterval(g)},15)}ns(e,f=>{if(!s)return;const g=th(f);if(g)if(g.slides&&Array.isArray(g.slides)){g.slides.forEach(b=>b.sizing="container"),s.load(g);const x=g.slides.filter(b=>b.title||b.type);if(x.length>0){const b=x.length-1;b>s.currentSlideIndex&&s.goTo(b)}}else s.load({meta:{title:"Demo"},slides:[{...g,sizing:"container"}]})});const m=async f=>{i.value=!0;try{Z3(u);const g=await G3(f);g?(o.value=!0,await xs(),setTimeout(()=>{r=new qr("#deck-viewer",{loop:!0,navigation:!0,keyboard:!0,ui:{visible:!0,showControls:!0,showProgressBar:!0,showSlideCount:!0}}),r.load(g),document.body.classList.add("viewing-deck")},100)):l.value="The presentation could not be found. It may have been deleted."}catch(g){console.error(g),l.value="Failed to load presentation. Please try again later."}finally{i.value=!1}};return fn(()=>{const g=new URLSearchParams(window.location.search).get("id");g&&m(g)}),Un(()=>{s&&s.destroy(),r&&r.destroy(),document.body.classList.remove("viewing-deck")}),(f,g)=>i.value||o.value?(L(),z("div",W3,[g[6]||(g[6]=a("div",{id:"deck-viewer",class:"w-full h-full"},null,-1)),i.value?(L(),z("div",K3,[...g[2]||(g[2]=[a("div",{class:"text-center"},[a("i",{class:"fa-solid fa-circle-notch fa-spin text-4xl text-blue-500 mb-4"}),a("p",{class:"text-white/50 animate-pulse"},"Loading presentation...")],-1)])])):oe("",!0),l.value?(L(),z("div",J3,[a("div",Q3,[g[3]||(g[3]=a("i",{class:"fa-solid fa-triangle-exclamation text-4xl text-red-500 mb-4"},null,-1)),g[4]||(g[4]=a("h3",{class:"text-xl font-bold text-white mb-2"},"Presentation Not Found",-1)),a("p",Y3,ee(l.value),1),g[5]||(g[5]=a("a",{href:"./",class:"px-6 py-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition"}," Go Home ",-1))])])):oe("",!0)])):(L(),z("div",X3,[g[12]||(g[12]=Ya('<div class="absolute top-0 left-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-[100px] pointer-events-none"></div><div class="absolute bottom-0 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-[100px] pointer-events-none"></div><h1 class="text-6xl md:text-8xl font-heading font-bold mb-6 tracking-tight relative z-10"> The Interface Layer<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400">for the Agentic Era.</span></h1><p class="text-xl md:text-2xl text-white/60 max-w-2xl mb-12 leading-relaxed relative z-10"> Turn text into high-performance UI. A deterministic, declarative engine specifically designed for LLM output. </p>',4)),a("div",e5,[a("button",{onClick:g[0]||(g[0]=x=>f.$emit("navigate","docs")),class:"px-8 py-4 rounded-full bg-white text-black text-lg font-bold hover:scale-105 transition duration-300 shadow-xl shadow-white/10"}," Read the Protocol "),a("button",{onClick:d,class:"px-8 py-4 rounded-full bg-white/10 border border-white/20 hover:bg-white/20 text-white text-lg font-bold backdrop-blur-md transition duration-300"}," Try the Demo ")]),a("div",t5,[a("div",n5,[a("div",{class:"h-12 bg-[#0A0A0A] border-b border-white/5 flex items-center px-4 justify-between shrink-0"},[g[8]||(g[8]=Ya('<div class="flex gap-2"><div class="w-3 h-3 rounded-full bg-red-500/20"></div><div class="w-3 h-3 rounded-full bg-yellow-500/20"></div><div class="w-3 h-3 rounded-full bg-green-500/20"></div></div><div class="text-xs font-mono text-white/20 uppercase tracking-widest hidden md:block">Agent Preview Environment</div>',2)),a("button",{onClick:h,class:"px-4 py-1.5 rounded-full bg-blue-500 hover:bg-blue-400 text-white font-bold text-[10px] uppercase tracking-wide shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2"},[...g[7]||(g[7]=[a("i",{class:"fa-solid fa-play"},null,-1),y(" Simulate Stream ",-1)])])]),a("div",s5,[a("div",r5,[g[10]||(g[10]=a("div",{id:"home-demo-container",class:"w-full h-full"},null,-1)),n.value?oe("",!0):(L(),z("div",i5,[...g[9]||(g[9]=[a("div",{class:"text-center"},[a("i",{class:"fa-solid fa-layer-group text-6xl mb-6 opacity-50"}),a("p",{class:"text-lg font-light"},"Waiting for Agent...")],-1)])]))]),a("div",o5,[a("div",a5,[g[11]||(g[11]=a("span",null,"INCOMING JSON STREAM",-1)),n.value?(L(),z("div",l5)):oe("",!0)]),Hi(a("textarea",{"onUpdate:modelValue":g[1]||(g[1]=x=>e.value=x),class:"flex-1 bg-transparent p-4 font-mono text-xs text-green-400 resize-none focus:outline-none leading-relaxed",placeholder:"// Waiting for LLM output...",spellcheck:"false"},null,512),[[qi,e.value]])])])])]),g[13]||(g[13]=Ya('<div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl w-full text-left pb-24 relative z-10"><div class="p-8 rounded-3xl bg-white/5 border border-white/10 hover:border-blue-500/30 transition duration-500 group"><div class="w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center mb-6 text-blue-400 group-hover:scale-110 transition"><i class="fa-solid fa-bolt text-xl"></i></div><h3 class="text-xl font-bold mb-3 text-white">Zero Hallucinations</h3><p class="text-white/50 leading-relaxed">Stop hoping the LLM generates valid HTML/CSS. Give it a strict schema and get pixel-perfect results every time.</p></div><div class="p-8 rounded-3xl bg-white/5 border border-white/10 hover:border-purple-500/30 transition duration-500 group"><div class="w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center mb-6 text-purple-400 group-hover:scale-110 transition"><i class="fa-solid fa-brain text-xl"></i></div><h3 class="text-xl font-bold mb-3">Semantic Layouts</h3><p class="text-white/50 leading-relaxed">Agents don&#39;t need to be designers. They just choose &quot;Timeline&quot; or &quot;Features&quot;, and the engine handles the aesthetics.</p></div><div class="p-8 rounded-3xl bg-white/5 border border-white/10 hover:border-green-500/30 transition duration-500 group"><div class="w-12 h-12 rounded-xl bg-green-500/10 flex items-center justify-center mb-6 text-green-400 group-hover:scale-110 transition"><i class="fa-solid fa-tower-broadcast text-xl"></i></div><h3 class="text-xl font-bold mb-3">Realtime Streaming</h3><p class="text-white/50 leading-relaxed">Our partial JSON parser renders UI frames <i>while</i> the LLM is still typing. No loading spinners.</p></div></div>',1))]))}}),u5={class:"min-h-screen pt-32 px-8 max-w-7xl mx-auto"},d5={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},h5=["href","onClick"],f5={class:"aspect-video bg-gradient-to-br from-gray-800 to-black group-hover:scale-105 transition duration-700 flex items-center justify-center"},p5={class:"text-4xl"},m5={class:"p-6 relative z-10 bg-black/80 backdrop-blur-sm -mt-2"},g5={class:"text-xl font-bold mb-2"},_5={class:"text-sm text-white/60 mb-4 h-10"},y5=Ne({__name:"SiteExamples",emits:["select-deck"],setup(t){const e=[{id:"deck",title:"Feature Showcase",description:"A comprehensive tour of all major features.",icon:""},{id:"layout-statement",title:"Statement Layout",description:"Bold typography for impactful messages.",icon:""},{id:"layout-half",title:"Split Layout",description:"Classic text and image pairing.",icon:""},{id:"layout-features",title:"Feature Grid",description:"Responsive grids for feature lists.",icon:""},{id:"layout-timeline",title:"Timeline",description:"Vertical chronological sequence.",icon:""},{id:"layout-steps",title:"Process Steps",description:"Horizontal sequential flow.",icon:""},{id:"layout-flex-demo",title:"Flex Layout",description:"Flow-based composition for LLMs.",icon:""},{id:"layout-video",title:"Video & Media",description:"Cinematic backgrounds and video elements.",icon:""},{id:"layout-chart",title:"Chart Layout",description:"Data visualization with Chart.js.",icon:""},{id:"layout-custom",title:"Custom HTML",description:"Full control with raw HTML/CSS.",icon:""},{id:"layout-embedded",title:"Embedded Widget",description:"Container-sized, perfect for embedding.",icon:""},{id:"theme-default",title:"Theme: Default",description:"Clean blue on dark. Professional.",icon:""},{id:"theme-ocean",title:"Theme: Ocean",description:"Cyan on slate. Calm and professional.",icon:""},{id:"theme-midnight",title:"Theme: Midnight",description:"Indigo on black. Bold and dramatic.",icon:""},{id:"theme-forest",title:"Theme: Forest",description:"Emerald greens for eco-friendly vibes.",icon:""},{id:"theme-cyber",title:"Theme: Cyber",description:"Neon pink futuristic with sci-fi fonts.",icon:""},{id:"theme-latte",title:"Theme: Latte",description:"Light mode with warm amber accents.",icon:""}],n="/lumina-slides/";return(s,r)=>(L(),z("div",u5,[r[1]||(r[1]=a("h2",{class:"text-4xl font-bold mb-12 text-center"},"Interactive Examples",-1)),a("div",d5,[(L(),z(Te,null,Ye(e,i=>a("a",{key:i.id,href:Qe(n)+"?deck="+i.id,class:"group relative rounded-2xl overflow-hidden border border-white/10 bg-white/5 hover:border-blue-500/50 transition duration-500 cursor-pointer",onClick:Yt(o=>s.$emit("select-deck",i.id),["prevent"])},[a("div",f5,[a("span",p5,ee(i.icon),1)]),a("div",m5,[a("h3",g5,ee(i.title),1),a("p",_5,ee(i.description),1),r[0]||(r[0]=a("div",{class:"flex items-center text-blue-400 text-sm font-bold uppercase tracking-wider group-hover:translate-x-2 transition"},[y(" View Demo "),a("span",{class:"ml-2"},"")],-1))])],8,h5)),64))])]))}}),b5={class:"flex flex-col lg:flex-row gap-6 h-[600px] lg:h-[400px] not-prose"},v5={class:"w-full lg:w-1/3 flex flex-col bg-[#0f0f0f] border border-white/10 rounded-xl overflow-hidden"},x5={class:"bg-white/5 px-4 py-2 border-b border-white/10 flex justify-between items-center"},w5={key:0,class:"text-xs text-red-400"},Lt=Ne({__name:"LivePreview",props:{initialCode:{}},setup(t){const e=t,n=he(e.initialCode),s=he(null),r=`preview-${Math.random().toString(36).substr(2,9)}`;let i=null;function o(){i&&i.destroy();const d=document.getElementById(r);d&&(d.innerHTML=""),i=new qr(`#${r}`,{ui:{visible:!0,showControls:!0,showProgressBar:!1},keyboard:!1,animation:{enabled:!0,durationIn:.5}}),l()}function l(){if(i)try{const d=th(n.value);d&&typeof d=="object"&&(Array.isArray(d.slides)?(d.slides.forEach(h=>h.sizing="container"),i.load(d)):i.load({meta:{title:"Preview"},slides:[{...d,sizing:"container"}]}),s.value=null)}catch{}}function u(){n.value=e.initialCode}return ns(n,()=>{l()}),fn(()=>{setTimeout(()=>{o()},100)}),Un(()=>{i&&i.destroy()}),(d,h)=>(L(),z("div",b5,[a("div",v5,[a("div",x5,[h[1]||(h[1]=a("span",{class:"text-xs font-bold text-white/50 uppercase tracking-wider"},"JSON Editor",-1)),s.value?(L(),z("span",w5,ee(s.value),1)):oe("",!0)]),Hi(a("textarea",{"onUpdate:modelValue":h[0]||(h[0]=m=>n.value=m),class:"flex-1 bg-transparent p-4 font-mono text-xs text-blue-300 resize-none focus:outline-none leading-relaxed",spellcheck:"false"},null,512),[[qi,n.value]])]),a("div",{class:"w-full lg:w-2/3 bg-black border border-white/10 rounded-xl overflow-hidden relative group"},[a("div",{id:r,class:"w-full h-full"}),a("button",{onClick:u,class:"absolute top-4 right-4 px-3 py-1.5 bg-black/50 hover:bg-black/80 text-white/50 hover:text-white text-xs rounded-lg backdrop-blur-sm border border-white/10 transition opacity-0 group-hover:opacity-100"},[...h[2]||(h[2]=[a("i",{class:"fa-solid fa-rotate-left mr-1"},null,-1),y(" Reset ",-1)])])])]))}}),T5={class:"min-h-screen pt-32 px-6 md:px-12 max-w-8xl mx-auto flex flex-col md:flex-row gap-16"},E5={class:"w-full md:w-64 flex-shrink-0 hidden md:block"},S5={class:"sticky top-32 space-y-10"},I5={class:"text-xs font-bold uppercase tracking-widest text-white/30 mb-4 pl-3"},A5={class:"space-y-1 relative border-l border-white/5"},k5=["onClick"],C5={class:"flex-1 w-full min-w-0 pb-32"},P5={key:0},R5={class:"my-8"},D5={class:"my-6"},O5={class:"my-6"},N5={key:1},V5={key:2},M5={key:3},L5={key:4},$5={key:5},z5={key:6},F5={key:7},j5={key:8},U5={key:9},B5={key:10},H5={key:11},q5={key:12},Z5={key:13},G5={class:"not-prose my-12"},W5={class:"bg-[#050505] border border-white/10 rounded-2xl overflow-hidden shadow-2xl flex flex-col h-[800px] relative group"},K5={class:"w-full h-48 flex flex-col bg-gray-900 border-b border-white/10 relative z-10"},J5={class:"bg-white/5 px-4 py-2 text-xs font-bold text-white/50 flex justify-between items-center"},Q5={key:0,class:"text-xs text-white/20 mr-32"},Y5={class:"w-full flex-1 relative bg-black min-h-[300px]"},X5={key:0,class:"absolute inset-0 flex items-center justify-center text-white/20"},eD={key:14},tD={class:"space-y-12 mt-12"},nD={class:"bg-[#0A0A0A] border border-white/10 rounded-xl overflow-hidden p-6"},sD={class:"flex justify-between items-center mb-4"},rD={class:"!mb-0 !bg-black/50"},iD={class:"bg-[#0A0A0A] border border-white/10 rounded-xl overflow-hidden p-6"},oD={class:"flex justify-between items-center mb-4"},aD={class:"!mb-0 !bg-black/50"},lD={class:"bg-[#0A0A0A] border border-white/10 rounded-xl overflow-hidden p-6"},cD={class:"flex justify-between items-center mb-4"},uD={class:"!mb-0 !bg-black/50"},dD={key:15},hD={key:16},fD={key:17},pD={class:"my-8"},mD={key:18},gD={class:"my-8"},_D={key:19},yD={class:"my-8"},bD={key:20},vD={class:"my-8"},xD={key:21},wD={class:"my-8"},TD={key:22},ED={class:"my-8"},SD={key:23},ID={class:"my-12"},AD={class:"space-y-12"},kD={class:"p-6 rounded-2xl bg-white/[0.02] border border-white/5"},CD={class:"p-6 rounded-2xl bg-white/[0.02] border border-white/5"},PD={class:"p-6 rounded-2xl bg-white/[0.02] border border-white/5"},RD={class:"p-6 rounded-2xl bg-white/[0.02] border border-white/5"},DD={class:"my-12"},OD={key:24},ND={class:"my-8"},VD={key:25},MD={class:"my-8"},tg=`{
  "meta": { "title": "Lumina Demo" },
  "slides": [
    {
      "type": "half",
      "sizing": "container",
      "meta": {
        "orbColor": "#8b5cf6"
      },
      "imageSide": "left",
      "image": "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2000",
      "tag": "Left Aligned",
      "title": "Image on Left",
      "paragraphs": [
        "The classic split screen. Image on the left, content on the right.",
        "Perfect for introducing a product or feature where the visual context leads the narrative."
      ],
      "cta": "Explore Left"
    },
    {
      "type": "statement",
      "sizing": "container",
      "meta": {
        "orbColor": "#ec4899"
      },
      "tag": "Minimal",
      "title": "Impactful Headlines",
      "subtitle": "The standard statement slide allows for massive typography to drive a point home."
    },
    {
      "type": "features",
      "sizing": "container",
      "title": "Grid System",
      "description": "The features layout automatically arranges cards into a responsive grid.",
      "features": [
        { "title": "Card One", "desc": "Standard card with an icon.", "icon": "fa-bolt" },
        { "title": "Card Two", "desc": "Cards scale on hover.", "icon": "fa-star" },
        { "title": "Card Three", "desc": "Fully responsive on mobile.", "icon": "fa-mobile" }
      ]
    },
    {
      "type": "timeline",
      "sizing": "container",
      "title": "Project History",
      "subtitle": "A visual journey through our milestones.",
      "timeline": [
        { "date": "Q1 2023", "title": "Inception", "description": "The initial concept was drafted." },
        { "date": "Q3 2023", "title": "Prototype", "description": "First functional MVP released." },
        { "date": "Q1 2024", "title": "Beta Launch", "description": "Public beta opened to users." }
      ]
    }
  ]
}`,LD=Ne({__name:"SiteDocs",setup(t){const e=he("intro"),n=he(""),s=he(!1);let r=null;async function i(){if(n.value="",s.value=!0,!r){const g=document.getElementById("streaming-demo-container");g&&(g.innerHTML=""),xs(()=>{r=new qr("#streaming-demo-container",{ui:{visible:!0,showControls:!0},keyboard:!1,animation:{enabled:!0,durationIn:.5}})})}let m=0;const f=setInterval(()=>{n.value+=tg[m],m++,m>=tg.length&&clearInterval(f)},10)}function o(m){e.value="agents-streaming",window.scrollTo({top:0,behavior:"smooth"}),n.value="",s.value=!0,setTimeout(()=>{if(!r){const x=document.getElementById("streaming-demo-container");x&&(x.innerHTML=""),r=new qr("#streaming-demo-container",{ui:{visible:!0},keyboard:!1,animation:{enabled:!0,durationIn:.5}})}let f=0;const g=setInterval(()=>{n.value+=m[f],f++,f>=m.length&&clearInterval(g)},5)},100)}const l={statement:`{
  "type": "statement",
  "sizing": "container",
  "t": "Big Impact",
  "s": "Created instantly from JSON.",
  "meta": { "variant": "v:g" }
}`,features:`{
  "type": "features",
  "sizing": "container",
  "t": "Core Capabilities",
  "fs": [
    { "t": "Fast", "desc": "60fps", "icon": "bolt" },
    { "t": "AI", "desc": "Native", "icon": "robot" },
    { "t": "Typed", "desc": "TS", "icon": "code" }
  ]
}`,timeline:`{
  "type": "timeline",
  "sizing": "container",
  "t": "Product Roadmap",
  "tl": [
    { "date": "Q1", "t": "Alpha", "desc": "Core Engine" },
    { "date": "Q2", "t": "Beta", "desc": "Public API" },
    { "date": "Q3", "t": "Launch", "desc": "Global Scale" }
  ]
}`,half:`{
  "type": "half",
  "sizing": "container",
  "imageSide": "left",
  "image": "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2000",
  "t": "Split Layout",
  "tag": "Visual",
  "paragraphs": ["Image on left, text on right."]
}`,steps:`{
  "type": "steps",
  "sizing": "container",
  "t": "Process Flow",
  "steps": [
    { "step": "01", "t": "Install", "desc": "npm install" },
    { "step": "02", "t": "Import", "desc": "import { Lumina }..." },
    { "step": "03", "t": "Launch", "desc": "new Lumina(...)" }
  ]
}`,flex:`{
  "type": "flex",
  "sizing": "container",
  "direction": "horizontal",
  "elements": [
    { "type": "image", "src": "./brains.png", "size": "half", "fill": true },
    { "type": "content", "size": "half", "valign": "center", "padding": "xl", "gap": "md", "elements": [
      { "type": "title", "text": "Visual Story", "size": "2xl" },
      { "type": "bullets", "items": ["Image fills height", "Content centered", "No coordinates"] },
      { "type": "button", "label": "Learn More", "variant": "primary" }
    ]}
  ]
}`,video:`{
  "type": "statement",
  "sizing": "container",
  "meta": { "orbColor": "#ec4899" },
  "background": {
    "type": "video",
    "src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",
    "opacity": 0.4
  },
  "tag": "Cinematic",
  "title": "Video Backgrounds",
  "subtitle": "Immersive support."
}`,video_half:`{
  "type": "half",
  "sizing": "container",
  "video": {
    "type": "video",
    "src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",
    "autoplay": true,
    "muted": true
  },
  "title": "Watch This"
}`,video_flex:`{
  "type": "flex",
  "sizing": "container",
  "elements": [
    { 
      "type": "video", 
      "src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
      "controls": true,
      "size": "half"
    }
  ]
}`};ns(n,m=>{if(!r)return;const f=th(m);if(f)if(f.slides&&Array.isArray(f.slides)){f.slides.forEach(b=>b.sizing="container"),r.load(f);const x=f.slides.filter(b=>b.title||b.type).length-1;x>r.currentSlideIndex&&r.goTo(x)}else r.load({meta:{title:"Demo"},slides:[{...f,sizing:"container"}]})}),Un(()=>{r&&r.destroy()});const u=[{title:"Getting Started",items:[{id:"intro",label:"Introduction"},{id:"install",label:"Installation"},{id:"setup",label:"Quick Start"},{id:"theming",label:"Theming & Presets"}]},{title:"Concepts",items:[{id:"deck",label:"Deck Structure"},{id:"slides",label:"Slide Layouts"},{id:"media",label:"Media & Video"},{id:"sizing",label:"Embedding & Sizing"},{id:"agents-intro",label:"Agent Protocol"},{id:"agents-tokens",label:"Token Optimization"}]},{title:"Layouts",items:[{id:"ref-statement",label:"Statement"},{id:"ref-half",label:"Half / Split"},{id:"ref-features",label:"Features"},{id:"ref-timeline",label:"Timeline"},{id:"ref-steps",label:"Steps"},{id:"ref-flex",label:"Flex"},{id:"ref-chart",label:"Chart"},{id:"ref-custom",label:"Custom HTML"},{id:"ref-auto",label:"Auto Strategy"}]},{title:"AI & LLM Integration",items:[{id:"agents-streaming",label:"Streaming & Realtime"},{id:"agents-intro",label:"Agent Protocol"},{id:"agents-tokens",label:"Token Optimization"}]},{title:"Advanced",items:[{id:"config",label:"Configuration"},{id:"events",label:"Events & API"},{id:"sizing",label:"Embedding"},{id:"speaker-notes",label:"Speaker Notes"}]}];function d(m){xs(()=>{const f=document.getElementById(m);f&&f.scrollIntoView({behavior:"smooth",block:"center"})})}function h(){window.scrollTo({top:0,behavior:"smooth"})}return(m,f)=>(L(),z("div",T5,[a("aside",E5,[a("div",S5,[(L(),z(Te,null,Ye(u,(g,x)=>a("div",{key:x},[a("h3",I5,ee(g.title),1),a("ul",A5,[(L(!0),z(Te,null,Ye(g.items,b=>(L(),z("li",{key:b.id},[a("button",{onClick:C=>{e.value=b.id,h()},class:ne(["group w-full text-left px-4 py-2 text-sm transition-all duration-300 border-l-2 -ml-[1px]",e.value===b.id?"border-blue-500 text-white font-medium bg-blue-500/5":"border-transparent text-white/50 hover:text-white hover:border-white/20"])},ee(b.label),11,k5)]))),128))])])),64))])]),a("main",C5,[we(Jo,{name:"fade",mode:"out-in"},{default:dn(()=>[(L(),z("div",{key:e.value,class:"doc-content max-w-6xl"},[e.value==="media"?(L(),z("div",P5,[f[5]||(f[5]=a("h1",null,"Media & Video",-1)),f[6]||(f[6]=a("p",{class:"lead"},"Lumina supports rich media experiences, including full-screen video backgrounds and inline video elements.",-1)),f[7]||(f[7]=a("h2",null,"Video Backgrounds",-1)),f[8]||(f[8]=a("p",null,[y("You can add a cinematic feel to any slide by using a video background. This works on "),a("strong",null,"all layouts"),y(". ")],-1)),a("div",R5,[we(Lt,{"initial-code":l.video},null,8,["initial-code"])]),f[9]||(f[9]=a("h2",null,"Video Elements",-1)),f[10]||(f[10]=a("p",null,"In 'Flex' and 'Half' layouts, you can use video instead of images.",-1)),f[11]||(f[11]=a("h3",null,"In Half Layout",-1)),a("div",D5,[we(Lt,{"initial-code":l.video_half},null,8,["initial-code"])]),f[12]||(f[12]=a("h3",null,"In Flex Layout",-1)),a("div",O5,[we(Lt,{"initial-code":l.video_flex},null,8,["initial-code"])])])):e.value==="intro"?(L(),z("div",N5,[...f[13]||(f[13]=[a("h1",null,"Introduction",-1),a("p",{class:"lead text-2xl text-white font-light"}," Lumina is a high-performance, Universal Presentation Engine. ",-1),a("p",null,[y(" Unlike traditional tools that trap your content in proprietary file formats, Lumina defines presentations as "),a("strong",null,"pure JSON data"),y(". This approach enables programmatic generation, easy version control, and dynamic storytelling experiences. ")],-1),a("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6 my-12 not-prose"},[a("div",{class:"group p-8 bg-white/[0.02] hover:bg-white/[0.04] rounded-2xl border border-white/5 hover:border-white/10 transition-all duration-500 hover:-translate-y-1 shadow-lg hover:shadow-2xl hover:shadow-blue-500/5"},[a("div",{class:"w-12 h-12 rounded-full bg-yellow-500/10 flex items-center justify-center mb-6"},[a("i",{class:"fa-solid fa-bolt text-xl text-yellow-400"})]),a("h3",{class:"text-xl font-bold mb-2 text-white group-hover:text-yellow-400 transition-colors"}," Fast by default"),a("p",{class:"text-sm text-white/50 leading-relaxed"},"Bundles Vue 3 and GSAP internally to ensure instant load times and buttery smooth 60fps animations.")]),a("div",{class:"group p-8 bg-white/[0.02] hover:bg-white/[0.04] rounded-2xl border border-white/5 hover:border-white/10 transition-all duration-500 hover:-translate-y-1 shadow-lg hover:shadow-2xl hover:shadow-blue-500/5"},[a("div",{class:"w-12 h-12 rounded-full bg-blue-500/10 flex items-center justify-center mb-6"},[a("i",{class:"fa-solid fa-code text-xl text-blue-400"})]),a("h3",{class:"text-xl font-bold mb-2 text-white group-hover:text-blue-400 transition-colors"}," Declarative JSON"),a("p",{class:"text-sm text-white/50 leading-relaxed"},"Manage your content as code. Git-diff your presentations. Generate decks from APIs.")])],-1)])])):e.value==="install"?(L(),z("div",V5,[...f[14]||(f[14]=[a("h1",null,"Installation",-1),a("p",null,"Lumina is available as a Universal NPM package. It works in any JavaScript environment (Vanilla, React, Vue, Svelte, etc.) without external dependencies.",-1),a("div",{class:"not-prose my-8"},[a("div",{class:"bg-[#0f0f0f] border border-white/10 rounded-xl overflow-hidden shadow-2xl"},[a("div",{class:"flex items-center px-4 py-2 border-b border-white/5 bg-white/[0.02]"},[a("div",{class:"flex gap-1.5"},[a("div",{class:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),a("div",{class:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),a("div",{class:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]),a("div",{class:"ml-4 text-xs text-white/30 font-mono"},"Terminal")]),a("div",{class:"p-6 overflow-x-auto"},[a("code",{class:"font-mono text-sm"},[a("span",{class:"text-purple-400"},"npm"),y(" install lumina-slides ")])])])],-1),a("h3",null,"Requirements",-1),a("ul",null,[a("li",null,[a("strong",null,"Node.js 18+"),y(" (For development)")]),a("li",null,[a("strong",null,"That's it!"),y(" (Vue and GSAP are bundled)")])],-1)])])):e.value==="setup"?(L(),z("div",M5,[...f[15]||(f[15]=[a("h1",null,"Quick Start",-1),a("p",null,"Import the stylesheet and initialize the engine in your main entry file. ",-1),a("pre",{class:"language-js"},[a("code",null,[a("span",{class:"text-purple-400"},"import"),y(" { Lumina } "),a("span",{class:"text-purple-400"},"from"),y(` 'lumina-slides';
`),a("span",{class:"text-purple-400"},"import"),y(` 'lumina-slides/dist/style.css';

`),a("span",{class:"text-gray-500"},"// Initialize seamlessly in any app"),y(`
`),a("span",{class:"text-blue-400"},"const"),y(" engine = "),a("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
    loop: `),a("span",{class:"text-yellow-400"},"true"),y(`,
    theme: 'ocean' 
});

`),a("span",{class:"text-gray-500"},"// Load your deck"),y(`
engine.load(myDeckData);`)])],-1)])])):e.value==="deck"?(L(),z("div",L5,[...f[16]||(f[16]=[a("h1",null,"Deck Structure",-1),a("p",null,'A "Deck" is a simple JSON object containing metadata and an array of slides.',-1),a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"meta"'),y(`: {
    `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"My Awesome Presentation"'),y(`,
    `),a("span",{class:"text-blue-400"},'"author"'),y(": "),a("span",{class:"text-green-400"},'"Dev Team"'),y(`
  },
  `),a("span",{class:"text-blue-400"},'"slides"'),y(`: [
     `),a("span",{class:"text-gray-500"},"// Slide objects go here..."),y(`
  ]
}`)])],-1)])])):e.value==="slides"?(L(),z("div",$5,[...f[17]||(f[17]=[a("h1",null,"Slide Layouts",-1),a("p",null,"Lumina comes with several built-in responsive layouts to handle common presentation scenarios handled elegantly.",-1),a("div",{class:"grid grid-cols-1 gap-12 mt-12 not-prose"},[a("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[a("div",{class:"flex items-center gap-4 mb-6"},[a("div",{class:"w-10 h-10 rounded-lg bg-blue-500/20 text-blue-400 flex items-center justify-center font-bold text-lg"}," 1"),a("div",null,[a("h2",{class:"text-2xl font-bold text-white mb-1"},"Statement"),a("p",{class:"text-sm text-white/50"},"High impact text for big ideas. Ideal for section headers or punchlines.")])]),a("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"statement"'),y(`,
  `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Hello World"'),y(`,
  `),a("span",{class:"text-blue-400"},'"subtitle"'),y(": "),a("span",{class:"text-green-400"},'"This is a statement slide."'),y(`
}`)])])])]),a("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[a("div",{class:"flex items-center gap-4 mb-6"},[a("div",{class:"w-10 h-10 rounded-lg bg-purple-500/20 text-purple-400 flex items-center justify-center font-bold text-lg"}," 2"),a("div",null,[a("h2",{class:"text-2xl font-bold text-white mb-1"},"Half / Split"),a("p",{class:"text-sm text-white/50"},[y("Image on one side, content on the other. Supports "),a("code",null,"left"),y(" or "),a("code",null,"right"),y(" alignment.")])])]),a("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"half"'),y(`,
  `),a("span",{class:"text-blue-400"},'"imageSide"'),y(": "),a("span",{class:"text-green-400"},'"right"'),y(`,
  `),a("span",{class:"text-blue-400"},'"image"'),y(": "),a("span",{class:"text-green-400"},'"/assets/demo.jpg"'),y(`,
  `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Split Layout"'),y(`,
  `),a("span",{class:"text-blue-400"},'"paragraphs"'),y(": ["),a("span",{class:"text-green-400"},'"Content goes here."'),y(`]
}`)])])])]),a("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[a("div",{class:"flex items-center gap-4 mb-6"},[a("div",{class:"w-10 h-10 rounded-lg bg-yellow-500/20 text-yellow-400 flex items-center justify-center font-bold text-lg"}," 3"),a("div",null,[a("h2",{class:"text-2xl font-bold text-white mb-1"},"Features"),a("p",{class:"text-sm text-white/50"},"A balanced grid of feature cards with icons. ")])]),a("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"features"'),y(`,
  `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Core Features"'),y(`,
  `),a("span",{class:"text-blue-400"},'"features"'),y(`: [
    { `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Fast"'),y(", "),a("span",{class:"text-blue-400"},'"icon"'),y(": "),a("span",{class:"text-green-400"},'"fa-bolt"'),y(", "),a("span",{class:"text-blue-400"},'"desc"'),y(": "),a("span",{class:"text-green-400"},'"60fps"'),y(` }
  ]
}`)])])])]),a("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[a("div",{class:"flex items-center gap-4 mb-6"},[a("div",{class:"w-10 h-10 rounded-lg bg-green-500/20 text-green-400 flex items-center justify-center font-bold text-lg"}," 4"),a("div",null,[a("h2",{class:"text-2xl font-bold text-white mb-1"},"Timeline"),a("p",{class:"text-sm text-white/50"},"Displays chronological events in a horizontal scrolling view.")])]),a("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"timeline"'),y(`,
  `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"History"'),y(`,
  `),a("span",{class:"text-blue-400"},'"timeline"'),y(`: [
    { `),a("span",{class:"text-blue-400"},'"date"'),y(": "),a("span",{class:"text-green-400"},'"2024"'),y(", "),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Launch"'),y(", "),a("span",{class:"text-blue-400"},'"description"'),y(": "),a("span",{class:"text-green-400"},'"V1 Released"'),y(` }
  ]
}`)])])])]),a("div",{class:"p-8 rounded-2xl bg-white/[0.02] border border-white/5 shadow-2xl"},[a("div",{class:"flex items-center gap-4 mb-6"},[a("div",{class:"w-10 h-10 rounded-lg bg-cyan-500/20 text-cyan-400 flex items-center justify-center font-bold text-lg"}," 5"),a("div",null,[a("h2",{class:"text-2xl font-bold text-white mb-1"},"Grid"),a("p",{class:"text-sm text-white/50"},"Flexible grid-based layout. Position elements with row/col. LLM-friendly.")])]),a("div",{class:"prose prose-invert max-w-none prose-pre:bg-black/50 prose-pre:border-none"},[a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"grid"'),y(`,
  `),a("span",{class:"text-blue-400"},'"gridSize"'),y(": "),a("span",{class:"text-yellow-400"},"4"),y(`,
  `),a("span",{class:"text-blue-400"},'"elements"'),y(`: [
    { `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"title"'),y(", "),a("span",{class:"text-blue-400"},'"text"'),y(": "),a("span",{class:"text-green-400"},'"Hello"'),y(", "),a("span",{class:"text-blue-400"},'"row"'),y(": "),a("span",{class:"text-yellow-400"},"1"),y(", "),a("span",{class:"text-blue-400"},'"col"'),y(": "),a("span",{class:"text-yellow-400"},"1"),y(", "),a("span",{class:"text-blue-400"},'"colSpan"'),y(": "),a("span",{class:"text-yellow-400"},"4"),y(` }
  ]
}`)])])])])],-1)])])):e.value==="sizing"?(L(),z("div",z5,[...f[18]||(f[18]=[a("h1",null,"Embedding & Sizing",-1),a("p",null,[y("By default, Lumina slides take up the full viewport height ("),a("code",null,"100vh"),y(") to create an immersive experience.")],-1),a("p",null,"However, if you want to embed a slide inside a smaller container (e.g., a dashboard widget or a blog post card), you can change the sizing mode.",-1),a("h3",null,"Container Mode",-1),a("p",null,[y("Set the "),a("code",null,"sizing"),y(" property to "),a("code",null,"'container'"),y(" in your slide data. This tells the engine to respect the parent container's height instead of forcing full screen. ")],-1),a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"timeline"'),y(`,
  `),a("span",{class:"text-blue-400"},'"sizing"'),y(": "),a("span",{class:"text-green-400"},'"container"'),y(", "),a("span",{class:"text-gray-500"},'// Default is "viewport"'),y(`
  `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Project History"'),y(`,
  `),a("span",{class:"text-blue-400"},'"timeline"'),y(`: [...]
}`)])],-1),a("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[a("h4",{class:"text-yellow-400 font-bold mb-2"},[a("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tip ")]),a("p",{class:"text-sm text-yellow-200/80 m-0"},[y("When using 'container' mode, ensure the parent element has a defined height (e.g., "),a("code",null,"h-96"),y(" or fixed pixels), otherwise the slide content might collapse or expand unexpectedly.")])],-1)])])):e.value==="config"?(L(),z("div",F5,[...f[19]||(f[19]=[a("h1",null,"Configuration",-1),a("p",null,[y("Pass these options to the "),a("code",null,"new Lumina()"),y(" constructor to customize behavior.")],-1),a("div",{class:"mt-12 space-y-12"},[a("div",null,[a("h2",{class:"text-white text-2xl font-bold mb-4"},"Animation Options"),a("pre",null,[a("code",null,[y(`animation: {
    `),a("span",{class:"text-blue-400"},"enabled"),y(": "),a("span",{class:"text-yellow-400"},"true"),y(`,
    `),a("span",{class:"text-blue-400"},"type"),y(": "),a("span",{class:"text-green-400"},"'cascade'"),y(", "),a("span",{class:"text-gray-500"},"// fade, slide, zoom, cascade"),y(`
    `),a("span",{class:"text-blue-400"},"durationIn"),y(": "),a("span",{class:"text-yellow-400"},"0.8"),y(`,
    `),a("span",{class:"text-blue-400"},"stagger"),y(": "),a("span",{class:"text-yellow-400"},"0.1"),y(`
}`)])])]),a("div",null,[a("h2",{class:"text-white text-2xl font-bold mb-4"},"UI Options"),a("pre",null,[a("code",null,[y(`ui: {
    `),a("span",{class:"text-blue-400"},"visible"),y(": "),a("span",{class:"text-yellow-400"},"true"),y(`,
    `),a("span",{class:"text-blue-400"},"showProgressBar"),y(": "),a("span",{class:"text-yellow-400"},"true"),y(`,
    `),a("span",{class:"text-blue-400"},"showControls"),y(": "),a("span",{class:"text-yellow-400"},"false"),y(),a("span",{class:"text-gray-500"},"// Hide arrows"),y(`
}`)])])])],-1)])])):e.value==="events"?(L(),z("div",j5,[...f[20]||(f[20]=[a("h1",null,"Events & API",-1),a("p",null,"Lumina emits events you can listen to for building custom interactivity or analytics.",-1),a("pre",null,[a("code",null,[y(`const engine = new Lumina(...);

`),a("span",{class:"text-gray-500"},"// Listen for slide changes"),y(`
engine.`),a("span",{class:"text-yellow-400"},"on"),y(`('slideChange', (payload) => {
    console.log(\`Now on slide \${payload.index}\`);
});

`),a("span",{class:"text-gray-500"},"// Listen for button clicks inside slides"),y(`
engine.`),a("span",{class:"text-yellow-400"},"on"),y(`('action', (payload) => {
    if (payload.type === 'cta') {
        window.open(payload.value, '_blank');
    }
});`)])],-1)])])):e.value==="theming"?(L(),z("div",U5,[...f[21]||(f[21]=[a("h1",null,"Theming",-1),a("p",{class:"lead"},"Customize colors, fonts, and visual style with built-in presets or create your own theme.",-1),a("div",{class:"my-12"},[a("h2",{class:"text-2xl font-bold text-white mb-6"},"Built-in Presets"),a("p",{class:"text-white/60 mb-8"},"Lumina comes with 6 beautiful theme presets. Pass the preset name as a string to instantly apply a complete look."),a("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 not-prose"},[a("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-blue-500/50 transition-all duration-300"},[a("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#030303"}},[a("span",{class:"text-2xl font-bold",style:{color:"#3b82f6"}},"Lumina")]),a("div",{class:"p-4 bg-black/50"},[a("div",{class:"flex items-center justify-between mb-2"},[a("h3",{class:"font-bold text-white"},"default"),a("div",{class:"flex gap-1"},[a("span",{class:"w-4 h-4 rounded-full",style:{background:"#3b82f6"}}),a("span",{class:"w-4 h-4 rounded-full",style:{background:"#030303"}})])]),a("p",{class:"text-xs text-white/50"},"Clean blue on dark. Professional and modern. ")])]),a("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-cyan-500/50 transition-all duration-300"},[a("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#0f172a"}},[a("span",{class:"text-2xl font-bold",style:{color:"#06b6d4"}},"Lumina")]),a("div",{class:"p-4 bg-black/50"},[a("div",{class:"flex items-center justify-between mb-2"},[a("h3",{class:"font-bold text-white"},"ocean"),a("div",{class:"flex gap-1"},[a("span",{class:"w-4 h-4 rounded-full",style:{background:"#06b6d4"}}),a("span",{class:"w-4 h-4 rounded-full",style:{background:"#0f172a"}})])]),a("p",{class:"text-xs text-white/50"},"Cyan accents on slate. Calm and focused.")])]),a("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-indigo-500/50 transition-all duration-300"},[a("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#000000"}},[a("span",{class:"text-2xl font-bold",style:{color:"#6366f1"}},"Lumina")]),a("div",{class:"p-4 bg-black/50"},[a("div",{class:"flex items-center justify-between mb-2"},[a("h3",{class:"font-bold text-white"},"midnight"),a("div",{class:"flex gap-1"},[a("span",{class:"w-4 h-4 rounded-full",style:{background:"#6366f1"}}),a("span",{class:"w-4 h-4 rounded-full",style:{background:"#000000"}})])]),a("p",{class:"text-xs text-white/50"},"Indigo on pure black. Bold and dramatic.")])]),a("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-emerald-500/50 transition-all duration-300"},[a("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#022c22"}},[a("span",{class:"text-2xl font-bold",style:{color:"#10b981"}},"Lumina")]),a("div",{class:"p-4 bg-black/50"},[a("div",{class:"flex items-center justify-between mb-2"},[a("h3",{class:"font-bold text-white"},"forest"),a("div",{class:"flex gap-1"},[a("span",{class:"w-4 h-4 rounded-full",style:{background:"#10b981"}}),a("span",{class:"w-4 h-4 rounded-full",style:{background:"#022c22"}})])]),a("p",{class:"text-xs text-white/50"},"Emerald green tones. Natural and fresh.")])]),a("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-pink-500/50 transition-all duration-300"},[a("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#18181b"}},[a("span",{class:"text-2xl font-bold",style:{color:"#f472b6","font-family":"'Orbitron', sans-serif"}},"Lumina")]),a("div",{class:"p-4 bg-black/50"},[a("div",{class:"flex items-center justify-between mb-2"},[a("h3",{class:"font-bold text-white"},"cyber"),a("div",{class:"flex gap-1"},[a("span",{class:"w-4 h-4 rounded-full",style:{background:"#f472b6"}}),a("span",{class:"w-4 h-4 rounded-full",style:{background:"#18181b"}})])]),a("p",{class:"text-xs text-white/50"},"Neon pink futuristic. Sci-fi vibes.")])]),a("div",{class:"rounded-xl overflow-hidden border border-white/10 group hover:border-amber-500/50 transition-all duration-300"},[a("div",{class:"h-32 p-6 flex items-center justify-center",style:{background:"#fffbeb"}},[a("span",{class:"text-2xl font-bold",style:{color:"#d97706","font-family":"'Playfair Display', serif"}},"Lumina")]),a("div",{class:"p-4 bg-black/50"},[a("div",{class:"flex items-center justify-between mb-2"},[a("h3",{class:"font-bold text-white"},"latte"),a("div",{class:"flex gap-1"},[a("span",{class:"w-4 h-4 rounded-full",style:{background:"#d97706"}}),a("span",{class:"w-4 h-4 rounded-full",style:{background:"#fffbeb"}})])]),a("p",{class:"text-xs text-white/50"},"Light mode with warm amber. Elegant.")])])])],-1),a("div",{class:"my-12"},[a("h2",{class:"text-2xl font-bold text-white mb-6"},"Using a Preset"),a("p",{class:"text-white/60 mb-4"},[y("Pass the preset name as a string to the "),a("code",null,"theme"),y(" option:")]),a("pre",null,[a("code",null,[a("span",{class:"text-blue-400"},"const"),y(" engine = "),a("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
  theme: `),a("span",{class:"text-green-400"},"'ocean'"),y("  "),a("span",{class:"text-gray-500"},"// or 'midnight', 'forest', 'cyber', 'latte'"),y(`
});

engine.load(myDeck);`)])])],-1),a("div",{class:"my-12"},[a("h2",{class:"text-2xl font-bold text-white mb-6"},"CSS Variables Reference"),a("p",{class:"text-white/60 mb-4"},"Lumina injects CSS custom properties that you can override in your stylesheets:"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Variable"),a("th",{class:"p-3 border-b border-white/10"},"Description"),a("th",{class:"p-3 border-b border-white/10"},"Default")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"--lumina-colors-primary"),a("td",{class:"p-3"},"Primary accent color"),a("td",{class:"p-3"},[a("span",{class:"inline-block w-4 h-4 rounded mr-2",style:{background:"#3b82f6"}}),y("#3b82f6")])]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"--lumina-colors-background"),a("td",{class:"p-3"},"Slide background color"),a("td",{class:"p-3"},[a("span",{class:"inline-block w-4 h-4 rounded mr-2 border border-white/20",style:{background:"#030303"}}),y("#030303")])]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"--lumina-colors-text"),a("td",{class:"p-3"},"Primary text color"),a("td",{class:"p-3"},[a("span",{class:"inline-block w-4 h-4 rounded mr-2",style:{background:"#ffffff"}}),y("#ffffff")])]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"--lumina-colors-muted"),a("td",{class:"p-3"},"Secondary/muted text"),a("td",{class:"p-3"},[a("span",{class:"inline-block w-4 h-4 rounded mr-2",style:{background:"#9ca3af"}}),y("#9ca3af")])]),a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"--lumina-font-heading"),a("td",{class:"p-3"},"Font family for headings"),a("td",{class:"p-3"},"Inter, sans-serif")]),a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"--lumina-font-body"),a("td",{class:"p-3"},"Font family for body text"),a("td",{class:"p-3"},"Inter, sans-serif")]),a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"--lumina-font-mono"),a("td",{class:"p-3"},"Monospace font"),a("td",{class:"p-3"},"monospace")])])])]),a("div",{class:"mt-6"},[a("h3",null,"Using CSS Override"),a("pre",{class:"language-css"},[a("code",null,[a("span",{class:"text-gray-500"},"/* Override in your CSS */"),y(`
`),a("span",{class:"text-yellow-400"},":root"),y(` {
  --lumina-colors-primary: `),a("span",{class:"text-green-400"},"#ec4899"),y(`;
  --lumina-colors-background: `),a("span",{class:"text-green-400"},"#1e1e2e"),y(`;
  --lumina-colors-text: `),a("span",{class:"text-green-400"},"#cdd6f4"),y(`;
  --lumina-colors-muted: `),a("span",{class:"text-green-400"},"#6c7086"),y(`;
  --lumina-font-heading: `),a("span",{class:"text-green-400"},"'Poppins'"),y(`, sans-serif;
}`)])])])],-1),a("div",{class:"my-12"},[a("h2",{class:"text-2xl font-bold text-white mb-6"},"Custom Theme Configuration"),a("p",{class:"text-white/60 mb-4"},"Pass a configuration object for full control over colors and fonts:"),a("pre",null,[a("code",null,[a("span",{class:"text-blue-400"},"const"),y(" engine = "),a("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
  theme: {
    colors: {
      primary: `),a("span",{class:"text-green-400"},"'#ec4899'"),y(",      "),a("span",{class:"text-gray-500"},"// Pink accent"),y(`
      background: `),a("span",{class:"text-green-400"},"'#1a1a2e'"),y(",  "),a("span",{class:"text-gray-500"},"// Dark purple bg"),y(`
      text: `),a("span",{class:"text-green-400"},"'#eaeaea'"),y(",        "),a("span",{class:"text-gray-500"},"// Light text"),y(`
      muted: `),a("span",{class:"text-green-400"},"'#888888'"),y("        "),a("span",{class:"text-gray-500"},"// Subdued text"),y(`
    },
    fonts: {
      heading: `),a("span",{class:"text-green-400"},"'Outfit, sans-serif'"),y(`,
      body: `),a("span",{class:"text-green-400"},"'Inter, sans-serif'"),y(`,
      mono: `),a("span",{class:"text-green-400"},"'Fira Code, monospace'"),y(`
    }
  }
});`)])])],-1),a("div",{class:"my-12"},[a("h2",{class:"text-2xl font-bold text-white mb-6"},"Partial Overrides"),a("p",{class:"text-white/60 mb-4"},"You don't need to specify every property. Lumina merges your values with the default theme:"),a("pre",null,[a("code",null,[a("span",{class:"text-gray-500"},"// Only change the primary color"),y(`
`),a("span",{class:"text-blue-400"},"const"),y(" engine = "),a("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
  theme: {
    colors: {
      primary: `),a("span",{class:"text-green-400"},"'#f59e0b'"),y("  "),a("span",{class:"text-gray-500"},"// Amber accent"),y(`
    }
  }
});

`),a("span",{class:"text-gray-500"},"// Everything else uses defaults!")])])],-1),a("div",{class:"my-12"},[a("h2",{class:"text-2xl font-bold text-white mb-6"},"Custom Fonts"),a("p",{class:"text-white/60 mb-4"},"For custom fonts, load them via Google Fonts or your own stylesheet first:"),a("pre",{class:"language-html"},[a("code",null,[a("span",{class:"text-gray-500"},"<!-- In your HTML head -->"),y(`
`),a("span",{class:"text-blue-400"},"<link"),y(" rel="),a("span",{class:"text-green-400"},'"preconnect"'),y(" href="),a("span",{class:"text-green-400"},'"https://fonts.googleapis.com"'),a("span",{class:"text-blue-400"},">"),y(`
`),a("span",{class:"text-blue-400"},"<link"),y(" href="),a("span",{class:"text-green-400"},'"https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&family=Rajdhani&display=swap"'),y(" rel="),a("span",{class:"text-green-400"},'"stylesheet"'),a("span",{class:"text-blue-400"},">")])]),a("p",{class:"text-white/60 mt-4 mb-4"},"Then reference them in your theme config:"),a("pre",null,[a("code",null,[a("span",{class:"text-blue-400"},"const"),y(" engine = "),a("span",{class:"text-blue-400"},"new"),y(` Lumina('#app', {
  theme: {
    fonts: {
      heading: `),a("span",{class:"text-green-400"},"'Outfit, sans-serif'"),y(`,
      body: `),a("span",{class:"text-green-400"},"'Rajdhani, sans-serif'"),y(`
    }
  }
});`)])])],-1),a("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[a("h4",{class:"text-yellow-400 font-bold mb-2"},[a("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tips")]),a("ul",{class:"text-sm text-yellow-200/80 space-y-2 m-0 list-none"},[a("li",null,[y(" "),a("strong",null,"Brand colors:"),y(" Set "),a("code",null,"primary"),y(" to your brand color for instant recognition")]),a("li",null,[y(" "),a("strong",null,"Dark vs Light:"),y(" Use "),a("code",null,"latte"),y(" preset for light mode presentations")]),a("li",null,[y(" "),a("strong",null,"Accessibility:"),y(" Ensure sufficient contrast between "),a("code",null,"text"),y(" and "),a("code",null,"background")]),a("li",null,[y(" "),a("strong",null,"Performance:"),y(" Only load font weights you actually use (400, 700) ")])])],-1)])])):e.value==="speaker-notes"?(L(),z("div",B5,[...f[22]||(f[22]=[a("h1",null,"Speaker Notes",-1),a("p",{class:"lead"},"Open a separate presenter view with notes, timer, and bidirectional navigation controls.",-1),a("h2",null,"Adding Notes to Slides",-1),a("p",null,[y("Add the "),a("code",null,"notes"),y(" property to any slide. Notes are only visible in the presenter view, not on the main display.")],-1),a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"statement"'),y(`,
  `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Welcome"'),y(`,
  `),a("span",{class:"text-blue-400"},'"subtitle"'),y(": "),a("span",{class:"text-green-400"},'"An introduction to our platform"'),y(`,
  `),a("span",{class:"text-blue-400"},'"notes"'),y(": "),a("span",{class:"text-green-400"},'"Greet the audience. Mention key stakeholders. Time: 2 minutes."'),y(`
}`)])],-1),a("h2",null,"Opening the Presenter View",-1),a("p",null,[y("Call "),a("code",null,"openSpeakerNotes()"),y(" on your Lumina instance to open the presenter window. ")],-1),a("pre",null,[a("code",null,[a("span",{class:"text-blue-400"},"const"),y(" engine = "),a("span",{class:"text-blue-400"},"new"),y(` Lumina('#app');
engine.load(deckData);

`),a("span",{class:"text-gray-500"},"// Open presenter view"),y(`
engine.`),a("span",{class:"text-yellow-400"},"openSpeakerNotes"),y(`();

`),a("span",{class:"text-gray-500"},"// Check if open"),y(`
`),a("span",{class:"text-blue-400"},"if"),y(` (engine.isSpeakerNotesOpen) {
    console.log('Presenter view active');
}

`),a("span",{class:"text-gray-500"},"// Close programmatically"),y(`
engine.`),a("span",{class:"text-yellow-400"},"closeSpeakerNotes"),y("();")])],-1),a("h3",null,"Presenter View Features",-1),a("ul",null,[a("li",null,[a("strong",null,"Current Notes"),y("  Formatted notes for the current slide")]),a("li",null,[a("strong",null,"Next Slide Preview"),y("  Title and type of the upcoming slide")]),a("li",null,[a("strong",null,"Timer"),y("  Start/pause/reset presentation timer")]),a("li",null,[a("strong",null,"Navigation"),y("  Synced controls (changes reflect in main window)")]),a("li",null,[a("strong",null,"Connection Status"),y("  Visual indicator of sync state")])],-1),a("h3",null,"Keyboard Shortcuts (Presenter View)",-1),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg my-6"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Key"),a("th",{class:"p-3 border-b border-white/10"},"Action")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono"}," / Space / Enter"),a("td",{class:"p-3"},"Next slide")]),a("tr",null,[a("td",{class:"p-3 font-mono"}," / Backspace"),a("td",{class:"p-3"},"Previous slide")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"T"),a("td",{class:"p-3"},"Toggle timer")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"R"),a("td",{class:"p-3"},"Reset timer")])])])],-1),a("div",{class:"mt-8 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg"},[a("h4",{class:"text-blue-400 font-bold mb-2"},[a("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tip ")]),a("p",{class:"text-sm text-blue-200/80 m-0"},"Position the presenter window on your secondary monitor while the presentation runs on the main display. Navigation from either window stays synchronized.")],-1)])])):e.value==="agents-intro"?(L(),z("div",H5,[...f[23]||(f[23]=[a("h1",null,"The Agent Protocol",-1),a("p",{class:"lead"},[y("Lumina is the first presentation engine designed for "),a("strong",null,"Agentic AI"),y(".")],-1),a("p",null,[y('Large Language Models (LLMs) are great at "What" (Content) but struggle with "How" (Pixel-perfect CSS). Lumina solves this by acting as a '),a("strong",null,"Semantic Interface Layer"),y(".")],-1),a("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-8 my-12 not-prose"},[a("div",{class:"bg-gray-900 border border-purple-500/20 rounded-xl p-8 relative overflow-hidden"},[a("div",{class:"absolute top-0 right-0 p-4 opacity-20"},[a("i",{class:"fa-solid fa-robot text-6xl text-purple-500"})]),a("h3",{class:"text-purple-400 font-bold mb-4"},"The Agent's Job"),a("ul",{class:"space-y-3 text-sm text-gray-400"},[a("li",{class:"flex gap-2"},[a("i",{class:"fa-solid fa-check text-green-500"}),y(" Generate Text Content")]),a("li",{class:"flex gap-2"},[a("i",{class:"fa-solid fa-check text-green-500"}),y(" Determine Structure")]),a("li",{class:"flex gap-2"},[a("i",{class:"fa-solid fa-check text-green-500"}),y(" Choose Semantic Layouts")])])]),a("div",{class:"bg-gray-900 border border-blue-500/20 rounded-xl p-8 relative overflow-hidden"},[a("div",{class:"absolute top-0 right-0 p-4 opacity-20"},[a("i",{class:"fa-solid fa-layer-group text-6xl text-blue-500"})]),a("h3",{class:"text-blue-400 font-bold mb-4"},"Lumina's Job"),a("ul",{class:"space-y-3 text-sm text-gray-400"},[a("li",{class:"flex gap-2"},[a("i",{class:"fa-solid fa-check text-blue-500"}),y(" 60fps Animations")]),a("li",{class:"flex gap-2"},[a("i",{class:"fa-solid fa-check text-blue-500"}),y(" Responsive Typography")]),a("li",{class:"flex gap-2"},[a("i",{class:"fa-solid fa-check text-blue-500"}),y(" Interactive State")])])])],-1),a("h2",null,"The Protocol",-1),a("p",null,"Agents communicate with Lumina via a JSON format that is strict enough for deterministic rendering but loose enough for LLMs.",-1)])])):e.value==="agents-tokens"?(L(),z("div",q5,[...f[24]||(f[24]=[a("h1",null,"Token Optimization",-1),a("p",{class:"lead"},"Reduce output size with short property aliases. Less characters = faster rendering and lower costs.",-1),a("div",{class:"not-prose grid gap-6 mt-8"},[a("div",{class:"bg-[#0A0A0A] border border-white/10 rounded-xl p-6"},[a("h3",{class:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-4"},[y("Standard JSON "),a("span",{class:"text-white/30 font-normal normal-case ml-2"},"~95 characters")]),a("pre",{class:"!mb-0 !p-0 !bg-transparent !border-none"},[a("code",null,`{
  "type": "statement",
  "title": "Quarterly Review",
  "subtitle": "Growth is exceeding expectations."
}`)])]),a("div",{class:"bg-[#0A0A0A] border border-green-500/20 rounded-xl p-6 relative"},[a("span",{class:"absolute top-4 right-4 text-xs font-bold text-green-400 bg-green-500/10 px-2 py-1 rounded"}," ~25% Shorter "),a("h3",{class:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-4"},[y("Optimized JSON "),a("span",{class:"text-white/30 font-normal normal-case ml-2"},"~70 characters")]),a("pre",{class:"!mb-0 !p-0 !bg-transparent !border-none"},[a("code",null,`{
  "type": "statement",
  "t": "Quarterly Review",
  "s": "Growth is exceeding expectations."
}`)])])],-1),a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Supported Aliases"),a("p",{class:"text-white/60 mb-4"},"Both full property names and aliases work interchangeably. Mix and match as needed."),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Full Key"),a("th",{class:"p-3 border-b border-white/10"},"Alias"),a("th",{class:"p-3 border-b border-white/10"},"Used In")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono"},"title"),a("td",{class:"p-3 font-mono text-green-400"},"t"),a("td",{class:"p-3 text-white/50"},"All layouts")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"subtitle"),a("td",{class:"p-3 font-mono text-green-400"},"s"),a("td",{class:"p-3 text-white/50"},"Statement, Timeline, Steps")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"description"),a("td",{class:"p-3 font-mono text-green-400"},"d"),a("td",{class:"p-3 text-white/50"},"Features, Timeline items, Steps items")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"features"),a("td",{class:"p-3 font-mono text-green-400"},"fs"),a("td",{class:"p-3 text-white/50"},"Features layout")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"timeline"),a("td",{class:"p-3 font-mono text-green-400"},"tl"),a("td",{class:"p-3 text-white/50"},"Timeline layout")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"steps"),a("td",{class:"p-3 font-mono text-green-400"},"st"),a("td",{class:"p-3 text-white/50"},"Steps layout")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"paragraphs"),a("td",{class:"p-3 font-mono text-green-400"},"p"),a("td",{class:"p-3 text-white/50"},"Half layout")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"image"),a("td",{class:"p-3 font-mono text-green-400"},"img"),a("td",{class:"p-3 text-white/50"},"Half layout")]),a("tr",null,[a("td",{class:"p-3 font-mono"},"imageSide"),a("td",{class:"p-3 font-mono text-green-400"},"side"),a("td",{class:"p-3 text-white/50"},"Half layout")])])])])],-1),a("div",{class:"mt-8 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg"},[a("h4",{class:"text-blue-400 font-bold mb-2"},[a("i",{class:"fa-solid fa-info-circle mr-2"}),y("How It Works")]),a("p",{class:"text-sm text-blue-200/80 m-0"},"Lumina's normalizer automatically expands aliases to full property names before rendering. You can use standard JSON for readability or aliases for efficiencyboth produce identical results.")],-1)])])):e.value==="agents-streaming"?(L(),z("div",Z5,[f[29]||(f[29]=a("h1",null,"Streaming & Realtime",-1)),f[30]||(f[30]=a("p",null,[y("Lumina enables a "),a("strong",null,'"Type & See"'),y(" experience. Using our partial parser, you can feed raw LLM streams directly into the engine.")],-1)),a("div",G5,[a("div",W5,[a("div",{class:"absolute top-4 right-4 z-20"},[a("button",{onClick:i,class:"px-5 py-1.5 rounded-full bg-blue-500 hover:bg-blue-400 text-white font-bold text-xs shadow-lg shadow-blue-500/20 transition-all transform hover:scale-105 flex items-center gap-2"},[...f[25]||(f[25]=[a("i",{class:"fa-solid fa-play"},null,-1),y(" Simulate AI Stream ",-1)])])]),a("div",K5,[a("div",J5,[f[26]||(f[26]=a("span",null,"LLM JSON OUTPUT",-1)),s.value?(L(),z("span",Q5,"Receiving Tokens...")):oe("",!0)]),Hi(a("textarea",{"onUpdate:modelValue":f[0]||(f[0]=g=>n.value=g),class:"flex-1 bg-transparent p-6 font-mono text-sm text-green-400 resize-none focus:outline-none",placeholder:"Waiting for tokens..."},null,512),[[qi,n.value]])]),a("div",Y5,[f[28]||(f[28]=a("div",{id:"streaming-demo-container",class:"w-full h-full"},null,-1)),s.value?oe("",!0):(L(),z("div",X5,[...f[27]||(f[27]=[a("div",{class:"text-center"},[a("i",{class:"fa-solid fa-tv text-4xl mb-4"}),a("p",{class:"text-sm"},"Preview UI Render")],-1)])]))])])])])):e.value==="agents-layouts"?(L(),z("div",eD,[f[44]||(f[44]=a("h1",null,"Layout Gallery",-1)),a("p",null,[f[31]||(f[31]=y("Lumina provides 5 core layouts optimized for different types of information. Click ",-1)),f[32]||(f[32]=a("strong",null,[a("i",{class:"fa-solid fa-play text-blue-400"}),y(" Visualize")],-1)),f[33]||(f[33]=y(" to load them into the ",-1)),a("a",{onClick:f[1]||(f[1]=Yt(g=>{e.value="agents-streaming",d("streaming-demo-container")},["prevent"])),href:"#",class:"text-blue-400 hover:underline"},"Streaming Demo"),f[34]||(f[34]=y(". ",-1))]),a("div",tD,[a("div",nD,[a("div",sD,[f[36]||(f[36]=a("h3",{class:"text-xl font-bold text-white flex items-center gap-3"},[a("span",{class:"px-2 py-0.5 rounded bg-blue-500/10 text-blue-400 text-xs uppercase font-bold"},"Statement")],-1)),a("button",{onClick:f[2]||(f[2]=g=>o(l.statement)),class:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-xs font-bold text-white/50 hover:text-white transition flex items-center gap-2 border border-white/5"},[...f[35]||(f[35]=[a("i",{class:"fa-solid fa-play text-blue-400"},null,-1),y(" Visualize ",-1)])])]),f[37]||(f[37]=a("p",{class:"text-sm text-gray-400 mb-4"},"Best for: Titles, Quotes, Big Ideas.",-1)),a("pre",rD,[a("code",null,ee(l.statement),1)])]),a("div",iD,[a("div",oD,[f[39]||(f[39]=a("h3",{class:"text-xl font-bold text-white flex items-center gap-3"},[a("span",{class:"px-2 py-0.5 rounded bg-yellow-500/10 text-yellow-400 text-xs uppercase font-bold"},"Features")],-1)),a("button",{onClick:f[3]||(f[3]=g=>o(l.features)),class:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-xs font-bold text-white/50 hover:text-white transition flex items-center gap-2 border border-white/5"},[...f[38]||(f[38]=[a("i",{class:"fa-solid fa-play text-yellow-400"},null,-1),y(" Visualize ",-1)])])]),f[40]||(f[40]=a("p",{class:"text-sm text-gray-400 mb-4"},"Best for: Lists, Grids, Stats, Benefits.",-1)),a("pre",aD,[a("code",null,ee(l.features),1)])]),a("div",lD,[a("div",cD,[f[42]||(f[42]=a("h3",{class:"text-xl font-bold text-white flex items-center gap-3"},[a("span",{class:"px-2 py-0.5 rounded bg-green-500/10 text-green-400 text-xs uppercase font-bold"},"Timeline")],-1)),a("button",{onClick:f[4]||(f[4]=g=>o(l.timeline)),class:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-xs font-bold text-white/50 hover:text-white transition flex items-center gap-2 border border-white/5"},[...f[41]||(f[41]=[a("i",{class:"fa-solid fa-play text-green-400"},null,-1),y(" Visualize ",-1)])])]),f[43]||(f[43]=a("p",{class:"text-sm text-gray-400 mb-4"},"Best for: Roadmaps, History, Changelogs.",-1)),a("pre",uD,[a("code",null,ee(l.timeline),1)])])])])):e.value==="agents-auto"?(L(),z("div",dD,[...f[45]||(f[45]=[a("h1",null,"Auto-Layouts",-1),a("p",null,[y("Sometimes the Agent doesn't know which layout is best. Just use "),a("code",null,"type: 'auto'"),y(". ")],-1),a("p",null,"Lumina analyzes the content structure to pick the best view automatically.",-1),a("div",{class:"p-6 bg-blue-500/10 border border-blue-500/20 rounded-xl my-8"},[a("h3",{class:"text-blue-400 font-bold mb-2"},"Detection Priority"),a("ul",{class:"list-disc list-inside text-sm text-blue-200/80 space-y-1"},[a("li",null,[y("If "),a("code",null,"timeline"),y(" array exists -> "),a("strong",null,"Timeline Layout")]),a("li",null,[y("If "),a("code",null,"steps"),y(" array exists -> "),a("strong",null,"Steps Layout")]),a("li",null,[y("If "),a("code",null,"features"),y(" array exists -> "),a("strong",null,"Features Layout")]),a("li",null,[y("If "),a("code",null,"image"),y(" exists -> "),a("strong",null,"Half Layout")]),a("li",null,[y("Otherwise -> "),a("strong",null,"Statement Layout")])])],-1),a("h3",null,"Example: Multi-Slide Auto Detection",-1),a("p",{class:"text-sm text-gray-400 mb-4"},[y("Each slide uses "),a("code",null,'type: "auto"'),y(" but renders differently based on its content structure.")],-1),a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"slides"'),y(`: [
    `),a("span",{class:"text-gray-500"},"// Renders as Statement (no special arrays detected)"),y(`
    {
      `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"auto"'),y(`,
      `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Welcome to Our Platform"'),y(`,
      `),a("span",{class:"text-blue-400"},'"subtitle"'),y(": "),a("span",{class:"text-green-400"},'"The future of presentations"'),y(`
    },
    `),a("span",{class:"text-gray-500"},"// Renders as Features (features array detected)"),y(`
    {
      `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"auto"'),y(`,
      `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Why Choose Us"'),y(`,
      `),a("span",{class:"text-blue-400"},'"features"'),y(`: [
        { `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Fast"'),y(", "),a("span",{class:"text-blue-400"},'"desc"'),y(": "),a("span",{class:"text-green-400"},'"60fps animations"'),y(", "),a("span",{class:"text-blue-400"},'"icon"'),y(": "),a("span",{class:"text-green-400"},'"fa-bolt"'),y(` },
        { `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Simple"'),y(", "),a("span",{class:"text-blue-400"},'"desc"'),y(": "),a("span",{class:"text-green-400"},'"JSON-first"'),y(", "),a("span",{class:"text-blue-400"},'"icon"'),y(": "),a("span",{class:"text-green-400"},'"fa-code"'),y(` },
        { `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Smart"'),y(", "),a("span",{class:"text-blue-400"},'"desc"'),y(": "),a("span",{class:"text-green-400"},'"AI-ready"'),y(", "),a("span",{class:"text-blue-400"},'"icon"'),y(": "),a("span",{class:"text-green-400"},'"fa-brain"'),y(` }
      ]
    },
    `),a("span",{class:"text-gray-500"},"// Renders as Timeline (timeline array detected)"),y(`
    {
      `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"auto"'),y(`,
      `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Our Journey"'),y(`,
      `),a("span",{class:"text-blue-400"},'"timeline"'),y(`: [
        { `),a("span",{class:"text-blue-400"},'"date"'),y(": "),a("span",{class:"text-green-400"},'"2023"'),y(", "),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Concept"'),y(", "),a("span",{class:"text-blue-400"},'"description"'),y(": "),a("span",{class:"text-green-400"},'"The idea was born"'),y(` },
        { `),a("span",{class:"text-blue-400"},'"date"'),y(": "),a("span",{class:"text-green-400"},'"2024"'),y(", "),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Launch"'),y(", "),a("span",{class:"text-blue-400"},'"description"'),y(": "),a("span",{class:"text-green-400"},'"V1.0 released"'),y(` }
      ]
    },
    `),a("span",{class:"text-gray-500"},"// Renders as Steps (steps array detected)"),y(`
    {
      `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"auto"'),y(`,
      `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Getting Started"'),y(`,
      `),a("span",{class:"text-blue-400"},'"steps"'),y(`: [
        { `),a("span",{class:"text-blue-400"},'"step"'),y(": "),a("span",{class:"text-yellow-400"},"1"),y(", "),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Install"'),y(", "),a("span",{class:"text-blue-400"},'"description"'),y(": "),a("span",{class:"text-green-400"},'"npm install lumina-slides"'),y(` },
        { `),a("span",{class:"text-blue-400"},'"step"'),y(": "),a("span",{class:"text-yellow-400"},"2"),y(", "),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Import"'),y(", "),a("span",{class:"text-blue-400"},'"description"'),y(": "),a("span",{class:"text-green-400"},'"Import Lumina class"'),y(` },
        { `),a("span",{class:"text-blue-400"},'"step"'),y(": "),a("span",{class:"text-yellow-400"},"3"),y(", "),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Create"'),y(", "),a("span",{class:"text-blue-400"},'"description"'),y(": "),a("span",{class:"text-green-400"},'"Define your slides"'),y(` }
      ]
    },
    `),a("span",{class:"text-gray-500"},"// Renders as Half (image property detected)"),y(`
    {
      `),a("span",{class:"text-blue-400"},'"type"'),y(": "),a("span",{class:"text-green-400"},'"auto"'),y(`,
      `),a("span",{class:"text-blue-400"},'"title"'),y(": "),a("span",{class:"text-green-400"},'"Visual Storytelling"'),y(`,
      `),a("span",{class:"text-blue-400"},'"image"'),y(": "),a("span",{class:"text-green-400"},'"https://images.unsplash.com/..."'),y(`,
      `),a("span",{class:"text-blue-400"},'"paragraphs"'),y(": ["),a("span",{class:"text-green-400"},'"Combine text and visuals seamlessly."'),y(`]
    }
  ]
}`)])],-1),a("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[a("h4",{class:"text-yellow-400 font-bold mb-2"},[a("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tip ")]),a("p",{class:"text-sm text-yellow-200/80 m-0"},[y("Using "),a("code",null,'type: "auto"'),y(" simplifies prompt engineering for AI agents. The LLM only needs to provide the data structure, and Lumina will handle the visual representation automatically.")])],-1)])])):e.value==="agents-state"?(L(),z("div",hD,[...f[46]||(f[46]=[a("h1",null,"State & Feedback Loop",-1),a("p",null,[y("To create a conversation, the Agent needs to know what the user did. Use "),a("code",null,"engine.exportState()"),y(". ")],-1),a("pre",null,[a("code",null,[y(`{
  `),a("span",{class:"text-blue-400"},'"narrative"'),y(": "),a("span",{class:"text-green-400"},`"User viewed 'Pricing' for 30s then clicked 'Sign Up'."`),y(`,
  `),a("span",{class:"text-blue-400"},'"engagementLevel"'),y(": "),a("span",{class:"text-green-400"},'"High"'),y(`
}`)])],-1)])])):e.value==="ref-statement"?(L(),z("div",fD,[f[48]||(f[48]=a("h1",null,"Statement Slide",-1)),f[49]||(f[49]=a("p",{class:"lead"},"Used for high-impact titles, opening covers, or emphatic quotes. It is designed to be punchy and minimal.",-1)),f[50]||(f[50]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"type"),a("td",{class:"p-3 font-mono text-xs"},'"statement"'),a("td",{class:"p-3"},"Required. Identifies the layout.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"title"),a("td",{class:"p-3 font-mono text-xs"},"string"),a("td",{class:"p-3"},"Main headline. Keep it short (3-6 words).")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"subtitle"),a("td",{class:"p-3 font-mono text-xs"},"string?"),a("td",{class:"p-3"},"Optional supporting text.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"tag"),a("td",{class:"p-3 font-mono text-xs"},"string?"),a("td",{class:"p-3"},"Small eyebrow tag above the title.")])])])])],-1)),a("div",pD,[f[47]||(f[47]=a("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),we(Lt,{"initial-code":l.statement},null,8,["initial-code"])])])):e.value==="ref-half"?(L(),z("div",mD,[f[52]||(f[52]=a("h1",null,"Half / Split Slide",-1)),f[53]||(f[53]=a("p",{class:"lead"},'Combines a strong visual with explanatory text. Ideal for product showcases or "about me" sections.',-1)),f[54]||(f[54]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"type"),a("td",{class:"p-3 font-mono text-xs"},'"half"'),a("td",{class:"p-3"},"Required.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"image"),a("td",{class:"p-3 font-mono text-xs"},"string"),a("td",{class:"p-3"},"URL to the image.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"imageSide"),a("td",{class:"p-3 font-mono text-xs"},'"left" | "right"'),a("td",{class:"p-3"},"Defaults to 'left'.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"title"),a("td",{class:"p-3 font-mono text-xs"},"string"),a("td",{class:"p-3"},"Headline text.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"paragraphs"),a("td",{class:"p-3 font-mono text-xs"},"string[]"),a("td",{class:"p-3"},"Array of text blocks.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"cta"),a("td",{class:"p-3 font-mono text-xs"},"string?"),a("td",{class:"p-3"},"Button label.")])])])])],-1)),a("div",gD,[f[51]||(f[51]=a("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),we(Lt,{"initial-code":l.half},null,8,["initial-code"])])])):e.value==="ref-features"?(L(),z("div",_D,[f[56]||(f[56]=a("h1",null,"Features Slide",-1)),f[57]||(f[57]=a("p",{class:"lead"},"Displays a grid of cards, perfect for listing benefits, stats, or services.",-1)),f[58]||(f[58]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"type"),a("td",{class:"p-3 font-mono text-xs"},'"features"'),a("td",{class:"p-3"},"Required.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"title"),a("td",{class:"p-3 font-mono text-xs"},"string"),a("td",{class:"p-3"},"Section header.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"description"),a("td",{class:"p-3 font-mono text-xs"},"string?"),a("td",{class:"p-3"},"Optional context.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"features"),a("td",{class:"p-3 font-mono text-xs"},"Feature[]"),a("td",{class:"p-3"},[y("Array of objects: "),a("code",null,"{ title, desc, icon? }"),y(".")])])])])])],-1)),a("div",yD,[f[55]||(f[55]=a("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),we(Lt,{"initial-code":l.features},null,8,["initial-code"])])])):e.value==="ref-timeline"?(L(),z("div",bD,[f[60]||(f[60]=a("h1",null,"Timeline Slide",-1)),f[61]||(f[61]=a("p",{class:"lead"},"Horizontal scrolling view for chronological events, roadmaps, or history.",-1)),f[62]||(f[62]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"type"),a("td",{class:"p-3 font-mono text-xs"},'"timeline"'),a("td",{class:"p-3"},"Required.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"title"),a("td",{class:"p-3 font-mono text-xs"},"string"),a("td",{class:"p-3"},"Header.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"timeline"),a("td",{class:"p-3 font-mono text-xs"},"Event[]"),a("td",{class:"p-3"},[y("Array: "),a("code",null,"{ date, title, description }"),y(".")])])])])])],-1)),a("div",vD,[f[59]||(f[59]=a("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),we(Lt,{"initial-code":l.timeline},null,8,["initial-code"])])])):e.value==="ref-steps"?(L(),z("div",xD,[f[64]||(f[64]=a("h1",null,"Steps Slide",-1)),f[65]||(f[65]=a("p",{class:"lead"},'Used for tutorials, "how-to" guides, or process flows.',-1)),f[66]||(f[66]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"type"),a("td",{class:"p-3 font-mono text-xs"},'"steps"'),a("td",{class:"p-3"},"Required.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"title"),a("td",{class:"p-3 font-mono text-xs"},"string"),a("td",{class:"p-3"},"Process name.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"steps"),a("td",{class:"p-3 font-mono text-xs"},"Step[]"),a("td",{class:"p-3"},[y("Array: "),a("code",null,"{ step, title, description }"),y(".")])])])])])],-1)),a("div",wD,[f[63]||(f[63]=a("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),we(Lt,{"initial-code":l.steps},null,8,["initial-code"])])])):e.value==="ref-flex"?(L(),z("div",TD,[f[68]||(f[68]=a("h1",null,"Flex Layout",-1)),f[69]||(f[69]=a("p",{class:"lead"},"Flow-based layout for composing slides using semantic sizing. No coordinates neededperfect for LLM generation.",-1)),f[70]||(f[70]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Slide Options"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"type"),a("td",{class:"p-3 font-mono text-xs"},'"flex"'),a("td",{class:"p-3"},"Required.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"direction"),a("td",{class:"p-3 font-mono text-xs"},'"horizontal" | "vertical"'),a("td",{class:"p-3"},'Main flow direction. Default: "horizontal".')]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"gap"),a("td",{class:"p-3 font-mono text-xs"},"SpacingToken"),a("td",{class:"p-3"},'Gap between elements. Default: "none".')]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"padding"),a("td",{class:"p-3 font-mono text-xs"},"SpacingToken"),a("td",{class:"p-3"},'Container padding. Default: "none".')]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"elements"),a("td",{class:"p-3 font-mono text-xs"},"FlexElement[]"),a("td",{class:"p-3"},"Array of flex elements in flow order.")])])])])],-1)),f[71]||(f[71]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Size Tokens"),a("p",null,[y("Each element can have a "),a("code",null,"size"),y(" property to control how much space it occupies: ")]),a("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-4 my-6 not-prose"},[a("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[a("code",null,"auto"),a("br"),a("span",{class:"text-xs text-white/40"},"flexible")]),a("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[a("code",null,"quarter"),a("br"),a("span",{class:"text-xs text-white/40"},"25%")]),a("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[a("code",null,"third"),a("br"),a("span",{class:"text-xs text-white/40"},"33%")]),a("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[a("code",null,"half"),a("br"),a("span",{class:"text-xs text-white/40"},"50%")]),a("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[a("code",null,"two-thirds"),a("br"),a("span",{class:"text-xs text-white/40"},"66%")]),a("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[a("code",null,"three-quarters"),a("br"),a("span",{class:"text-xs text-white/40"},"75%")]),a("div",{class:"p-4 bg-white/5 rounded-lg text-center"},[a("code",null,"full"),a("br"),a("span",{class:"text-xs text-white/40"},"100%")])])],-1)),f[72]||(f[72]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Element Types"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Properties"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"content"),a("td",{class:"p-3 font-mono text-xs"},"elements, valign, halign, gap, padding "),a("td",{class:"p-3"},"Container that groups child elements vertically.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"image"),a("td",{class:"p-3 font-mono text-xs"},"src, alt?, fill?, fit?, rounded?"),a("td",{class:"p-3"},"Visual media element.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"title"),a("td",{class:"p-3 font-mono text-xs"},"text, size?, align?"),a("td",{class:"p-3"},"Large heading (lg | xl | 2xl | 3xl).")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"text"),a("td",{class:"p-3 font-mono text-xs"},"text, align?, muted?"),a("td",{class:"p-3"},"Body paragraph text.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"bullets"),a("td",{class:"p-3 font-mono text-xs"},"items: string[]"),a("td",{class:"p-3"},"Unordered bullet list.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"ordered"),a("td",{class:"p-3 font-mono text-xs"},"items: string[]"),a("td",{class:"p-3"},"Numbered list.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"button"),a("td",{class:"p-3 font-mono text-xs"},"label, action?, variant?, fullWidth?"),a("td",{class:"p-3"},"CTA button (primary | secondary | outline | ghost).")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"timeline"),a("td",{class:"p-3 font-mono text-xs"},"items: TimelineItem[], compact?"),a("td",{class:"p-3"},"Embedded timeline.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"stepper"),a("td",{class:"p-3 font-mono text-xs"},"items: StepItem[], compact?"),a("td",{class:"p-3"},"Embedded step process.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"spacer"),a("td",{class:"p-3 font-mono text-xs"},"size?: SpacingToken"),a("td",{class:"p-3"},"Adds visual spacing.")])])])])],-1)),f[73]||(f[73]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Content Container"),a("p",null,[y("Use "),a("code",null,"content"),y(" to group related elements with alignment control:")]),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg mt-6"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Values"),a("th",{class:"p-3 border-b border-white/10"},"Default")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"valign"),a("td",{class:"p-3 font-mono text-xs"},"top | center | bottom"),a("td",{class:"p-3"},"center")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"halign"),a("td",{class:"p-3 font-mono text-xs"},"left | center | right"),a("td",{class:"p-3"},"left")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"gap"),a("td",{class:"p-3 font-mono text-xs"},"none | xs | sm | md | lg | xl | 2xl"),a("td",{class:"p-3"},"md")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"padding"),a("td",{class:"p-3 font-mono text-xs"},"none | xs | sm | md | lg | xl | 2xl"),a("td",{class:"p-3"},"lg")])])])])],-1)),a("div",ED,[f[67]||(f[67]=a("h2",{class:"text-xl font-bold text-white mb-4"},"Example",-1)),we(Lt,{"initial-code":l.flex},null,8,["initial-code"])])])):e.value==="ref-chart"?(L(),z("div",SD,[f[85]||(f[85]=a("h1",null,"Chart Slide",-1)),f[86]||(f[86]=a("p",{class:"lead"},"Visualize data extracted from CSV/Excel files. Perfect for LLM-generated reports and dashboards.",-1)),f[87]||(f[87]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"type"),a("td",{class:"p-3 font-mono text-xs"},'"chart"'),a("td",{class:"p-3"},"Required.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"chartType"),a("td",{class:"p-3 font-mono text-xs"},'"bar" | "line" | "pie" | "doughnut"'),a("td",{class:"p-3"},"Type of chart to render.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"title"),a("td",{class:"p-3 font-mono text-xs"},"string?"),a("td",{class:"p-3"},"Chart title (optional).")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"subtitle"),a("td",{class:"p-3 font-mono text-xs"},"string?"),a("td",{class:"p-3"},"Subtitle text (optional).")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"data"),a("td",{class:"p-3 font-mono text-xs"},"ChartData"),a("td",{class:"p-3"},[y("Object with "),a("code",null,"labels"),y(" and "),a("code",null,"datasets"),y(". ")])])])])])],-1)),f[88]||(f[88]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Data Structure"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"data.labels"),a("td",{class:"p-3 font-mono text-xs"},"string[]"),a("td",{class:"p-3"},"X-axis labels or pie segment names.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"data.datasets"),a("td",{class:"p-3 font-mono text-xs"},"Dataset[]"),a("td",{class:"p-3"},[y("Each with "),a("code",null,"label"),y(", "),a("code",null,"values"),y(", and optional "),a("code",null,"color"),y(".")])]),a("tr",null,[a("td",{class:"p-3 font-mono text-cyan-400"},"dataset.color"),a("td",{class:"p-3 font-mono text-xs"},"string?"),a("td",{class:"p-3"},[a("code",null,"c:p"),y(" (primary), "),a("code",null,"c:s"),y(" (secondary), "),a("code",null,"c:m"),y(" (muted), or hex. ")])])])])])],-1)),a("div",ID,[f[82]||(f[82]=a("h2",{class:"text-2xl font-bold text-white mb-6"},"Chart Types",-1)),a("div",AD,[a("div",kD,[f[74]||(f[74]=a("div",{class:"flex items-center gap-3 mb-4"},[a("div",{class:"w-10 h-10 rounded-lg bg-blue-500/20 text-blue-400 flex items-center justify-center"},[a("i",{class:"fa-solid fa-chart-column"})]),a("div",null,[a("h3",{class:"text-xl font-bold text-white"},"Bar Chart"),a("p",{class:"text-sm text-white/50"},"Best for comparing discrete categories")])],-1)),f[75]||(f[75]=a("p",{class:"text-white/60 text-sm mb-4"},"Use bar charts to compare values across categories. Ideal for revenue by quarter, sales by region, or any categorical comparison.",-1)),we(Lt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "bar",\r
  "title": "Sales by Region",\r
  "subtitle": "Q4 2024 Performance",\r
  "data": {\r
    "labels": ["North", "South", "East", "West"],\r
    "datasets": [{\r
      "label": "Sales ($K)",\r
      "values": [420, 380, 510, 290],\r
      "color": "c:p"\r
    }]\r
  }\r
}`})]),a("div",CD,[f[76]||(f[76]=a("div",{class:"flex items-center gap-3 mb-4"},[a("div",{class:"w-10 h-10 rounded-lg bg-green-500/20 text-green-400 flex items-center justify-center"},[a("i",{class:"fa-solid fa-chart-line"})]),a("div",null,[a("h3",{class:"text-xl font-bold text-white"},"Line Chart"),a("p",{class:"text-sm text-white/50"},"Best for trends over time")])],-1)),f[77]||(f[77]=a("p",{class:"text-white/60 text-sm mb-4"},"Use line charts to show trends and changes over time. Perfect for growth metrics, stock prices, or any time-series data. ",-1)),we(Lt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "line",\r
  "title": "Monthly Active Users",\r
  "subtitle": "2024 Growth Trend",\r
  "data": {\r
    "labels": ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],\r
    "datasets": [{\r
      "label": "Users (K)",\r
      "values": [45, 52, 61, 78, 95, 120],\r
      "color": "#10b981"\r
    }]\r
  }\r
}`})]),a("div",PD,[f[78]||(f[78]=a("div",{class:"flex items-center gap-3 mb-4"},[a("div",{class:"w-10 h-10 rounded-lg bg-purple-500/20 text-purple-400 flex items-center justify-center"},[a("i",{class:"fa-solid fa-chart-pie"})]),a("div",null,[a("h3",{class:"text-xl font-bold text-white"},"Pie Chart"),a("p",{class:"text-sm text-white/50"},"Best for showing proportions")])],-1)),f[79]||(f[79]=a("p",{class:"text-white/60 text-sm mb-4"},"Use pie charts to show how parts make up a whole. Ideal for market share, budget allocation, or percentage distributions. ",-1)),we(Lt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "pie",\r
  "title": "Market Share",\r
  "subtitle": "Industry Distribution Q4 2024",\r
  "data": {\r
    "labels": ["Product A", "Product B", "Product C", "Others"],\r
    "datasets": [{\r
      "label": "Share %",\r
      "values": [35, 28, 22, 15]\r
    }]\r
  }\r
}`})]),a("div",RD,[f[80]||(f[80]=a("div",{class:"flex items-center gap-3 mb-4"},[a("div",{class:"w-10 h-10 rounded-lg bg-amber-500/20 text-amber-400 flex items-center justify-center"},[a("i",{class:"fa-solid fa-circle-notch"})]),a("div",null,[a("h3",{class:"text-xl font-bold text-white"},"Doughnut Chart"),a("p",{class:"text-sm text-white/50"},"Modern alternative to pie charts")])],-1)),f[81]||(f[81]=a("p",{class:"text-white/60 text-sm mb-4"},"Similar to pie charts but with a hollow center. The modern look works great for dashboards and can display a metric in the center.",-1)),we(Lt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "doughnut",\r
  "title": "Budget Allocation",\r
  "subtitle": "2025 Planned Spend",\r
  "data": {\r
    "labels": ["Engineering", "Marketing", "Sales", "Operations"],\r
    "datasets": [{\r
      "label": "Budget",\r
      "values": [40, 25, 20, 15]\r
    }]\r
  }\r
}`})])])]),a("div",DD,[f[83]||(f[83]=a("h2",{class:"text-2xl font-bold text-white mb-6"},"Advanced: Multiple Datasets",-1)),f[84]||(f[84]=a("p",{class:"text-white/60 mb-6"},"Bar and line charts support multiple datasets for comparisons. Each dataset gets its own color and legend entry.",-1)),we(Lt,{"initial-code":`{\r
  "type": "chart",\r
  "chartType": "bar",\r
  "title": "Year-over-Year Comparison",\r
  "subtitle": "Revenue by Quarter",\r
  "data": {\r
    "labels": ["Q1", "Q2", "Q3", "Q4"],\r
    "datasets": [\r
      {\r
        "label": "2023",\r
        "values": [100, 120, 140, 160],\r
        "color": "#6b7280"\r
      },\r
      {\r
        "label": "2024",\r
        "values": [120, 150, 180, 220],\r
        "color": "c:p"\r
      }\r
    ]\r
  },\r
  video: \`{\r
  "type": "statement",\r
  "sizing": "container",\r
  "meta": { "orbColor": "#ec4899" },\r
  "background": {\r
    "type": "video",\r
    "src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",\r
    "opacity": 0.4\r
  },\r
  "tag": "Cinematic",\r
  "title": "Video Backgrounds",\r
  "subtitle": "Immersive support."\r
}\`\r
}`})]),f[89]||(f[89]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Color Tokens"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Token"),a("th",{class:"p-3 border-b border-white/10"},"Maps To"),a("th",{class:"p-3 border-b border-white/10"},"Default")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"c:p"),a("td",{class:"p-3"},"--lumina-colors-primary"),a("td",{class:"p-3"},[a("span",{class:"inline-block w-4 h-4 rounded bg-blue-500 mr-2"}),y("#3b82f6 ")])]),a("tr",null,[a("td",{class:"p-3 font-mono text-green-400"},"c:s"),a("td",{class:"p-3"},"--lumina-colors-secondary"),a("td",{class:"p-3"},[a("span",{class:"inline-block w-4 h-4 rounded bg-emerald-500 mr-2"}),y("#10b981 ")])]),a("tr",null,[a("td",{class:"p-3 font-mono text-gray-400"},"c:m"),a("td",{class:"p-3"},"--lumina-colors-muted"),a("td",{class:"p-3"},[a("span",{class:"inline-block w-4 h-4 rounded bg-gray-400 mr-2"}),y("#9ca3af ")])]),a("tr",null,[a("td",{class:"p-3 font-mono text-pink-400"},"#ec4899"),a("td",{class:"p-3"},"Direct hex color"),a("td",{class:"p-3"},[a("span",{class:"inline-block w-4 h-4 rounded bg-pink-500 mr-2"}),y("Custom ")])])])])])],-1)),f[90]||(f[90]=a("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[a("h4",{class:"text-yellow-400 font-bold mb-2"},[a("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tips ")]),a("ul",{class:"text-sm text-yellow-200/80 space-y-2 m-0 list-none"},[a("li",null,[y(" "),a("strong",null,"Bar charts"),y(" work best with 4-8 categories")]),a("li",null,[y(" "),a("strong",null,"Line charts"),y(" need at least 3 data points for smooth curves")]),a("li",null,[y(" "),a("strong",null,"Pie/Doughnut"),y(" should have 3-6 segments max for clarity")]),a("li",null,[y(" "),a("strong",null,"LLM Tip:"),y(" Have agents extract tabular data from CSVs and generate charts automatically")])])],-1))])):e.value==="ref-custom"?(L(),z("div",OD,[f[93]||(f[93]=a("h1",null,"Custom HTML Slide",-1)),f[94]||(f[94]=a("p",{class:"lead"},"Full control with raw HTML content. Inject any HTML structure with custom styling.",-1)),f[95]||(f[95]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Configuration"),a("div",{class:"overflow-x-auto border border-white/10 rounded-lg"},[a("table",{class:"w-full text-left text-sm text-gray-400"},[a("thead",{class:"bg-white/5 text-white font-bold"},[a("tr",null,[a("th",{class:"p-3 border-b border-white/10"},"Property"),a("th",{class:"p-3 border-b border-white/10"},"Type"),a("th",{class:"p-3 border-b border-white/10"},"Description")])]),a("tbody",{class:"divide-y divide-white/5"},[a("tr",null,[a("td",{class:"p-3 font-mono text-purple-400"},"type"),a("td",{class:"p-3 font-mono text-xs"},'"custom"'),a("td",{class:"p-3"},"Required.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"html"),a("td",{class:"p-3 font-mono text-xs"},"string"),a("td",{class:"p-3"},"Raw HTML content to render.")]),a("tr",null,[a("td",{class:"p-3 font-mono text-blue-400"},"css"),a("td",{class:"p-3 font-mono text-xs"},"string?"),a("td",{class:"p-3"},"Optional scoped CSS styles.")])])])])],-1)),a("div",ND,[f[91]||(f[91]=a("h2",{class:"text-xl font-bold text-white mb-4"},"Basic Example",-1)),f[92]||(f[92]=a("p",{class:"text-white/60 mb-6"},"Render any HTML structure with full styling control.",-1)),we(Lt,{"initial-code":`{\r
  "type": "custom",\r
  "html": "<div class=\\"custom-slide\\"><h1 class=\\"custom-title\\">Welcome!</h1><p class=\\"custom-text\\">This is fully custom HTML content.</p><div class=\\"custom-grid\\"><div class=\\"custom-card\\">Card 1</div><div class=\\"custom-card\\">Card 2</div><div class=\\"custom-card\\">Card 3</div></div></div>",\r
  "css": ".custom-slide { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100%; padding: 2rem; } .custom-title { font-size: 3rem; font-weight: bold; margin-bottom: 1rem; background: linear-gradient(90deg, #3b82f6, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; } .custom-text { font-size: 1.25rem; opacity: 0.7; margin-bottom: 2rem; } .custom-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; } .custom-card { padding: 2rem; background: rgba(255,255,255,0.05); border-radius: 1rem; border: 1px solid rgba(255,255,255,0.1); text-align: center; transition: transform 0.2s; } .custom-card:hover { transform: translateY(-4px); }"\r
}`})]),f[96]||(f[96]=a("div",{class:"my-8"},[a("h2",{class:"text-xl font-bold text-white mb-4"},"Use Cases"),a("ul",{class:"space-y-3 text-white/70"},[a("li",null,[a("strong",null,"Embedding iframes:"),y(" YouTube videos, maps, or external widgets")]),a("li",null,[a("strong",null,"Custom visualizations:"),y(" D3.js charts, SVG animations")]),a("li",null,[a("strong",null,"Brand-specific layouts:"),y(" Complex designs not covered by built-in layouts")]),a("li",null,[a("strong",null,"Interactive components:"),y(" Forms, quizzes, or custom buttons")])])],-1)),f[97]||(f[97]=a("div",{class:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg"},[a("h4",{class:"text-yellow-400 font-bold mb-2"},[a("i",{class:"fa-solid fa-lightbulb mr-2"}),y("Pro Tips")]),a("ul",{class:"text-sm text-yellow-200/80 space-y-2 m-0 list-none"},[a("li",null,[y(" "),a("strong",null,"Scoped CSS:"),y(" Styles are scoped to prevent conflicts with Lumina's base styles")]),a("li",null,[y(" "),a("strong",null,"Responsive:"),y(" Use CSS Grid or Flexbox with relative units for mobile support")]),a("li",null,[y(" "),a("strong",null,"LLM Usage:"),y(" Custom slides are great when the AI needs complete creative freedom")]),a("li",null,[y(" "),a("strong",null,"Sanitization:"),y(" HTML is rendered as-is; sanitize user input if needed")])])],-1))])):e.value==="ref-auto"?(L(),z("div",VD,[f[100]||(f[100]=a("h1",null,"Auto Strategy",-1)),f[101]||(f[101]=a("p",{class:"lead"},"Smartly chooses the best layout based on the data structure provided. Useful for AI agents or rapid prototyping.",-1)),f[102]||(f[102]=a("div",{class:"p-6 bg-blue-500/10 border border-blue-500/20 rounded-xl my-8"},[a("h3",{class:"text-blue-400 font-bold mb-2"},"How it works"),a("ul",{class:"list-disc list-inside text-sm text-blue-200/80 space-y-1"},[a("li",null,[y("If "),a("code",null,"chartType"),y(" + "),a("code",null,"data.datasets"),y(" exist -> "),a("strong",null,"Chart")]),a("li",null,[y("If "),a("code",null,"timeline"),y(" array exists -> "),a("strong",null,"Timeline")]),a("li",null,[y("If "),a("code",null,"steps"),y(" array exists -> "),a("strong",null,"Steps")]),a("li",null,[y("If "),a("code",null,"features"),y(" array exists -> "),a("strong",null,"Features")]),a("li",null,[y("If "),a("code",null,"image"),y(" exists -> "),a("strong",null,"Half")]),a("li",null,[y("Otherwise -> "),a("strong",null,"Statement")])])],-1)),a("div",MD,[f[98]||(f[98]=a("h2",{class:"text-xl font-bold text-white mb-4"},"Live Examples",-1)),f[99]||(f[99]=a("p",{class:"text-sm text-gray-400 mb-6"},[y("Use the navigation arrows to see how each slide renders with the same "),a("code",null,'type: "auto"'),y(" but different data structures.")],-1)),we(Lt,{"initial-code":`{\r
  "slides": [\r
    {\r
      "type": "auto",\r
      "title": "Welcome to Lumina",\r
      "subtitle": "The AI-Native Presentation Engine"\r
    },\r
    {\r
      "type": "auto",\r
      "title": "Core Features",\r
      "features": [\r
        { "title": "Fast", "desc": "60fps animations", "icon": "fa-bolt" },\r
        { "title": "Simple", "desc": "JSON-first API", "icon": "fa-code" },\r
        { "title": "Smart", "desc": "AI-ready engine", "icon": "fa-brain" }\r
      ]\r
    },\r
    {\r
      "type": "auto",\r
      "title": "Our Roadmap",\r
      "timeline": [\r
        { "date": "Q1", "title": "Alpha", "description": "Core Engine" },\r
        { "date": "Q2", "title": "Beta", "description": "Public Testing" },\r
        { "date": "Q4", "title": "Launch", "description": "V1.0 Release" }\r
      ]\r
    },\r
    {\r
      "type": "auto",\r
      "title": "Getting Started",\r
      "steps": [\r
        { "step": 1, "title": "Install", "description": "npm install lumina-slides" },\r
        { "step": 2, "title": "Import", "description": "Import the Lumina class" },\r
        { "step": 3, "title": "Create", "description": "Define your JSON slides" }\r
      ]\r
    },\r
    {\r
      "type": "auto",\r
      "title": "Visual Content",\r
      "image": "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=800",\r
      "paragraphs": ["Auto-detect image slides for visual storytelling."]\r
    }\r
  ]\r
}`})])])):oe("",!0)]))]),_:1})])]))}}),$D=Qr(LD,[["__scopeId","data-v-0f5ed3c2"]]),zD={class:"min-h-screen pt-24 px-4 lg:px-8 max-w-full"},FD={class:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]"},jD={class:"w-full lg:w-1/3 flex flex-col"},UD={class:"flex items-center justify-between mb-4"},BD={class:"flex gap-2"},HD={class:"flex-1 relative rounded-xl overflow-hidden border border-white/10 bg-black/50"},qD={key:0,class:"absolute bottom-0 left-0 right-0 px-4 py-2 bg-red-500/20 border-t border-red-500/30 text-red-400 text-xs font-mono"},ZD={class:"w-full lg:w-2/3 flex flex-col"},GD={class:"flex items-center justify-between mb-4"},WD={class:"flex items-center gap-4"},KD={key:0,class:"text-sm text-white/40"},JD={class:"flex gap-1"},QD={class:"flex-1 rounded-xl overflow-hidden border border-white/10 bg-black relative"},YD={key:0,class:"absolute inset-0 flex items-center justify-center text-white/30"},XD=Ne({__name:"SitePlayground",setup(t){const e=he(""),n=he(null),s=he(!1),r=he(null),i=he(null),o=he(0),l=he(!1);let u=null,d=null;const h={flex:`{
  "meta": { "title": "Playground" },
  "slides": [
    {
      "type": "flex",
      "direction": "horizontal",
      "notes": "**Demo slide** - Show how the flex layout works. Point out the image on the left. Explain content stacking. Mention the button actions.",
      "elements": [
        {
          "type": "image",
          "src": "./brains.png",
          "size": "half",
          "fill": true
        },
        {
          "type": "content",
          "size": "half",
          "valign": "center",
          "padding": "xl",
          "gap": "lg",
          "elements": [
            { "type": "title", "text": "Hello World", "size": "2xl" },
            { "type": "text", "text": "Edit this JSON to see changes in real-time.", "muted": true },
            { "type": "bullets", "items": ["Flow-based layout", "No coordinates", "LLM friendly"] },
            { "type": "button", "label": "Get Started", "variant": "primary" }
          ]
        }
      ]
    },
    {
      "type": "statement",
      "tag": "Next Steps",
      "title": "Try the Speaker Notes!",
      "subtitle": "Click the Notes button above to open the presenter view.",
      "notes": "This is the second slide. Encourage them to try the bidirectional sync. Show the timer functionality. Press T to toggle timer."
    }
  ]
}`,statement:`{
  "meta": { "title": "Playground" },
  "slides": [
    {
      "type": "statement",
      "tag": "Welcome",
      "title": "Hello World",
      "subtitle": "Edit this JSON to see changes instantly.",
      "notes": "Remember to greet the audience! Introduce yourself. Set expectations for the presentation."
    }
  ]
}`,custom:`{
  "meta": { "title": "Custom Slide" },
  "slides": [
    {
      "type": "custom",
      "html": "<div class='custom-container'><h1 class='custom-title'>Custom HTML Slide</h1><p class='custom-text'>This slide uses raw HTML content!</p><div class='custom-grid'><div class='custom-card'>Card 1</div><div class='custom-card'>Card 2</div><div class='custom-card'>Card 3</div></div></div>",
      "css": ".custom-container { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; padding: 2rem; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); } .custom-title { font-size: 4rem; font-weight: bold; background: linear-gradient(90deg, #00d4ff, #7c3aed); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem; } .custom-text { font-size: 1.5rem; color: rgba(255,255,255,0.7); margin-bottom: 3rem; } .custom-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; } .custom-card { padding: 2rem; background: rgba(255,255,255,0.05); border-radius: 1rem; border: 1px solid rgba(255,255,255,0.1); color: white; font-weight: 600; }",
      "notes": "This is a custom HTML slide with inline CSS. You have full control over the layout!"
    }
  ]
}`},m=M=>{e.value=h[M],b()},f=()=>{try{const M=JSON.parse(e.value);e.value=JSON.stringify(M,null,2)}catch{}},g=()=>{var M;if(e.value.trim())try{let P=JSON.parse(e.value);P.type&&!P.slides&&(P={meta:{title:"Exported Deck"},slides:[{...P,sizing:"container"}]}),P.slides&&P.slides.forEach(v=>v.sizing="container");const D=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${((M=P.meta)==null?void 0:M.title)||"Lumina Presentation"}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lumina-slides@8.2.5/dist/style.css">
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #000; font-family: sans-serif; }
        #app { width: 100vw; height: 100vh; }
    </style>
</head>
<body>
    <div id="app"></div>
    
    <!-- Lumina Engine (Universal Build) -->
    <script src="https://cdn.jsdelivr.net/npm/lumina-slides@8.2.5/dist/lumina-slides.umd.cjs"><\/script>
    
    <script>
        // Initialize when ready
        document.addEventListener('DOMContentLoaded', () => {
            const { Lumina } = LuminaSlides;
            
            // The JSON from your playground
            const deckData = ${JSON.stringify(P,null,4)};

            // Start the engine
            const engine = new Lumina('#app', {
                loop: true,
                navigation: true,
                ui: {
                    visible: true,
                    showSlideCount: true,
                    showControls: true,
                    showProgressBar: true
                },
                keys: {
                    next: ['ArrowRight', ' ', 'Enter'],
                    prev: ['ArrowLeft', 'Backspace']
                },
                animation: { enabled: true, durationIn: 0.5 }
            });
            
            engine.load(deckData);
        });
    <\/script>
</body>
</html>`,F=new Blob([D],{type:"text/html"}),S=URL.createObjectURL(F),w=document.createElement("a");w.href=S,w.download="lumina-deck.html",document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(S)}catch(P){alert("Invalid JSON: "+P.message)}},x=()=>{d&&clearTimeout(d),d=setTimeout(b,300)},b=async()=>{var M;if(n.value=null,!e.value.trim()){s.value=!1;return}try{let P=JSON.parse(e.value);P.type&&!P.slides&&(P={meta:{title:"Playground"},slides:[{...P,sizing:"container"}]}),P.slides&&P.slides.forEach(D=>D.sizing="container"),s.value=!0,u||(await xs(),u=new qr("#playground-container",{loop:!0,navigation:!0,ui:{visible:!0,showSlideCount:!0,showControls:!0,showProgressBar:!0},keys:{next:["ArrowRight"," ","Enter"],prev:["ArrowLeft","Backspace"]},animation:{enabled:!0,durationIn:.5}}),u.on("slideChange",D=>{i.value=D.index})),u.load(P),o.value=((M=P.slides)==null?void 0:M.length)||0,i.value=0}catch(P){n.value=P.message||"Invalid JSON",s.value=!1}},C=()=>{u&&u.prev()},O=()=>{u&&u.next()},V=()=>{if(!u)return;const M=u.openSpeakerNotes();if(M){l.value=!0;const P=setInterval(()=>{M.closed&&(l.value=!1,clearInterval(P))},500)}else alert("Popup blocked! Please allow popups for speaker notes.")};return fn(()=>{m("flex")}),Un(()=>{u&&(u.destroy(),u=null),d&&clearTimeout(d)}),(M,P)=>(L(),z("div",zD,[a("div",FD,[a("div",jD,[a("div",UD,[P[5]||(P[5]=a("h2",{class:"text-xl font-bold text-white"},"JSON Editor",-1)),a("div",BD,[a("button",{onClick:P[0]||(P[0]=D=>m("flex")),class:"px-3 py-1.5 text-xs font-bold uppercase bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition"}," Flex "),a("button",{onClick:P[1]||(P[1]=D=>m("statement")),class:"px-3 py-1.5 text-xs font-bold uppercase bg-purple-500/20 text-purple-400 rounded-lg hover:bg-purple-500/30 transition"}," Statement "),a("button",{onClick:P[2]||(P[2]=D=>m("custom")),class:"px-3 py-1.5 text-xs font-bold uppercase bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition"}," Custom "),a("button",{onClick:f,class:"px-3 py-1.5 text-xs font-bold uppercase bg-white/10 text-white/60 rounded-lg hover:bg-white/20 transition"}," Format "),a("button",{onClick:g,class:"px-3 py-1.5 text-xs font-bold uppercase bg-pink-500/20 text-pink-400 rounded-lg hover:bg-pink-500/30 transition flex items-center gap-1.5",title:"Export as standalone HTML"},[...P[4]||(P[4]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a("polyline",{points:"7 10 12 15 17 10"}),a("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),y(" Export ",-1)])])])]),a("div",HD,[Hi(a("textarea",{ref_key:"editorRef",ref:r,"onUpdate:modelValue":P[3]||(P[3]=D=>e.value=D),onInput:x,spellcheck:"false",class:"w-full h-full p-6 bg-transparent text-white font-mono text-sm leading-relaxed resize-none focus:outline-none",placeholder:'{"type": "flex", "elements": [...]}'},null,544),[[qi,e.value]]),n.value?(L(),z("div",qD,ee(n.value),1)):oe("",!0)])]),a("div",ZD,[a("div",GD,[P[7]||(P[7]=a("h2",{class:"text-xl font-bold text-white"},"Live Preview",-1)),a("div",WD,[i.value!==null?(L(),z("span",KD," Slide "+ee(i.value+1)+" / "+ee(o.value),1)):oe("",!0),a("div",JD,[a("button",{onClick:C,class:"w-8 h-8 rounded-lg bg-white/10 text-white/60 hover:bg-white/20 transition flex items-center justify-center",title:"Previous slide ()"},"  "),a("button",{onClick:O,class:"w-8 h-8 rounded-lg bg-white/10 text-white/60 hover:bg-white/20 transition flex items-center justify-center",title:"Next slide ()"},"  "),a("button",{onClick:V,class:ne(["ml-2 px-3 py-1.5 text-xs font-bold uppercase rounded-lg transition flex items-center gap-1.5",l.value?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400 hover:bg-amber-500/30"]),title:"Open Speaker Notes (S)"},[P[6]||(P[6]=a("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[a("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),a("path",{d:"M2 17l10 5 10-5"}),a("path",{d:"M2 12l10 5 10-5"})],-1)),y(" "+ee(l.value?"Notes Open":"Notes"),1)],2)])])]),a("div",QD,[P[9]||(P[9]=a("div",{id:"playground-container",class:"w-full h-full"},null,-1)),s.value?oe("",!0):(L(),z("div",YD,[...P[8]||(P[8]=[a("div",{class:"text-center"},[a("p",{class:"text-4xl mb-4"},""),a("p",{class:"text-lg font-medium"},"Enter valid JSON to see preview"),a("p",{class:"text-sm mt-2"},"Try clicking a template button above")],-1)])]))])])])]))}}),eO=Qr(XD,[["__scopeId","data-v-a77ef9f7"]]),tO={class:"min-h-screen pt-28 px-4 lg:px-8 max-w-5xl mx-auto pb-32"},nO={class:"flex justify-center mb-12"},sO={class:"flex items-center gap-2"},rO=["onClick"],iO={key:0,class:"w-8 h-0.5 bg-white/10"},oO={class:"max-w-2xl mx-auto"},aO={key:0,class:"space-y-6"},lO={class:"text-2xl font-bold text-center mb-8"},cO={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},uO=["onClick"],dO={class:"text-3xl block mb-2"},hO={class:"font-medium"},fO={key:1,class:"space-y-6"},pO={class:"text-2xl font-bold text-center mb-8"},mO={class:"grid grid-cols-2 gap-4"},gO=["onClick"],_O={class:"text-2xl mb-2 block"},yO={class:"font-bold block"},bO={class:"text-sm text-white/50"},vO={key:2,class:"space-y-6"},xO={class:"text-2xl font-bold text-center mb-8"},wO=["disabled"],TO={key:3,class:"space-y-6"},EO={class:"text-2xl font-bold text-center mb-8"},SO={class:"grid grid-cols-2 gap-4"},IO=["onClick"],AO={class:"text-2xl mb-2 block"},kO={class:"font-bold"},CO={key:4,class:"space-y-6"},PO={class:"text-2xl font-bold text-center mb-8"},RO={class:"flex items-center justify-center gap-4"},DO={class:"text-5xl font-bold w-20 text-center"},OO={class:"flex items-center justify-center gap-3 pt-4"},NO={key:5,class:"space-y-6"},VO={class:"relative"},MO={class:"p-6 rounded-xl bg-black border border-white/10 max-h-96 overflow-y-auto"},LO={class:"text-sm text-white/80 whitespace-pre-wrap font-mono"},$O={class:"flex gap-4"},zO={key:0,class:"max-w-2xl mx-auto mt-8"},FO=Ne({__name:"SitePromptBuilder",setup(t){const e=he(0),n=he(!1),s=he(""),r=["Language","Style","Topic","Audience","Slides","Done"],i=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""}],o=[{id:"minimalist",name:"Minimalist",desc:"Clean and simple",icon:""},{id:"corporate",name:"Corporate",desc:"Professional and formal",icon:""},{id:"creative",name:"Creative",desc:"Bold and expressive",icon:""},{id:"technical",name:"Technical",desc:"Data and detail focused",icon:""}],l=[{id:"investors",name:"Investors",icon:""},{id:"executives",name:"Executives",icon:""},{id:"team",name:"Team/Internal",icon:""},{id:"customers",name:"Customers",icon:""},{id:"students",name:"Students",icon:""},{id:"general",name:"General Public",icon:""}],u=he({language:"en",style:"minimalist",topic:"",audience:"general",slideCount:8,includeNotes:!0}),d=()=>{e.value<r.length-1&&e.value++},h=De(()=>{var b,C,O;const f=((b=i.find(V=>V.code===u.value.language))==null?void 0:b.name)||"English",g=((C=o.find(V=>V.id===u.value.style))==null?void 0:C.name)||"Minimalist",x=((O=l.find(V=>V.id===u.value.audience))==null?void 0:O.name)||"General";return`${s.value}

---

## USER REQUEST

**Language**: ${f}
**Style**: ${g}
**Audience**: ${x}
**Slide Count**: ${u.value.slideCount}
**Topic**: ${u.value.topic}

**Requirements**:
${u.value.includeNotes?`- **JSON Schema**: Every slide object MUST include the "notes" property.
- Include key talking points and timing in the notes.`:""}
- Follow all quality constraints defined in the system prompt.

Please generate the presentation now.`}),m=async()=>{try{await navigator.clipboard.writeText(h.value),n.value=!0,setTimeout(()=>n.value=!1,2e3)}catch(f){console.error("Failed to copy:",f)}};return fn(async()=>{try{const f="./lumina-llm-prompt.txt";console.log("Fetching system prompt from:",new URL(f,window.location.href).href);const g=await fetch(f);if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);s.value=await g.text()}catch(f){console.error("Failed to load base prompt:",f),s.value="Error loading system prompt. Please ensure 'lumina-llm-prompt.txt' is in the public folder."}}),(f,g)=>(L(),z("div",tO,[g[13]||(g[13]=a("div",{class:"text-center mb-12"},[a("h1",{class:"text-4xl lg:text-5xl font-bold mb-4"},"Prompt Builder"),a("p",{class:"text-lg text-white/60"},"Create a customized prompt for any LLM to generate Lumina slides")],-1)),a("div",nO,[a("div",sO,[(L(),z(Te,null,Ye(r,(x,b)=>(L(),z(Te,{key:b},[a("button",{onClick:C=>e.value=b,class:ne(["w-10 h-10 rounded-full font-bold text-sm transition-all",e.value===b?"bg-blue-500 text-white scale-110":e.value>b?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-white/10 text-white/40"])},ee(e.value>b?"":b+1),11,rO),b<r.length-1?(L(),z("div",iO)):oe("",!0)],64))),64))])]),a("div",oO,[e.value===0?(L(),z("div",aO,[a("h2",lO,ee(r[0]),1),a("div",cO,[(L(),z(Te,null,Ye(i,x=>a("button",{key:x.code,onClick:b=>{u.value.language=x.code,d()},class:ne(["p-6 rounded-xl border transition-all text-center hover:scale-105",u.value.language===x.code?"bg-blue-500/20 border-blue-500 text-white":"bg-white/5 border-white/10 hover:border-white/30"])},[a("span",dO,ee(x.flag),1),a("span",hO,ee(x.name),1)],10,uO)),64))])])):oe("",!0),e.value===1?(L(),z("div",fO,[a("h2",pO,ee(r[1]),1),a("div",mO,[(L(),z(Te,null,Ye(o,x=>a("button",{key:x.id,onClick:b=>{u.value.style=x.id,d()},class:ne(["p-6 rounded-xl border transition-all hover:scale-105",u.value.style===x.id?"bg-blue-500/20 border-blue-500":"bg-white/5 border-white/10 hover:border-white/30"])},[a("span",_O,ee(x.icon),1),a("span",yO,ee(x.name),1),a("span",bO,ee(x.desc),1)],10,gO)),64))])])):oe("",!0),e.value===2?(L(),z("div",vO,[a("h2",xO,ee(r[2]),1),Hi(a("textarea",{"onUpdate:modelValue":g[0]||(g[0]=x=>u.value.topic=x),rows:"4",class:"w-full p-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder-white/30 focus:outline-none focus:border-blue-500",placeholder:"Describe your presentation topic in a few sentences..."},null,512),[[qi,u.value.topic]]),a("button",{onClick:g[1]||(g[1]=x=>d()),disabled:!u.value.topic.trim(),class:"w-full py-4 rounded-xl bg-blue-500 text-white font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition"}," Continue  ",8,wO)])):oe("",!0),e.value===3?(L(),z("div",TO,[a("h2",EO,ee(r[3]),1),a("div",SO,[(L(),z(Te,null,Ye(l,x=>a("button",{key:x.id,onClick:b=>{u.value.audience=x.id,d()},class:ne(["p-6 rounded-xl border transition-all hover:scale-105",u.value.audience===x.id?"bg-blue-500/20 border-blue-500":"bg-white/5 border-white/10 hover:border-white/30"])},[a("span",AO,ee(x.icon),1),a("span",kO,ee(x.name),1)],10,IO)),64))])])):oe("",!0),e.value===4?(L(),z("div",CO,[a("h2",PO,ee(r[4]),1),a("div",RO,[a("button",{onClick:g[2]||(g[2]=x=>u.value.slideCount=Math.max(3,u.value.slideCount-1)),class:"w-12 h-12 rounded-full bg-white/10 text-xl font-bold hover:bg-white/20"},""),a("span",DO,ee(u.value.slideCount),1),a("button",{onClick:g[3]||(g[3]=x=>u.value.slideCount=Math.min(20,u.value.slideCount+1)),class:"w-12 h-12 rounded-full bg-white/10 text-xl font-bold hover:bg-white/20"},"+")]),g[9]||(g[9]=a("p",{class:"text-center text-white/40 text-sm"},"Recommended: 5-12 slides",-1)),a("div",OO,[a("button",{onClick:g[4]||(g[4]=x=>u.value.includeNotes=!u.value.includeNotes),class:ne(["relative w-12 h-6 rounded-full transition-colors duration-200 ease-in-out",u.value.includeNotes?"bg-blue-500":"bg-white/10"])},[a("span",{class:ne(["absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform duration-200",u.value.includeNotes?"translate-x-6":"translate-x-0"])},null,2)],2),a("span",{class:"text-white font-medium cursor-pointer",onClick:g[5]||(g[5]=x=>u.value.includeNotes=!u.value.includeNotes)}," Include Speaker Notes ")]),a("button",{onClick:g[6]||(g[6]=x=>d()),class:"w-full py-4 rounded-xl bg-blue-500 text-white font-bold hover:bg-blue-600 transition"}," Generate Prompt  ")])):oe("",!0),e.value===5?(L(),z("div",NO,[g[11]||(g[11]=a("h2",{class:"text-2xl font-bold text-center mb-4"},"Your Prompt is Ready!",-1)),g[12]||(g[12]=a("p",{class:"text-center text-white/60 mb-8"},"Copy and paste this into ChatGPT, Claude, or any LLM",-1)),a("div",VO,[a("div",MO,[a("pre",LO,ee(h.value),1)]),a("button",{onClick:m,class:ne(["absolute top-4 right-4 px-4 py-2 rounded-lg font-bold text-sm transition",n.value?"bg-green-500 text-white":"bg-white/10 hover:bg-white/20"])},ee(n.value?" Copied!":"Copy"),3)]),a("div",$O,[a("button",{onClick:g[7]||(g[7]=x=>e.value=0),class:"flex-1 py-4 rounded-xl bg-white/10 text-white font-bold hover:bg-white/20 transition"},"  Start Over "),g[10]||(g[10]=a("a",{href:"https://chat.openai.com",target:"_blank",class:"flex-1 py-4 rounded-xl bg-blue-500 text-white font-bold hover:bg-blue-600 transition text-center"}," Open ChatGPT  ",-1))])])):oe("",!0)]),e.value>0&&e.value<5?(L(),z("div",zO,[a("button",{onClick:g[8]||(g[8]=x=>e.value--),class:"text-white/50 hover:text-white transition"},"  Back ")])):oe("",!0)]))}}),jO={class:"min-h-screen pt-32 px-8 max-w-7xl mx-auto pb-24"},UO={key:0,class:"text-white/50 animate-pulse"},BO={key:1,class:"text-red-400"},HO={key:2,class:"space-y-24"},qO={class:"border-b border-white/10 pb-6"},ZO={class:"text-4xl font-bold text-blue-400 mb-2"},GO={key:0,class:"space-y-16"},WO={class:"flex items-baseline gap-4"},KO={class:"text-3xl font-bold text-emerald-400"},JO=["innerHTML"],QO={key:0,class:"space-y-4 my-8"},YO=["innerHTML"],XO={class:"bg-white/5 rounded-2xl border border-white/10 overflow-hidden"},e6={class:"p-8 space-y-8"},t6={class:"text-lg md:text-xl font-bold text-emerald-200 block mb-4"},n6=["innerHTML"],s6=["innerHTML"],r6={key:0,class:"space-y-2"},i6={class:"w-32 shrink-0 font-mono text-purple-300"},o6={class:"text-white/50"},a6=["innerHTML"],l6={key:1},c6={class:"grid gap-6"},u6={class:"flex items-start justify-between mb-4"},d6={class:"text-xl font-bold text-emerald-200"},h6=["innerHTML"],f6={class:"text-xs font-mono text-white/40"},p6=["innerHTML"],m6={key:0,class:"mt-6 pt-6 border-t border-white/5"},g6={class:"space-y-3"},_6={class:"font-mono text-purple-300"},y6=["innerHTML"],b6=["innerHTML"],v6={key:1,class:"space-y-12"},x6={class:"grid gap-12"},w6={class:"flex items-baseline gap-4"},T6={class:"text-2xl font-bold text-pink-300"},E6=["innerHTML"],S6={key:0,class:"space-y-4 my-6"},I6=["innerHTML"],A6={key:1,class:"bg-white/5 rounded-xl border border-white/10 overflow-hidden"},k6={class:"divide-y divide-white/5"},C6={class:"font-mono text-purple-300"},P6={key:0,class:"text-white/30"},R6=["innerHTML"],D6=["innerHTML"],O6=Ne({__name:"SiteApi",setup(t){const e=he([]),n=he(!0),s=he(null),r=(f,g)=>{var x;return(x=f.children)==null?void 0:x.some(b=>g.includes(b.kind))},i=(f,g)=>f.children?f.children.filter(x=>g.includes(x.kind)):[],o=f=>{if(!(f!=null&&f.summary))return"";const g=f.summary.map(x=>x.text).join("");return l(g)},l=f=>f?f.replace(/```([\s\S]*?)```/g,'<pre class="bg-black/50 p-4 rounded-lg my-2"><code class="text-sm">$1</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-white/10 px-1.5 py-0.5 rounded text-sm font-mono text-blue-200">$1</code>').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white">$1</strong>').replace(/\n/g,"<br>"):"",u=(f,g)=>f!=null&&f.blockTags?f.blockTags.filter(x=>x.tag===g).map(x=>x.content.map(b=>b.text).join("")):[],d=f=>{var g;return(g=e.value[0])!=null&&g.children?e.value[0].children.find(x=>x.name===f):null},h=(f,g=!1,x=0)=>{if(!f)return"void";if(x>2)return'<span class="text-white/30">...</span>';if(f.type==="intrinsic")return`<span class="text-blue-300 font-mono">${f.name}</span>`;if(f.type==="literal")return`<span class="text-green-300 font-mono">'${f.value}'</span>`;if(f.type==="reference"){const b=f.name;if(g||["SlideType","LuminaEventType","ThemeConfig","LuminaKeyBindings","LuminaUIOptions","LuminaAnimationOptions"].includes(b)){const O=d(b);if(O){if(O.kind===4194304&&O.type)return h(O.type,!1,x+1);if(O.kind===256){const V=i(O,[1024]);if(V&&V.length)return h({type:"reflection",declaration:{children:V}},!1,x+1)}}}return`<span class="text-yellow-300 font-bold border-b border-white/10 decoration-dotted cursor-help" title="Reference">${b}</span>`}return f.type==="union"?f.types.map(b=>h(b,g,x)).join('<span class="text-white/40 mx-2">|</span>'):f.type==="array"?`${h(f.elementType,g,x)}<span class="text-white/60">[]</span>`:f.type==="reflection"&&f.declaration?f.declaration.children?`{ <span class="text-white/80">${f.declaration.children.map(C=>`<span class="text-purple-300">${C.name}</span>: ${h(C.type,!1,x+1)}`).join(", ")}</span> }`:"object":"any"},m=f=>f!=null&&f.parameters?f.parameters.map(g=>`<span class="text-purple-300">${g.name}</span>: ${h(g.type)}`).join(", "):"";return fn(async()=>{try{const f=await fetch("./api-docs.json");if(!f.ok)throw console.error("Fetch failed:",f.status,f.statusText,f.url),new Error(`Docs not found (${f.status})`);const g=await f.json();g.children?e.value=[g]:e.value=[],console.log("Docs Loaded:",e.value)}catch(f){s.value=f.message}finally{n.value=!1}}),(f,g)=>(L(),z("div",jO,[g[12]||(g[12]=a("h1",{class:"text-6xl font-bold mb-12 tracking-tighter"},"API Reference",-1)),n.value?(L(),z("div",UO,"Generated docs loading...")):s.value?(L(),z("div",BO,"Failed to load API docs. "+ee(s.value),1)):(L(),z("div",HO,[(L(!0),z(Te,null,Ye(e.value,x=>(L(),z("div",{key:x.name,class:"space-y-12"},[a("div",qO,[a("h2",ZO,ee(x.name),1),g[0]||(g[0]=a("p",{class:"text-white/60"},"Module Reference",-1))]),r(x,[128])?(L(),z("div",GO,[(L(!0),z(Te,null,Ye(i(x,[128]),b=>(L(),z("div",{key:b.id,class:"space-y-6"},[a("div",WO,[a("h3",KO,ee(b.name),1),g[1]||(g[1]=a("span",{class:"px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-300 text-xs font-bold uppercase tracking-wider"},"Class",-1))]),a("div",{class:"prose prose-invert max-w-none text-white/80 text-lg leading-relaxed",innerHTML:o(b.comment)},null,8,JO),u(b.comment,"@example").length?(L(),z("div",QO,[(L(!0),z(Te,null,Ye(u(b.comment,"@example"),(C,O)=>(L(),z("div",{key:O,class:"rounded-xl overflow-hidden border border-white/10 bg-[#0A0A0A]"},[g[2]||(g[2]=a("div",{class:"px-4 py-2 bg-white/5 border-b border-white/5 text-xs font-bold text-white/40 uppercase"}," Example ",-1)),a("div",{class:"p-6 font-mono text-sm text-blue-200 whitespace-pre-wrap overflow-x-auto",innerHTML:l(C)},null,8,YO)]))),128))])):oe("",!0),a("div",XO,[g[4]||(g[4]=a("div",{class:"px-8 py-6 border-b border-white/5"},[a("h4",{class:"text-xl font-bold"},"Constructor")],-1)),a("div",e6,[(L(!0),z(Te,null,Ye(i(b,[512]),C=>(L(),z("div",{key:C.id},[a("code",t6,[y(" new "+ee(b.name)+"(",1),a("span",{innerHTML:m(C.signatures[0])},null,8,n6),g[3]||(g[3]=y(") ",-1))]),a("div",{class:"text-white/70 mb-4",innerHTML:o(C.signatures[0].comment)},null,8,s6),C.signatures[0].parameters?(L(),z("div",r6,[(L(!0),z(Te,null,Ye(C.signatures[0].parameters,O=>(L(),z("div",{key:O.id,class:"flex gap-4 text-sm"},[a("div",i6,ee(O.name)+":",1),a("div",o6,ee(h(O.type)),1),a("div",{class:"text-white/70",innerHTML:o(O.comment)},null,8,a6)]))),128))])):oe("",!0)]))),128))])]),i(b,[2048]).length?(L(),z("div",l6,[g[7]||(g[7]=a("h4",{class:"text-2xl font-bold mb-6 mt-12"},"Methods",-1)),a("div",c6,[(L(!0),z(Te,null,Ye(i(b,[2048]),C=>(L(),z("div",{key:C.id,class:"bg-white/5 p-8 rounded-2xl border border-white/10 hover:border-emerald-500/30 transition duration-300"},[a("div",u6,[a("code",d6,[y(ee(C.name)+"(",1),a("span",{innerHTML:m(C.signatures[0])},null,8,h6),g[5]||(g[5]=y(") ",-1))]),a("span",f6,"Points: "+ee(C.id),1)]),a("div",{class:"prose prose-invert max-w-none text-white/70 mb-4",innerHTML:o(C.signatures[0].comment)},null,8,p6),C.signatures[0].parameters?(L(),z("div",m6,[g[6]||(g[6]=a("h5",{class:"text-xs font-bold uppercase text-white/40 mb-3"},"Parameters",-1)),a("div",g6,[(L(!0),z(Te,null,Ye(C.signatures[0].parameters,O=>(L(),z("div",{key:O.id,class:"grid grid-cols-[120px_1fr] md:grid-cols-[150px_200px_1fr] gap-4 text-sm"},[a("div",_6,ee(O.name),1),a("div",{class:"font-mono text-white/50 truncate",innerHTML:h(O.type,!0)},null,8,y6),a("div",{class:"text-white/70",innerHTML:o(O.comment)},null,8,b6)]))),128))])])):oe("",!0)]))),128))])])):oe("",!0)]))),128))])):oe("",!0),r(x,[256])?(L(),z("div",v6,[g[11]||(g[11]=a("h3",{class:"text-3xl font-bold text-pink-400 border-b border-white/10 pb-4"},"Interfaces & Types",-1)),a("div",x6,[(L(!0),z(Te,null,Ye(i(x,[256]),b=>(L(),z("div",{key:b.id,class:"space-y-6"},[a("div",w6,[a("h4",T6,ee(b.name),1),g[8]||(g[8]=a("span",{class:"px-2 py-0.5 rounded bg-pink-500/10 text-pink-300 text-xs font-bold uppercase"},"Interface",-1))]),a("div",{class:"prose prose-invert max-w-none text-white/80",innerHTML:o(b.comment)},null,8,E6),u(b.comment,"@example").length?(L(),z("div",S6,[(L(!0),z(Te,null,Ye(u(b.comment,"@example"),(C,O)=>(L(),z("div",{key:O,class:"rounded-xl overflow-hidden border border-white/10 bg-[#0A0A0A]"},[g[9]||(g[9]=a("div",{class:"px-4 py-2 bg-white/5 border-b border-white/5 text-xs font-bold text-white/40 uppercase"}," Example Structure ",-1)),a("div",{class:"p-6 font-mono text-xs md:text-sm text-blue-200 whitespace-pre-wrap overflow-x-auto",innerHTML:l(C)},null,8,I6)]))),128))])):oe("",!0),i(b,[1024]).length?(L(),z("div",A6,[g[10]||(g[10]=a("div",{class:"grid grid-cols-[200px_1fr_1fr] gap-0 text-sm font-bold bg-white/5 border-b border-white/10 p-4 text-white/40 uppercase tracking-wider"},[a("div",null,"Property"),a("div",null,"Type"),a("div",null,"Description")],-1)),a("div",k6,[(L(!0),z(Te,null,Ye(i(b,[1024]),C=>(L(),z("div",{key:C.id,class:"grid grid-cols-[200px_1fr_1fr] gap-4 p-4 hover:bg-white/5 transition"},[a("div",C6,[y(ee(C.name),1),C.flags.isOptional?(L(),z("span",P6,"?")):oe("",!0)]),a("div",{class:"font-mono text-white/60 break-words",innerHTML:h(C.type,!0)},null,8,R6),a("div",{class:"text-white/70",innerHTML:o(C.comment)},null,8,D6)]))),128))])])):oe("",!0)]))),128))])])):oe("",!0)]))),128))]))]))}}),N6={class:"relative w-full min-h-screen bg-[#030303] text-white selection:bg-blue-500/30 overflow-x-hidden"},V6={key:0,class:"w-full"},M6=["href"],L6={class:"fixed top-6 left-1/2 -translate-x-1/2 z-[100] flex justify-center pointer-events-none"},$6={class:"px-6 py-3 rounded-full flex gap-6 pointer-events-auto bg-black/40 backdrop-blur-md border border-white/10 shadow-2xl"},z6={class:"text-white/40 text-xs font-bold uppercase tracking-widest"},F6={key:0,class:"text-blue-400 text-xs font-bold uppercase ml-2 border-l border-white/10 pl-4"},j6={key:0,class:"fixed bottom-12 text-white/30 text-sm"},U6=Ne({__name:"App",setup(t){const e=he("home"),n=he(null),s="/lumina-slides/",r=De(()=>!!n.value),i=u=>{const d=new URL(window.location.href);d.searchParams.set("page",u),d.searchParams.delete("deck"),window.history.pushState({},"",d),e.value=u},o=u=>{const d=new URL(window.location.href);d.searchParams.set("deck",u),d.searchParams.delete("page"),window.history.pushState({},"",d),n.value=u,xs(()=>{l(u)})};fn(async()=>{const u=new URLSearchParams(window.location.search),d=u.get("deck"),h=u.get("page");d?(n.value=d,await xs(),l(d)):h&&(e.value=h)});async function l(u){const h=new URLSearchParams(window.location.search).get("theme");let m,f=h||"default";try{console.log(` Loading deck: public/${u}.json ...`);const x=await fetch(`${s}${u}.json`);if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);m=await x.json(),m.theme&&!h&&(f=m.theme,console.log(` Using embedded theme: ${f}`))}catch(x){console.error("Failed to load deck:",x),alert(`Could not load 'public/${u}.json'. Check console for details.`);return}const g=new qr("#demo-container",{loop:!0,debug:!0,navigation:!0,ui:{visible:!0,showSlideCount:!0,showControls:!0,showProgressBar:!0},keys:{next:["ArrowRight"," ","Enter","k"],prev:["ArrowLeft","Backspace","j"]},animation:{enabled:!0,type:"cascade",durationIn:1.2,durationOut:.5,stagger:.15,ease:"expo.out"},theme:f});g.on("ready",x=>{console.log("Events: Deck Ready",x.meta.title)}),g.on("slideChange",x=>{console.log("Events: Slide Changed",x.index)}),g.on("action",x=>{console.log("Events: Action",x),alert(`Action Triggered: ${x.label}`)}),g.load(m),console.log(" Deck loaded successfully")}return(u,d)=>(L(),z("div",N6,[r.value?(L(),z("div",{key:1,class:ne(["w-full min-h-screen relative bg-black transition-all duration-500",n.value==="layout-embedded"?"flex items-center justify-center p-8 bg-gray-900":"h-screen"])},[a("a",{href:Qe(s)+"?page=examples",class:"fixed top-6 left-6 z-[100] px-4 py-2 rounded-full bg-black/40 border border-white/10 text-xs font-bold uppercase hover:bg-white hover:text-black transition backdrop-blur-md"},"  Exit ",8,M6),a("nav",L6,[a("div",$6,[a("span",z6,ee(n.value),1),n.value==="layout-embedded"?(L(),z("span",F6,"Widget Mode")):oe("",!0)])]),a("div",{class:ne(n.value==="layout-embedded"?"w-full max-w-lg h-[600px] rounded-2xl overflow-hidden border border-white/10 shadow-2xl relative bg-black":"w-full h-full")},[...d[1]||(d[1]=[a("div",{id:"demo-container",class:"w-full h-full"},null,-1)])],2),n.value==="layout-embedded"?(L(),z("p",j6,[...d[2]||(d[2]=[y(" The slide above is constrained to a ",-1),a("code",null,"max-w-lg h-[600px]",-1),y(" container. ",-1)])])):oe("",!0)],2)):(L(),z("div",V6,[we(ek,{"active-page":e.value,onNavigate:i},null,8,["active-page"]),e.value==="home"?(L(),dt(c5,{key:0,onNavigate:i})):oe("",!0),e.value==="examples"?(L(),dt(y5,{key:1,onSelectDeck:o})):oe("",!0),e.value==="docs"?(L(),dt($D,{key:2})):oe("",!0),e.value==="playground"?(L(),dt(eO,{key:3})):oe("",!0),e.value==="prompt-builder"?(L(),dt(FO,{key:4})):oe("",!0),e.value==="api"?(L(),dt(O6,{key:5})):oe("",!0),d[0]||(d[0]=a("footer",{class:"py-12 text-center text-white/20 border-t border-white/5 mt-auto"},[a("p",null,[y(" 2025 Lumina Engine. Created by "),a("a",{href:"https://pailletjp.com",target:"_blank",class:"hover:text-white transition-colors"},"Juan Pablo Paillet"),y(".")])],-1))]))]))}});vu(U6).mount("#app");
